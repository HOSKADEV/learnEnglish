function G0(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function K0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pd={exports:{}},Ma={},md={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Q0(){if(lg)return be;lg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function B(V,W,de){this.props=V,this.context=W,this.refs=q,this.updater=de||z}B.prototype.isReactComponent={},B.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=B.prototype;function te(V,W,de){this.props=V,this.context=W,this.refs=q,this.updater=de||z}var J=te.prototype=new ne;J.constructor=te,G(J,B.prototype),J.isPureReactComponent=!0;var Se=Array.isArray,Le=Object.prototype.hasOwnProperty,Ae={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(V,W,de){var ge,Pe={},xe=null,we=null;if(W!=null)for(ge in W.ref!==void 0&&(we=W.ref),W.key!==void 0&&(xe=""+W.key),W)Le.call(W,ge)&&!x.hasOwnProperty(ge)&&(Pe[ge]=W[ge]);var De=arguments.length-2;if(De===1)Pe.children=de;else if(1<De){for(var Be=Array(De),ft=0;ft<De;ft++)Be[ft]=arguments[ft+2];Pe.children=Be}if(V&&V.defaultProps)for(ge in De=V.defaultProps,De)Pe[ge]===void 0&&(Pe[ge]=De[ge]);return{$$typeof:r,type:V,key:xe,ref:we,props:Pe,_owner:Ae.current}}function k(V,W){return{$$typeof:r,type:V.type,key:W,ref:V.ref,props:V.props,_owner:V._owner}}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return W[de]})}var O=/\/+/g;function A(V,W){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):W.toString(36)}function We(V,W,de,ge,Pe){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(xe){case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case r:case e:we=!0}}if(we)return we=V,Pe=Pe(we),V=ge===""?"."+A(we,0):ge,Se(Pe)?(de="",V!=null&&(de=V.replace(O,"$&/")+"/"),We(Pe,W,de,"",function(ft){return ft})):Pe!=null&&(b(Pe)&&(Pe=k(Pe,de+(!Pe.key||we&&we.key===Pe.key?"":(""+Pe.key).replace(O,"$&/")+"/")+V)),W.push(Pe)),1;if(we=0,ge=ge===""?".":ge+":",Se(V))for(var De=0;De<V.length;De++){xe=V[De];var Be=ge+A(xe,De);we+=We(xe,W,de,Be,Pe)}else if(Be=C(V),typeof Be=="function")for(V=Be.call(V),De=0;!(xe=V.next()).done;)xe=xe.value,Be=ge+A(xe,De++),we+=We(xe,W,de,Be,Pe);else if(xe==="object")throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return we}function Xe(V,W,de){if(V==null)return V;var ge=[],Pe=0;return We(V,ge,"","",function(xe){return W.call(de,xe,Pe++)}),ge}function Qe(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ze={current:null},$={transition:null},pe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:$,ReactCurrentOwner:Ae};function re(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Xe,forEach:function(V,W,de){Xe(V,function(){W.apply(this,arguments)},de)},count:function(V){var W=0;return Xe(V,function(){W++}),W},toArray:function(V){return Xe(V,function(W){return W})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},be.Component=B,be.Fragment=t,be.Profiler=o,be.PureComponent=te,be.StrictMode=i,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,be.act=re,be.cloneElement=function(V,W,de){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ge=G({},V.props),Pe=V.key,xe=V.ref,we=V._owner;if(W!=null){if(W.ref!==void 0&&(xe=W.ref,we=Ae.current),W.key!==void 0&&(Pe=""+W.key),V.type&&V.type.defaultProps)var De=V.type.defaultProps;for(Be in W)Le.call(W,Be)&&!x.hasOwnProperty(Be)&&(ge[Be]=W[Be]===void 0&&De!==void 0?De[Be]:W[Be])}var Be=arguments.length-2;if(Be===1)ge.children=de;else if(1<Be){De=Array(Be);for(var ft=0;ft<Be;ft++)De[ft]=arguments[ft+2];ge.children=De}return{$$typeof:r,type:V.type,key:Pe,ref:xe,props:ge,_owner:we}},be.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},be.createElement=T,be.createFactory=function(V){var W=T.bind(null,V);return W.type=V,W},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=b,be.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:Qe}},be.memo=function(V,W){return{$$typeof:_,type:V,compare:W===void 0?null:W}},be.startTransition=function(V){var W=$.transition;$.transition={};try{V()}finally{$.transition=W}},be.unstable_act=re,be.useCallback=function(V,W){return ze.current.useCallback(V,W)},be.useContext=function(V){return ze.current.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V){return ze.current.useDeferredValue(V)},be.useEffect=function(V,W){return ze.current.useEffect(V,W)},be.useId=function(){return ze.current.useId()},be.useImperativeHandle=function(V,W,de){return ze.current.useImperativeHandle(V,W,de)},be.useInsertionEffect=function(V,W){return ze.current.useInsertionEffect(V,W)},be.useLayoutEffect=function(V,W){return ze.current.useLayoutEffect(V,W)},be.useMemo=function(V,W){return ze.current.useMemo(V,W)},be.useReducer=function(V,W,de){return ze.current.useReducer(V,W,de)},be.useRef=function(V){return ze.current.useRef(V)},be.useState=function(V){return ze.current.useState(V)},be.useSyncExternalStore=function(V,W,de){return ze.current.useSyncExternalStore(V,W,de)},be.useTransition=function(){return ze.current.useTransition()},be.version="18.3.1",be}var ug;function uf(){return ug||(ug=1,md.exports=Q0()),md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Y0(){if(cg)return Ma;cg=1;var r=uf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var E,I={},C=null,z=null;_!==void 0&&(C=""+_),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(z=g.ref);for(E in g)i.call(g,E)&&!l.hasOwnProperty(E)&&(I[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:m,key:C,ref:z,props:I,_owner:o.current}}return Ma.Fragment=t,Ma.jsx=h,Ma.jsxs=h,Ma}var hg;function X0(){return hg||(hg=1,pd.exports=Y0()),pd.exports}var R=X0(),Ou={},gd={exports:{}},en={},yd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function J0(){return dg||(dg=1,(function(r){function e($,pe){var re=$.length;$.push(pe);e:for(;0<re;){var V=re-1>>>1,W=$[V];if(0<o(W,pe))$[V]=pe,$[re]=W,re=V;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var pe=$[0],re=$.pop();if(re!==pe){$[0]=re;e:for(var V=0,W=$.length,de=W>>>1;V<de;){var ge=2*(V+1)-1,Pe=$[ge],xe=ge+1,we=$[xe];if(0>o(Pe,re))xe<W&&0>o(we,Pe)?($[V]=we,$[xe]=re,V=xe):($[V]=Pe,$[ge]=re,V=ge);else if(xe<W&&0>o(we,re))$[V]=we,$[xe]=re,V=xe;else break e}}return pe}function o($,pe){var re=$.sortIndex-pe.sortIndex;return re!==0?re:$.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],_=[],E=1,I=null,C=3,z=!1,G=!1,q=!1,B=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J($){for(var pe=t(_);pe!==null;){if(pe.callback===null)i(_);else if(pe.startTime<=$)i(_),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=t(_)}}function Se($){if(q=!1,J($),!G)if(t(g)!==null)G=!0,Qe(Le);else{var pe=t(_);pe!==null&&ze(Se,pe.startTime-$)}}function Le($,pe){G=!1,q&&(q=!1,ne(T),T=-1),z=!0;var re=C;try{for(J(pe),I=t(g);I!==null&&(!(I.expirationTime>pe)||$&&!N());){var V=I.callback;if(typeof V=="function"){I.callback=null,C=I.priorityLevel;var W=V(I.expirationTime<=pe);pe=r.unstable_now(),typeof W=="function"?I.callback=W:I===t(g)&&i(g),J(pe)}else i(g);I=t(g)}if(I!==null)var de=!0;else{var ge=t(_);ge!==null&&ze(Se,ge.startTime-pe),de=!1}return de}finally{I=null,C=re,z=!1}}var Ae=!1,x=null,T=-1,k=5,b=-1;function N(){return!(r.unstable_now()-b<k)}function O(){if(x!==null){var $=r.unstable_now();b=$;var pe=!0;try{pe=x(!0,$)}finally{pe?A():(Ae=!1,x=null)}}else Ae=!1}var A;if(typeof te=="function")A=function(){te(O)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Xe=We.port2;We.port1.onmessage=O,A=function(){Xe.postMessage(null)}}else A=function(){B(O,0)};function Qe($){x=$,Ae||(Ae=!0,A())}function ze($,pe){T=B(function(){$(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){G||z||(G=!0,Qe(Le))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function($){switch(C){case 1:case 2:case 3:var pe=3;break;default:pe=C}var re=C;C=pe;try{return $()}finally{C=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,pe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=C;C=$;try{return pe()}finally{C=re}},r.unstable_scheduleCallback=function($,pe,re){var V=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,$){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=re+W,$={id:E++,callback:pe,priorityLevel:$,startTime:re,expirationTime:W,sortIndex:-1},re>V?($.sortIndex=re,e(_,$),t(g)===null&&$===t(_)&&(q?(ne(T),T=-1):q=!0,ze(Se,re-V))):($.sortIndex=W,e(g,$),G||z||(G=!0,Qe(Le))),$},r.unstable_shouldYield=N,r.unstable_wrapCallback=function($){var pe=C;return function(){var re=C;C=pe;try{return $.apply(this,arguments)}finally{C=re}}}})(_d)),_d}var fg;function Z0(){return fg||(fg=1,yd.exports=J0()),yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function eE(){if(pg)return en;pg=1;var r=uf(),e=Z0();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function C(n){return g.call(I,n)?!0:g.call(E,n)?!1:_.test(n)?I[n]=!0:(E[n]=!0,!1)}function z(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function G(n,s,a,c){if(s===null||typeof s>"u"||z(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function q(n,s,a,c,d,f,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=f,this.removeEmptyString=v}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){B[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];B[s]=new q(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){B[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){B[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){B[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){B[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){B[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){B[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){B[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function te(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(ne,te);B[s]=new q(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(ne,te);B[s]=new q(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(ne,te);B[s]=new q(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){B[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),B.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){B[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function J(n,s,a,c){var d=B.hasOwnProperty(s)?B[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(G(s,a,d,c)&&(a=null),c||d===null?C(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var Se=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Le=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),$=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,V;function W(n){if(V===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+n}var de=!1;function ge(n,s){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){var c=j}Reflect.construct(n,[],s)}else{try{s.call()}catch(j){c=j}n.call(s.prototype)}else{try{throw Error()}catch(j){c=j}n()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var d=j.stack.split(`
`),f=c.stack.split(`
`),v=d.length-1,S=f.length-1;1<=v&&0<=S&&d[v]!==f[S];)S--;for(;1<=v&&0<=S;v--,S--)if(d[v]!==f[S]){if(v!==1||S!==1)do if(v--,S--,0>S||d[v]!==f[S]){var P=`
`+d[v].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=v&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function Pe(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=ge(n.type,!1),n;case 11:return n=ge(n.type.render,!1),n;case 1:return n=ge(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case Ae:return"Portal";case k:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case We:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case b:return(n._context.displayName||"Context")+".Provider";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xe:return s=n.displayName||null,s!==null?s:xe(n.type)||"Memo";case Qe:s=n._payload,n=n._init;try{return xe(n(s))}catch{}}return null}function we(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function De(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(n){var s=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,f.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ln(n){n._valueTracker||(n._valueTracker=ft(n))}function Fn(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Ur(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ki(n,s){var a=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function wl(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=De(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ai(n,s){s=s.checked,s!=null&&J(n,"checked",s,!1)}function Fs(n,s){Ai(n,s);var a=De(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?pt(n,s.type,a):s.hasOwnProperty("defaultValue")&&pt(n,s.type,De(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function $o(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function pt(n,s,a){(s!=="number"||Ur(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ut=Array.isArray;function kn(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+De(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Ho(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Wo(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ut(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:De(a)}}function El(n,s){var a=De(s.value),c=De(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function zr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function qo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ci(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?qo(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Br,Tl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Br.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function js(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Il=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(n){Il.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),$r[s]=$r[n]})});function Hr(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||$r.hasOwnProperty(n)&&$r[n]?(""+s).trim():s+"px"}function Ri(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Hr(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Go=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(n,s){if(s){if(Go[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Pi(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=null;function xi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fr=null,pr=null,at=null;function Ko(n){if(n=Ea(n)){if(typeof fr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Yl(s),fr(n.stateNode,n.type,s))}}function qr(n){pr?at?at.push(n):at=[n]:pr=n}function Gr(){if(pr){var n=pr,s=at;if(at=pr=null,Ko(n),s)for(n=0;n<s.length;n++)Ko(s[n])}}function Sl(n,s){return n(s)}function kl(){}var jn=!1;function Al(n,s,a){if(jn)return n(s,a);jn=!0;try{return Sl(n,s,a)}finally{jn=!1,(pr!==null||at!==null)&&(kl(),Gr())}}function Us(n,s){var a=n.stateNode;if(a===null)return null;var c=Yl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Kr=!1;if(m)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Kr=!1}function Cl(n,s,a,c,d,f,v,S,P){var j=Array.prototype.slice.call(arguments,3);try{s.apply(a,j)}catch(Q){this.onError(Q)}}var mr=!1,Un=null,Ni=!1,mn=null,Rl={onError:function(n){mr=!0,Un=n}};function Pl(n,s,a,c,d,f,v,S,P){mr=!1,Un=null,Cl.apply(Rl,arguments)}function Qo(n,s,a,c,d,f,v,S,P){if(Pl.apply(this,arguments),mr){if(mr){var j=Un;mr=!1,Un=null}else throw Error(t(198));Ni||(Ni=!0,mn=j)}}function Cn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Yo(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function xl(n){if(Cn(n)!==n)throw Error(t(188))}function Nl(n){var s=n.alternate;if(!s){if(s=Cn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return xl(d),n;if(f===c)return xl(d),s;f=f.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=f;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,c=f;break}if(S===c){v=!0,c=d,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,c=d;break}if(S===c){v=!0,c=f,a=d;break}S=S.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function bl(n){return n=Nl(n),n!==null?zs(n):null}function zs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=zs(n);if(s!==null)return s;n=n.sibling}return null}var Xo=e.unstable_scheduleCallback,bi=e.unstable_cancelCallback,Bs=e.unstable_shouldYield,gr=e.unstable_requestPaint,Je=e.unstable_now,Wc=e.unstable_getCurrentPriorityLevel,Di=e.unstable_ImmediatePriority,Jo=e.unstable_UserBlockingPriority,$s=e.unstable_NormalPriority,Zo=e.unstable_LowPriority,Vi=e.unstable_IdlePriority,Hs=null,sn=null;function Dl(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Hs,n,void 0,(n.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Ws,zn=Math.log,gn=Math.LN2;function Ws(n){return n>>>=0,n===0?32:31-(zn(n)/gn|0)|0}var Bn=64,Yr=4194304;function He(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function yr(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,f=n.pingedLanes,v=a&268435455;if(v!==0){var S=v&~d;S!==0?c=He(S):(f&=v,f!==0&&(c=He(f)))}else v=a&~d,v!==0?c=He(v):f!==0&&(c=He(f));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,f=s&-s,d>=f||d===16&&(f&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-on(s),d=1<<a,c|=n[a],s&=~d;return c}function qs(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gs(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var v=31-on(f),S=1<<v,P=d[v];P===-1?((S&a)===0||(S&c)!==0)&&(d[v]=qs(S,s)):P<=s&&(n.expiredLanes|=S),f&=~S}}function ea(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ta(){var n=Bn;return Bn<<=1,(Bn&4194240)===0&&(Bn=64),n}function na(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ks(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-on(s),n[s]=a}function qc(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-on(a),f=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~f}}function ra(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-on(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Fe=0;function $n(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var sa,Oi,ia,oa,aa,Hn=!1,Mi=[],Wn=null,qn=null,Pt=null,Qs=new Map,_r=new Map,an=[],Vl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xr(n,s){switch(n){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Qs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(s.pointerId)}}function Rn(n,s,a,c,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:f,targetContainers:[d]},s!==null&&(s=Ea(s),s!==null&&Oi(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Ol(n,s,a,c,d){switch(s){case"focusin":return Wn=Rn(Wn,n,s,a,c,d),!0;case"dragenter":return qn=Rn(qn,n,s,a,c,d),!0;case"mouseover":return Pt=Rn(Pt,n,s,a,c,d),!0;case"pointerover":var f=d.pointerId;return Qs.set(f,Rn(Qs.get(f)||null,n,s,a,c,d)),!0;case"gotpointercapture":return f=d.pointerId,_r.set(f,Rn(_r.get(f)||null,n,s,a,c,d)),!0}return!1}function Li(n){var s=Zs(n.target);if(s!==null){var a=Cn(s);if(a!==null){if(s=a.tag,s===13){if(s=Yo(a),s!==null){n.blockedOn=s,aa(n.priority,function(){ia(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ke(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Fi(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Wr=c,a.target.dispatchEvent(c),Wr=null}else return s=Ea(a),s!==null&&Oi(s),n.blockedOn=a,!1;s.shift()}return!0}function Ml(n,s,a){Ke(n)&&a.delete(s)}function Gc(){Hn=!1,Wn!==null&&Ke(Wn)&&(Wn=null),qn!==null&&Ke(qn)&&(qn=null),Pt!==null&&Ke(Pt)&&(Pt=null),Qs.forEach(Ml),_r.forEach(Ml)}function Jr(n,s){n.blockedOn===s&&(n.blockedOn=null,Hn||(Hn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gc)))}function Zr(n){function s(d){return Jr(d,n)}if(0<Mi.length){Jr(Mi[0],n);for(var a=1;a<Mi.length;a++){var c=Mi[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Wn!==null&&Jr(Wn,n),qn!==null&&Jr(qn,n),Pt!==null&&Jr(Pt,n),Qs.forEach(s),_r.forEach(s),a=0;a<an.length;a++)c=an[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<an.length&&(a=an[0],a.blockedOn===null);)Li(a),a.blockedOn===null&&an.shift()}var vr=Se.ReactCurrentBatchConfig,wr=!0;function Gn(n,s,a,c){var d=Fe,f=vr.transition;vr.transition=null;try{Fe=1,la(n,s,a,c)}finally{Fe=d,vr.transition=f}}function Ll(n,s,a,c){var d=Fe,f=vr.transition;vr.transition=null;try{Fe=4,la(n,s,a,c)}finally{Fe=d,vr.transition=f}}function la(n,s,a,c){if(wr){var d=Fi(n,s,a,c);if(d===null)sh(n,s,c,Kn,a),Xr(n,c);else if(Ol(d,n,s,a,c))c.stopPropagation();else if(Xr(n,c),s&4&&-1<Vl.indexOf(n)){for(;d!==null;){var f=Ea(d);if(f!==null&&sa(f),f=Fi(n,s,a,c),f===null&&sh(n,s,c,Kn,a),f===d)break;d=f}d!==null&&c.stopPropagation()}else sh(n,s,c,null,a)}}var Kn=null;function Fi(n,s,a,c){if(Kn=null,n=xi(c),n=Zs(n),n!==null)if(s=Cn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Yo(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Kn=n,null}function ji(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wc()){case Di:return 1;case Jo:return 4;case $s:case Zo:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var ln=null,Ui=null,Er=null;function Fl(){if(Er)return Er;var n,s=Ui,a=s.length,c,d="value"in ln?ln.value:ln.textContent,f=d.length;for(n=0;n<a&&s[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&s[a-c]===d[f-c];c++);return Er=d.slice(n,1<c?1-c:void 0)}function Ys(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Qn(){return!0}function ua(){return!1}function Lt(n){function s(a,c,d,f,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:ua,this.isPropagationStopped=ua,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),s}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Lt(Yn),es=re({},Yn,{view:0,detail:0}),zi=Lt(es),Bi,$i,un,Js=re({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==un&&(un&&n.type==="mousemove"?(Bi=n.screenX-un.screenX,$i=n.screenY-un.screenY):$i=Bi=0,un=n),Bi)},movementY:function(n){return"movementY"in n?n.movementY:$i}}),ca=Lt(Js),jl=re({},Js,{dataTransfer:0}),Ul=Lt(jl),Hi=re({},es,{relatedTarget:0}),xt=Lt(Hi),zl=re({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bl=Lt(zl),ts=re({},Yn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Lt(ts),p=re({},Yn,{data:0}),y=Lt(p),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ee(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=U[n])?!!s[n]:!1}function Ce(){return ee}var ct=re({},es,{key:function(n){if(n.key){var s=w[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?L[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ge=Lt(ct),mt=re({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cn=Lt(mt),Tr=re({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),Xn=Lt(Tr),Jn=re({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wi=Lt(Jn),ha=re({},Js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=Lt(ha),Bw=[9,13,27,32],Kc=m&&"CompositionEvent"in window,da=null;m&&"documentMode"in document&&(da=document.documentMode);var $w=m&&"TextEvent"in window&&!da,ep=m&&(!Kc||da&&8<da&&11>=da),tp=" ",np=!1;function rp(n,s){switch(n){case"keyup":return Bw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qi=!1;function Hw(n,s){switch(n){case"compositionend":return sp(s);case"keypress":return s.which!==32?null:(np=!0,tp);case"textInput":return n=s.data,n===tp&&np?null:n;default:return null}}function Ww(n,s){if(qi)return n==="compositionend"||!Kc&&rp(n,s)?(n=Fl(),Er=Ui=ln=null,qi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ep&&s.locale!=="ko"?null:s.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qw[n.type]:s==="textarea"}function op(n,s,a,c){qr(c),s=Gl(s,"onChange"),0<s.length&&(a=new Xs("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var fa=null,pa=null;function Gw(n){Sp(n,0)}function $l(n){var s=Xi(n);if(Fn(s))return n}function Kw(n,s){if(n==="change")return s}var ap=!1;if(m){var Qc;if(m){var Yc="oninput"in document;if(!Yc){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Yc=typeof lp.oninput=="function"}Qc=Yc}else Qc=!1;ap=Qc&&(!document.documentMode||9<document.documentMode)}function up(){fa&&(fa.detachEvent("onpropertychange",cp),pa=fa=null)}function cp(n){if(n.propertyName==="value"&&$l(pa)){var s=[];op(s,pa,n,xi(n)),Al(Gw,s)}}function Qw(n,s,a){n==="focusin"?(up(),fa=s,pa=a,fa.attachEvent("onpropertychange",cp)):n==="focusout"&&up()}function Yw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $l(pa)}function Xw(n,s){if(n==="click")return $l(s)}function Jw(n,s){if(n==="input"||n==="change")return $l(s)}function Zw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Pn=typeof Object.is=="function"?Object.is:Zw;function ma(n,s){if(Pn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(s,d)||!Pn(n[d],s[d]))return!1}return!0}function hp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dp(n,s){var a=hp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hp(a)}}function fp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?fp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function pp(){for(var n=window,s=Ur();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ur(n.document)}return s}function Xc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function e0(n){var s=pp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&fp(a.ownerDocument.documentElement,a)){if(c!==null&&Xc(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,f=Math.min(c.start,d);c=c.end===void 0?f:Math.min(c.end,d),!n.extend&&f>c&&(d=c,c=f,f=d),d=dp(a,f);var v=dp(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),f>c?(n.addRange(s),n.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var t0=m&&"documentMode"in document&&11>=document.documentMode,Gi=null,Jc=null,ga=null,Zc=!1;function mp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zc||Gi==null||Gi!==Ur(c)||(c=Gi,"selectionStart"in c&&Xc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ga&&ma(ga,c)||(ga=c,c=Gl(Jc,"onSelect"),0<c.length&&(s=new Xs("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Gi)))}function Hl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ki={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},eh={},gp={};m&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Wl(n){if(eh[n])return eh[n];if(!Ki[n])return n;var s=Ki[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in gp)return eh[n]=s[a];return n}var yp=Wl("animationend"),_p=Wl("animationiteration"),vp=Wl("animationstart"),wp=Wl("transitionend"),Ep=new Map,Tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(n,s){Ep.set(n,s),l(s,[n])}for(var th=0;th<Tp.length;th++){var nh=Tp[th],n0=nh.toLowerCase(),r0=nh[0].toUpperCase()+nh.slice(1);ns(n0,"on"+r0)}ns(yp,"onAnimationEnd"),ns(_p,"onAnimationIteration"),ns(vp,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(wp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function Ip(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Qo(c,s,void 0,n),n.currentTarget=null}function Sp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var f=void 0;if(s)for(var v=c.length-1;0<=v;v--){var S=c[v],P=S.instance,j=S.currentTarget;if(S=S.listener,P!==f&&d.isPropagationStopped())break e;Ip(d,S,j),f=P}else for(v=0;v<c.length;v++){if(S=c[v],P=S.instance,j=S.currentTarget,S=S.listener,P!==f&&d.isPropagationStopped())break e;Ip(d,S,j),f=P}}}if(Ni)throw n=mn,Ni=!1,mn=null,n}function Ze(n,s){var a=s[ch];a===void 0&&(a=s[ch]=new Set);var c=n+"__bubble";a.has(c)||(kp(s,n,2,!1),a.add(c))}function rh(n,s,a){var c=0;s&&(c|=4),kp(a,n,c,s)}var ql="_reactListening"+Math.random().toString(36).slice(2);function _a(n){if(!n[ql]){n[ql]=!0,i.forEach(function(a){a!=="selectionchange"&&(s0.has(a)||rh(a,!1,n),rh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ql]||(s[ql]=!0,rh("selectionchange",!1,s))}}function kp(n,s,a,c){switch(ji(s)){case 1:var d=Gn;break;case 4:d=Ll;break;default:d=la}a=d.bind(null,s,a,n),d=void 0,!Kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function sh(n,s,a,c,d){var f=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;v=v.return}for(;S!==null;){if(v=Zs(S),v===null)return;if(P=v.tag,P===5||P===6){c=f=v;continue e}S=S.parentNode}}c=c.return}Al(function(){var j=f,Q=xi(a),X=[];e:{var K=Ep.get(n);if(K!==void 0){var se=Xs,ae=n;switch(n){case"keypress":if(Ys(a)===0)break e;case"keydown":case"keyup":se=Ge;break;case"focusin":ae="focus",se=xt;break;case"focusout":ae="blur",se=xt;break;case"beforeblur":case"afterblur":se=xt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Xn;break;case yp:case _p:case vp:se=Bl;break;case wp:se=Wi;break;case"scroll":se=zi;break;case"wheel":se=zw;break;case"copy":case"cut":case"paste":se=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=cn}var ce=(s&4)!==0,ht=!ce&&n==="scroll",M=ce?K!==null?K+"Capture":null:K;ce=[];for(var D=j,F;D!==null;){F=D;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,M!==null&&(Z=Us(D,M),Z!=null&&ce.push(va(D,Z,F)))),ht)break;D=D.return}0<ce.length&&(K=new se(K,ae,null,a,Q),X.push({event:K,listeners:ce}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",K&&a!==Wr&&(ae=a.relatedTarget||a.fromElement)&&(Zs(ae)||ae[Ir]))break e;if((se||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,se?(ae=a.relatedTarget||a.toElement,se=j,ae=ae?Zs(ae):null,ae!==null&&(ht=Cn(ae),ae!==ht||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(se=null,ae=j),se!==ae)){if(ce=ca,Z="onMouseLeave",M="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ce=cn,Z="onPointerLeave",M="onPointerEnter",D="pointer"),ht=se==null?K:Xi(se),F=ae==null?K:Xi(ae),K=new ce(Z,D+"leave",se,a,Q),K.target=ht,K.relatedTarget=F,Z=null,Zs(Q)===j&&(ce=new ce(M,D+"enter",ae,a,Q),ce.target=F,ce.relatedTarget=ht,Z=ce),ht=Z,se&&ae)t:{for(ce=se,M=ae,D=0,F=ce;F;F=Qi(F))D++;for(F=0,Z=M;Z;Z=Qi(Z))F++;for(;0<D-F;)ce=Qi(ce),D--;for(;0<F-D;)M=Qi(M),F--;for(;D--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=Qi(ce),M=Qi(M)}ce=null}else ce=null;se!==null&&Ap(X,K,se,ce,!1),ae!==null&&ht!==null&&Ap(X,ht,ae,ce,!0)}}e:{if(K=j?Xi(j):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var he=Kw;else if(ip(K))if(ap)he=Jw;else{he=Yw;var ye=Qw}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(he=Xw);if(he&&(he=he(n,j))){op(X,he,a,Q);break e}ye&&ye(n,K,j),n==="focusout"&&(ye=K._wrapperState)&&ye.controlled&&K.type==="number"&&pt(K,"number",K.value)}switch(ye=j?Xi(j):window,n){case"focusin":(ip(ye)||ye.contentEditable==="true")&&(Gi=ye,Jc=j,ga=null);break;case"focusout":ga=Jc=Gi=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,mp(X,a,Q);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":mp(X,a,Q)}var _e;if(Kc)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else qi?rp(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(ep&&a.locale!=="ko"&&(qi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&qi&&(_e=Fl()):(ln=Q,Ui="value"in ln?ln.value:ln.textContent,qi=!0)),ye=Gl(j,Ie),0<ye.length&&(Ie=new y(Ie,n,null,a,Q),X.push({event:Ie,listeners:ye}),_e?Ie.data=_e:(_e=sp(a),_e!==null&&(Ie.data=_e)))),(_e=$w?Hw(n,a):Ww(n,a))&&(j=Gl(j,"onBeforeInput"),0<j.length&&(Q=new y("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:j}),Q.data=_e))}Sp(X,s)})}function va(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Gl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Us(n,a),f!=null&&c.unshift(va(n,f,d)),f=Us(n,s),f!=null&&c.push(va(n,f,d))),n=n.return}return c}function Qi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ap(n,s,a,c,d){for(var f=s._reactName,v=[];a!==null&&a!==c;){var S=a,P=S.alternate,j=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&j!==null&&(S=j,d?(P=Us(a,f),P!=null&&v.unshift(va(a,P,S))):d||(P=Us(a,f),P!=null&&v.push(va(a,P,S)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var i0=/\r\n?/g,o0=/\u0000|\uFFFD/g;function Cp(n){return(typeof n=="string"?n:""+n).replace(i0,`
`).replace(o0,"")}function Kl(n,s,a){if(s=Cp(s),Cp(n)!==s&&a)throw Error(t(425))}function Ql(){}var ih=null,oh=null;function ah(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(n){return Rp.resolve(null).then(n).catch(u0)}:lh;function u0(n){setTimeout(function(){throw n})}function uh(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Zr(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Zr(s)}function rs(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Pp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Yi,wa="__reactProps$"+Yi,Ir="__reactContainer$"+Yi,ch="__reactEvents$"+Yi,c0="__reactListeners$"+Yi,h0="__reactHandles$"+Yi;function Zs(n){var s=n[Zn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ir]||a[Zn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Pp(n);n!==null;){if(a=n[Zn])return a;n=Pp(n)}return s}n=a,a=n.parentNode}return null}function Ea(n){return n=n[Zn]||n[Ir],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Yl(n){return n[wa]||null}var hh=[],Ji=-1;function ss(n){return{current:n}}function et(n){0>Ji||(n.current=hh[Ji],hh[Ji]=null,Ji--)}function Ye(n,s){Ji++,hh[Ji]=n.current,n.current=s}var is={},Ft=ss(is),Qt=ss(!1),ei=is;function Zi(n,s){var a=n.type.contextTypes;if(!a)return is;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=s[f];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(n){return n=n.childContextTypes,n!=null}function Xl(){et(Qt),et(Ft)}function xp(n,s,a){if(Ft.current!==is)throw Error(t(168));Ye(Ft,s),Ye(Qt,a)}function Np(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,we(n)||"Unknown",d));return re({},a,c)}function Jl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||is,ei=Ft.current,Ye(Ft,n),Ye(Qt,Qt.current),!0}function bp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Np(n,s,ei),c.__reactInternalMemoizedMergedChildContext=n,et(Qt),et(Ft),Ye(Ft,n)):et(Qt),Ye(Qt,a)}var Sr=null,Zl=!1,dh=!1;function Dp(n){Sr===null?Sr=[n]:Sr.push(n)}function d0(n){Zl=!0,Dp(n)}function os(){if(!dh&&Sr!==null){dh=!0;var n=0,s=Fe;try{var a=Sr;for(Fe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Sr=null,Zl=!1}catch(d){throw Sr!==null&&(Sr=Sr.slice(n+1)),Xo(Di,os),d}finally{Fe=s,dh=!1}}return null}var eo=[],to=0,eu=null,tu=0,yn=[],_n=0,ti=null,kr=1,Ar="";function ni(n,s){eo[to++]=tu,eo[to++]=eu,eu=n,tu=s}function Vp(n,s,a){yn[_n++]=kr,yn[_n++]=Ar,yn[_n++]=ti,ti=n;var c=kr;n=Ar;var d=32-on(c)-1;c&=~(1<<d),a+=1;var f=32-on(s)+d;if(30<f){var v=d-d%5;f=(c&(1<<v)-1).toString(32),c>>=v,d-=v,kr=1<<32-on(s)+d|a<<d|c,Ar=f+n}else kr=1<<f|a<<d|c,Ar=n}function fh(n){n.return!==null&&(ni(n,1),Vp(n,1,0))}function ph(n){for(;n===eu;)eu=eo[--to],eo[to]=null,tu=eo[--to],eo[to]=null;for(;n===ti;)ti=yn[--_n],yn[_n]=null,Ar=yn[--_n],yn[_n]=null,kr=yn[--_n],yn[_n]=null}var hn=null,dn=null,nt=!1,xn=null;function Op(n,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Mp(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,hn=n,dn=rs(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,hn=n,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ti!==null?{id:kr,overflow:Ar}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,hn=n,dn=null,!0):!1;default:return!1}}function mh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gh(n){if(nt){var s=dn;if(s){var a=s;if(!Mp(n,s)){if(mh(n))throw Error(t(418));s=rs(a.nextSibling);var c=hn;s&&Mp(n,s)?Op(c,a):(n.flags=n.flags&-4097|2,nt=!1,hn=n)}}else{if(mh(n))throw Error(t(418));n.flags=n.flags&-4097|2,nt=!1,hn=n}}}function Lp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hn=n}function nu(n){if(n!==hn)return!1;if(!nt)return Lp(n),nt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!ah(n.type,n.memoizedProps)),s&&(s=dn)){if(mh(n))throw Fp(),Error(t(418));for(;s;)Op(n,s),s=rs(s.nextSibling)}if(Lp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){dn=rs(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}dn=null}}else dn=hn?rs(n.stateNode.nextSibling):null;return!0}function Fp(){for(var n=dn;n;)n=rs(n.nextSibling)}function no(){dn=hn=null,nt=!1}function yh(n){xn===null?xn=[n]:xn.push(n)}var f0=Se.ReactCurrentBatchConfig;function Ta(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,f=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===f?s.ref:(s=function(v){var S=d.refs;v===null?delete S[f]:S[f]=v},s._stringRef=f,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ru(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function jp(n){var s=n._init;return s(n._payload)}function Up(n){function s(M,D){if(n){var F=M.deletions;F===null?(M.deletions=[D],M.flags|=16):F.push(D)}}function a(M,D){if(!n)return null;for(;D!==null;)s(M,D),D=D.sibling;return null}function c(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function d(M,D){return M=ps(M,D),M.index=0,M.sibling=null,M}function f(M,D,F){return M.index=F,n?(F=M.alternate,F!==null?(F=F.index,F<D?(M.flags|=2,D):F):(M.flags|=2,D)):(M.flags|=1048576,D)}function v(M){return n&&M.alternate===null&&(M.flags|=2),M}function S(M,D,F,Z){return D===null||D.tag!==6?(D=ld(F,M.mode,Z),D.return=M,D):(D=d(D,F),D.return=M,D)}function P(M,D,F,Z){var he=F.type;return he===x?Q(M,D,F.props.children,Z,F.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Qe&&jp(he)===D.type)?(Z=d(D,F.props),Z.ref=Ta(M,D,F),Z.return=M,Z):(Z=Cu(F.type,F.key,F.props,null,M.mode,Z),Z.ref=Ta(M,D,F),Z.return=M,Z)}function j(M,D,F,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=ud(F,M.mode,Z),D.return=M,D):(D=d(D,F.children||[]),D.return=M,D)}function Q(M,D,F,Z,he){return D===null||D.tag!==7?(D=ci(F,M.mode,Z,he),D.return=M,D):(D=d(D,F),D.return=M,D)}function X(M,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ld(""+D,M.mode,F),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Le:return F=Cu(D.type,D.key,D.props,null,M.mode,F),F.ref=Ta(M,null,D),F.return=M,F;case Ae:return D=ud(D,M.mode,F),D.return=M,D;case Qe:var Z=D._init;return X(M,Z(D._payload),F)}if(ut(D)||pe(D))return D=ci(D,M.mode,F,null),D.return=M,D;ru(M,D)}return null}function K(M,D,F,Z){var he=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return he!==null?null:S(M,D,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Le:return F.key===he?P(M,D,F,Z):null;case Ae:return F.key===he?j(M,D,F,Z):null;case Qe:return he=F._init,K(M,D,he(F._payload),Z)}if(ut(F)||pe(F))return he!==null?null:Q(M,D,F,Z,null);ru(M,F)}return null}function se(M,D,F,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(F)||null,S(D,M,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Le:return M=M.get(Z.key===null?F:Z.key)||null,P(D,M,Z,he);case Ae:return M=M.get(Z.key===null?F:Z.key)||null,j(D,M,Z,he);case Qe:var ye=Z._init;return se(M,D,F,ye(Z._payload),he)}if(ut(Z)||pe(Z))return M=M.get(F)||null,Q(D,M,Z,he,null);ru(D,Z)}return null}function ae(M,D,F,Z){for(var he=null,ye=null,_e=D,Ie=D=0,Ct=null;_e!==null&&Ie<F.length;Ie++){_e.index>Ie?(Ct=_e,_e=null):Ct=_e.sibling;var $e=K(M,_e,F[Ie],Z);if($e===null){_e===null&&(_e=Ct);break}n&&_e&&$e.alternate===null&&s(M,_e),D=f($e,D,Ie),ye===null?he=$e:ye.sibling=$e,ye=$e,_e=Ct}if(Ie===F.length)return a(M,_e),nt&&ni(M,Ie),he;if(_e===null){for(;Ie<F.length;Ie++)_e=X(M,F[Ie],Z),_e!==null&&(D=f(_e,D,Ie),ye===null?he=_e:ye.sibling=_e,ye=_e);return nt&&ni(M,Ie),he}for(_e=c(M,_e);Ie<F.length;Ie++)Ct=se(_e,M,Ie,F[Ie],Z),Ct!==null&&(n&&Ct.alternate!==null&&_e.delete(Ct.key===null?Ie:Ct.key),D=f(Ct,D,Ie),ye===null?he=Ct:ye.sibling=Ct,ye=Ct);return n&&_e.forEach(function(ms){return s(M,ms)}),nt&&ni(M,Ie),he}function ce(M,D,F,Z){var he=pe(F);if(typeof he!="function")throw Error(t(150));if(F=he.call(F),F==null)throw Error(t(151));for(var ye=he=null,_e=D,Ie=D=0,Ct=null,$e=F.next();_e!==null&&!$e.done;Ie++,$e=F.next()){_e.index>Ie?(Ct=_e,_e=null):Ct=_e.sibling;var ms=K(M,_e,$e.value,Z);if(ms===null){_e===null&&(_e=Ct);break}n&&_e&&ms.alternate===null&&s(M,_e),D=f(ms,D,Ie),ye===null?he=ms:ye.sibling=ms,ye=ms,_e=Ct}if($e.done)return a(M,_e),nt&&ni(M,Ie),he;if(_e===null){for(;!$e.done;Ie++,$e=F.next())$e=X(M,$e.value,Z),$e!==null&&(D=f($e,D,Ie),ye===null?he=$e:ye.sibling=$e,ye=$e);return nt&&ni(M,Ie),he}for(_e=c(M,_e);!$e.done;Ie++,$e=F.next())$e=se(_e,M,Ie,$e.value,Z),$e!==null&&(n&&$e.alternate!==null&&_e.delete($e.key===null?Ie:$e.key),D=f($e,D,Ie),ye===null?he=$e:ye.sibling=$e,ye=$e);return n&&_e.forEach(function(q0){return s(M,q0)}),nt&&ni(M,Ie),he}function ht(M,D,F,Z){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Le:e:{for(var he=F.key,ye=D;ye!==null;){if(ye.key===he){if(he=F.type,he===x){if(ye.tag===7){a(M,ye.sibling),D=d(ye,F.props.children),D.return=M,M=D;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Qe&&jp(he)===ye.type){a(M,ye.sibling),D=d(ye,F.props),D.ref=Ta(M,ye,F),D.return=M,M=D;break e}a(M,ye);break}else s(M,ye);ye=ye.sibling}F.type===x?(D=ci(F.props.children,M.mode,Z,F.key),D.return=M,M=D):(Z=Cu(F.type,F.key,F.props,null,M.mode,Z),Z.ref=Ta(M,D,F),Z.return=M,M=Z)}return v(M);case Ae:e:{for(ye=F.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){a(M,D.sibling),D=d(D,F.children||[]),D.return=M,M=D;break e}else{a(M,D);break}else s(M,D);D=D.sibling}D=ud(F,M.mode,Z),D.return=M,M=D}return v(M);case Qe:return ye=F._init,ht(M,D,ye(F._payload),Z)}if(ut(F))return ae(M,D,F,Z);if(pe(F))return ce(M,D,F,Z);ru(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(a(M,D.sibling),D=d(D,F),D.return=M,M=D):(a(M,D),D=ld(F,M.mode,Z),D.return=M,M=D),v(M)):a(M,D)}return ht}var ro=Up(!0),zp=Up(!1),su=ss(null),iu=null,so=null,_h=null;function vh(){_h=so=iu=null}function wh(n){var s=su.current;et(su),n._currentValue=s}function Eh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function io(n,s){iu=n,_h=so=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Xt=!0),n.firstContext=null)}function vn(n){var s=n._currentValue;if(_h!==n)if(n={context:n,memoizedValue:s,next:null},so===null){if(iu===null)throw Error(t(308));so=n,iu.dependencies={lanes:0,firstContext:n}}else so=so.next=n;return s}var ri=null;function Th(n){ri===null?ri=[n]:ri.push(n)}function Bp(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Th(s)):(a.next=d.next,d.next=a),s.interleaved=a,Cr(n,c)}function Cr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var as=!1;function Ih(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ls(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Cr(n,a)}return d=c.interleaved,d===null?(s.next=s,Th(c)):(s.next=d.next,d.next=s),c.interleaved=s,Cr(n,a)}function ou(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ra(n,a)}}function Hp(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=s:f=f.next=s}else d=f=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function au(n,s,a,c){var d=n.updateQueue;as=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,j=P.next;P.next=null,v===null?f=j:v.next=j,v=P;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=j:S.next=j,Q.lastBaseUpdate=P))}if(f!==null){var X=d.baseState;v=0,Q=j=P=null,S=f;do{var K=S.lane,se=S.eventTime;if((c&K)===K){Q!==null&&(Q=Q.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=n,ce=S;switch(K=s,se=a,ce.tag){case 1:if(ae=ce.payload,typeof ae=="function"){X=ae.call(se,X,K);break e}X=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ce.payload,K=typeof ae=="function"?ae.call(se,X,K):ae,K==null)break e;X=re({},X,K);break e;case 2:as=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,K=d.effects,K===null?d.effects=[S]:K.push(S))}else se={eventTime:se,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(j=Q=se,P=X):Q=Q.next=se,v|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(Q===null&&(P=X),d.baseState=P,d.firstBaseUpdate=j,d.lastBaseUpdate=Q,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else f===null&&(d.shared.lanes=0);oi|=v,n.lanes=v,n.memoizedState=X}}function Wp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ia={},er=ss(Ia),Sa=ss(Ia),ka=ss(Ia);function si(n){if(n===Ia)throw Error(t(174));return n}function Sh(n,s){switch(Ye(ka,s),Ye(Sa,n),Ye(er,Ia),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ci(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ci(s,n)}et(er),Ye(er,s)}function oo(){et(er),et(Sa),et(ka)}function qp(n){si(ka.current);var s=si(er.current),a=Ci(s,n.type);s!==a&&(Ye(Sa,n),Ye(er,a))}function kh(n){Sa.current===n&&(et(er),et(Sa))}var rt=ss(0);function lu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ah=[];function Ch(){for(var n=0;n<Ah.length;n++)Ah[n]._workInProgressVersionPrimary=null;Ah.length=0}var uu=Se.ReactCurrentDispatcher,Rh=Se.ReactCurrentBatchConfig,ii=0,st=null,vt=null,kt=null,cu=!1,Aa=!1,Ca=0,p0=0;function jt(){throw Error(t(321))}function Ph(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Pn(n[a],s[a]))return!1;return!0}function xh(n,s,a,c,d,f){if(ii=f,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,uu.current=n===null||n.memoizedState===null?_0:v0,n=a(c,d),Aa){f=0;do{if(Aa=!1,Ca=0,25<=f)throw Error(t(301));f+=1,kt=vt=null,s.updateQueue=null,uu.current=w0,n=a(c,d)}while(Aa)}if(uu.current=fu,s=vt!==null&&vt.next!==null,ii=0,kt=vt=st=null,cu=!1,s)throw Error(t(300));return n}function Nh(){var n=Ca!==0;return Ca=0,n}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?st.memoizedState=kt=n:kt=kt.next=n,kt}function wn(){if(vt===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var s=kt===null?st.memoizedState:kt.next;if(s!==null)kt=s,vt=n;else{if(n===null)throw Error(t(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},kt===null?st.memoizedState=kt=n:kt=kt.next=n}return kt}function Ra(n,s){return typeof s=="function"?s(n):s}function bh(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=vt,d=c.baseQueue,f=a.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}c.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,c=c.baseState;var S=v=null,P=null,j=f;do{var Q=j.lane;if((ii&Q)===Q)P!==null&&(P=P.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:n(c,j.action);else{var X={lane:Q,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};P===null?(S=P=X,v=c):P=P.next=X,st.lanes|=Q,oi|=Q}j=j.next}while(j!==null&&j!==f);P===null?v=c:P.next=S,Pn(c,s.memoizedState)||(Xt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do f=d.lane,st.lanes|=f,oi|=f,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Dh(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,f=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=n(f,v.action),v=v.next;while(v!==d);Pn(f,s.memoizedState)||(Xt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,c]}function Gp(){}function Kp(n,s){var a=st,c=wn(),d=s(),f=!Pn(c.memoizedState,d);if(f&&(c.memoizedState=d,Xt=!0),c=c.queue,Vh(Xp.bind(null,a,c,n),[n]),c.getSnapshot!==s||f||kt!==null&&kt.memoizedState.tag&1){if(a.flags|=2048,Pa(9,Yp.bind(null,a,c,d,s),void 0,null),At===null)throw Error(t(349));(ii&30)!==0||Qp(a,s,d)}return d}function Qp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Yp(n,s,a,c){s.value=a,s.getSnapshot=c,Jp(s)&&Zp(n)}function Xp(n,s,a){return a(function(){Jp(s)&&Zp(n)})}function Jp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Pn(n,a)}catch{return!0}}function Zp(n){var s=Cr(n,1);s!==null&&Vn(s,n,1,-1)}function em(n){var s=tr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:n},s.queue=n,n=n.dispatch=y0.bind(null,st,n),[s.memoizedState,n]}function Pa(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function tm(){return wn().memoizedState}function hu(n,s,a,c){var d=tr();st.flags|=n,d.memoizedState=Pa(1|s,a,void 0,c===void 0?null:c)}function du(n,s,a,c){var d=wn();c=c===void 0?null:c;var f=void 0;if(vt!==null){var v=vt.memoizedState;if(f=v.destroy,c!==null&&Ph(c,v.deps)){d.memoizedState=Pa(s,a,f,c);return}}st.flags|=n,d.memoizedState=Pa(1|s,a,f,c)}function nm(n,s){return hu(8390656,8,n,s)}function Vh(n,s){return du(2048,8,n,s)}function rm(n,s){return du(4,2,n,s)}function sm(n,s){return du(4,4,n,s)}function im(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function om(n,s,a){return a=a!=null?a.concat([n]):null,du(4,4,im.bind(null,s,n),a)}function Oh(){}function am(n,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Ph(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function lm(n,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Ph(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function um(n,s,a){return(ii&21)===0?(n.baseState&&(n.baseState=!1,Xt=!0),n.memoizedState=a):(Pn(a,s)||(a=ta(),st.lanes|=a,oi|=a,n.baseState=!0),s)}function m0(n,s){var a=Fe;Fe=a!==0&&4>a?a:4,n(!0);var c=Rh.transition;Rh.transition={};try{n(!1),s()}finally{Fe=a,Rh.transition=c}}function cm(){return wn().memoizedState}function g0(n,s,a){var c=ds(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},hm(n))dm(s,a);else if(a=Bp(n,s,a,c),a!==null){var d=Gt();Vn(a,n,c,d),fm(a,s,c)}}function y0(n,s,a){var c=ds(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(hm(n))dm(s,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var v=s.lastRenderedState,S=f(v,a);if(d.hasEagerState=!0,d.eagerState=S,Pn(S,v)){var P=s.interleaved;P===null?(d.next=d,Th(s)):(d.next=P.next,P.next=d),s.interleaved=d;return}}catch{}finally{}a=Bp(n,s,d,c),a!==null&&(d=Gt(),Vn(a,n,c,d),fm(a,s,c))}}function hm(n){var s=n.alternate;return n===st||s!==null&&s===st}function dm(n,s){Aa=cu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function fm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ra(n,a)}}var fu={readContext:vn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},_0={readContext:vn,useCallback:function(n,s){return tr().memoizedState=[n,s===void 0?null:s],n},useContext:vn,useEffect:nm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,hu(4194308,4,im.bind(null,s,n),a)},useLayoutEffect:function(n,s){return hu(4194308,4,n,s)},useInsertionEffect:function(n,s){return hu(4,2,n,s)},useMemo:function(n,s){var a=tr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=tr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=g0.bind(null,st,n),[c.memoizedState,n]},useRef:function(n){var s=tr();return n={current:n},s.memoizedState=n},useState:em,useDebugValue:Oh,useDeferredValue:function(n){return tr().memoizedState=n},useTransition:function(){var n=em(!1),s=n[0];return n=m0.bind(null,n[1]),tr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=st,d=tr();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),At===null)throw Error(t(349));(ii&30)!==0||Qp(c,s,a)}d.memoizedState=a;var f={value:a,getSnapshot:s};return d.queue=f,nm(Xp.bind(null,c,f,n),[n]),c.flags|=2048,Pa(9,Yp.bind(null,c,f,a,s),void 0,null),a},useId:function(){var n=tr(),s=At.identifierPrefix;if(nt){var a=Ar,c=kr;a=(c&~(1<<32-on(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ca++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=p0++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},v0={readContext:vn,useCallback:am,useContext:vn,useEffect:Vh,useImperativeHandle:om,useInsertionEffect:rm,useLayoutEffect:sm,useMemo:lm,useReducer:bh,useRef:tm,useState:function(){return bh(Ra)},useDebugValue:Oh,useDeferredValue:function(n){var s=wn();return um(s,vt.memoizedState,n)},useTransition:function(){var n=bh(Ra)[0],s=wn().memoizedState;return[n,s]},useMutableSource:Gp,useSyncExternalStore:Kp,useId:cm,unstable_isNewReconciler:!1},w0={readContext:vn,useCallback:am,useContext:vn,useEffect:Vh,useImperativeHandle:om,useInsertionEffect:rm,useLayoutEffect:sm,useMemo:lm,useReducer:Dh,useRef:tm,useState:function(){return Dh(Ra)},useDebugValue:Oh,useDeferredValue:function(n){var s=wn();return vt===null?s.memoizedState=n:um(s,vt.memoizedState,n)},useTransition:function(){var n=Dh(Ra)[0],s=wn().memoizedState;return[n,s]},useMutableSource:Gp,useSyncExternalStore:Kp,useId:cm,unstable_isNewReconciler:!1};function Nn(n,s){if(n&&n.defaultProps){s=re({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Mh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:re({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var pu={isMounted:function(n){return(n=n._reactInternals)?Cn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Gt(),d=ds(n),f=Rr(c,d);f.payload=s,a!=null&&(f.callback=a),s=ls(n,f,d),s!==null&&(Vn(s,n,d,c),ou(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Gt(),d=ds(n),f=Rr(c,d);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ls(n,f,d),s!==null&&(Vn(s,n,d,c),ou(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Gt(),c=ds(n),d=Rr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ls(n,d,c),s!==null&&(Vn(s,n,c,a),ou(s,n,c))}};function pm(n,s,a,c,d,f,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,f,v):s.prototype&&s.prototype.isPureReactComponent?!ma(a,c)||!ma(d,f):!0}function mm(n,s,a){var c=!1,d=is,f=s.contextType;return typeof f=="object"&&f!==null?f=vn(f):(d=Yt(s)?ei:Ft.current,c=s.contextTypes,f=(c=c!=null)?Zi(n,d):is),s=new s(a,f),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=pu,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),s}function gm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&pu.enqueueReplaceState(s,s.state,null)}function Lh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Ih(n);var f=s.contextType;typeof f=="object"&&f!==null?d.context=vn(f):(f=Yt(s)?ei:Ft.current,d.context=Zi(n,f)),d.state=n.memoizedState,f=s.getDerivedStateFromProps,typeof f=="function"&&(Mh(n,s,f,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&pu.enqueueReplaceState(d,d.state,null),au(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function ao(n,s){try{var a="",c=s;do a+=Pe(c),c=c.return;while(c);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:s,stack:d,digest:null}}function Fh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function jh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function ym(n,s,a){a=Rr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Eu||(Eu=!0,ed=c),jh(n,s)},a}function _m(n,s,a){a=Rr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){jh(n,s)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){jh(n,s),typeof c!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function vm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new E0;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=O0.bind(null,n,s,a),s.then(n,n))}function wm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Em(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Rr(-1,1),s.tag=2,ls(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var T0=Se.ReactCurrentOwner,Xt=!1;function qt(n,s,a,c){s.child=n===null?zp(s,null,a,c):ro(s,n.child,a,c)}function Tm(n,s,a,c,d){a=a.render;var f=s.ref;return io(s,d),c=xh(n,s,a,c,f,d),a=Nh(),n!==null&&!Xt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Pr(n,s,d)):(nt&&a&&fh(s),s.flags|=1,qt(n,s,c,d),s.child)}function Im(n,s,a,c,d){if(n===null){var f=a.type;return typeof f=="function"&&!ad(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=f,Sm(n,s,f,c,d)):(n=Cu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(f=n.child,(n.lanes&d)===0){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ma,a(v,c)&&n.ref===s.ref)return Pr(n,s,d)}return s.flags|=1,n=ps(f,c),n.ref=s.ref,n.return=s,s.child=n}function Sm(n,s,a,c,d){if(n!==null){var f=n.memoizedProps;if(ma(f,c)&&n.ref===s.ref)if(Xt=!1,s.pendingProps=c=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Xt=!0);else return s.lanes=n.lanes,Pr(n,s,d)}return Uh(n,s,a,c,d)}function km(n,s,a){var c=s.pendingProps,d=c.children,f=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(uo,fn),fn|=a;else{if((a&1073741824)===0)return n=f!==null?f.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ye(uo,fn),fn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:a,Ye(uo,fn),fn|=c}else f!==null?(c=f.baseLanes|a,s.memoizedState=null):c=a,Ye(uo,fn),fn|=c;return qt(n,s,d,a),s.child}function Am(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Uh(n,s,a,c,d){var f=Yt(a)?ei:Ft.current;return f=Zi(s,f),io(s,d),a=xh(n,s,a,c,f,d),c=Nh(),n!==null&&!Xt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Pr(n,s,d)):(nt&&c&&fh(s),s.flags|=1,qt(n,s,a,d),s.child)}function Cm(n,s,a,c,d){if(Yt(a)){var f=!0;Jl(s)}else f=!1;if(io(s,d),s.stateNode===null)gu(n,s),mm(s,a,c),Lh(s,a,c,d),c=!0;else if(n===null){var v=s.stateNode,S=s.memoizedProps;v.props=S;var P=v.context,j=a.contextType;typeof j=="object"&&j!==null?j=vn(j):(j=Yt(a)?ei:Ft.current,j=Zi(s,j));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||P!==j)&&gm(s,v,c,j),as=!1;var K=s.memoizedState;v.state=K,au(s,c,v,d),P=s.memoizedState,S!==c||K!==P||Qt.current||as?(typeof Q=="function"&&(Mh(s,a,Q,c),P=s.memoizedState),(S=as||pm(s,a,S,c,K,P,j))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),v.props=c,v.state=P,v.context=j,c=S):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,$p(n,s),S=s.memoizedProps,j=s.type===s.elementType?S:Nn(s.type,S),v.props=j,X=s.pendingProps,K=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=vn(P):(P=Yt(a)?ei:Ft.current,P=Zi(s,P));var se=a.getDerivedStateFromProps;(Q=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==X||K!==P)&&gm(s,v,c,P),as=!1,K=s.memoizedState,v.state=K,au(s,c,v,d);var ae=s.memoizedState;S!==X||K!==ae||Qt.current||as?(typeof se=="function"&&(Mh(s,a,se,c),ae=s.memoizedState),(j=as||pm(s,a,j,c,K,ae,P)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ae,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ae,P)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),v.props=c,v.state=ae,v.context=P,c=j):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),c=!1)}return zh(n,s,a,c,f,d)}function zh(n,s,a,c,d,f){Am(n,s);var v=(s.flags&128)!==0;if(!c&&!v)return d&&bp(s,a,!1),Pr(n,s,f);c=s.stateNode,T0.current=s;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&v?(s.child=ro(s,n.child,null,f),s.child=ro(s,null,S,f)):qt(n,s,S,f),s.memoizedState=c.state,d&&bp(s,a,!0),s.child}function Rm(n){var s=n.stateNode;s.pendingContext?xp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&xp(n,s.context,!1),Sh(n,s.containerInfo)}function Pm(n,s,a,c,d){return no(),yh(d),s.flags|=256,qt(n,s,a,c),s.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function $h(n){return{baseLanes:n,cachePool:null,transitions:null}}function xm(n,s,a){var c=s.pendingProps,d=rt.current,f=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(f=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ye(rt,d&1),n===null)return gh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,n=c.fallback,f?(c=s.mode,f=s.child,v={mode:"hidden",children:v},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=Ru(v,c,0,null),n=ci(n,c,a,null),f.return=s,n.return=s,f.sibling=n,s.child=f,s.child.memoizedState=$h(a),s.memoizedState=Bh,n):Hh(s,v));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return I0(n,s,v,c,S,d,a);if(f){f=c.fallback,v=s.mode,d=n.child,S=d.sibling;var P={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=ps(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=ps(S,f):(f=ci(f,v,a,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,v=n.child.memoizedState,v=v===null?$h(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=n.childLanes&~a,s.memoizedState=Bh,c}return f=n.child,n=f.sibling,c=ps(f,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Hh(n,s){return s=Ru({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function mu(n,s,a,c){return c!==null&&yh(c),ro(s,n.child,null,a),n=Hh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function I0(n,s,a,c,d,f,v){if(a)return s.flags&256?(s.flags&=-257,c=Fh(Error(t(422))),mu(n,s,v,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(f=c.fallback,d=s.mode,c=Ru({mode:"visible",children:c.children},d,0,null),f=ci(f,d,v,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,(s.mode&1)!==0&&ro(s,n.child,null,v),s.child.memoizedState=$h(v),s.memoizedState=Bh,f);if((s.mode&1)===0)return mu(n,s,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,f=Error(t(419)),c=Fh(f,c,void 0),mu(n,s,v,c)}if(S=(v&n.childLanes)!==0,Xt||S){if(c=At,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Cr(n,d),Vn(c,n,d,-1))}return od(),c=Fh(Error(t(421))),mu(n,s,v,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=M0.bind(null,n),d._reactRetry=s,null):(n=f.treeContext,dn=rs(d.nextSibling),hn=s,nt=!0,xn=null,n!==null&&(yn[_n++]=kr,yn[_n++]=Ar,yn[_n++]=ti,kr=n.id,Ar=n.overflow,ti=s),s=Hh(s,c.children),s.flags|=4096,s)}function Nm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Eh(n.return,s,a)}function Wh(n,s,a,c,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=a,f.tailMode=d)}function bm(n,s,a){var c=s.pendingProps,d=c.revealOrder,f=c.tail;if(qt(n,s,c.children,a),c=rt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Nm(n,a,s);else if(n.tag===19)Nm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ye(rt,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&lu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Wh(s,!1,d,a,f);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&lu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Wh(s,!0,a,null,f);break;case"together":Wh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Pr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),oi|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=ps(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ps(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function S0(n,s,a){switch(s.tag){case 3:Rm(s),no();break;case 5:qp(s);break;case 1:Yt(s.type)&&Jl(s);break;case 4:Sh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Ye(su,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ye(rt,rt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?xm(n,s,a):(Ye(rt,rt.current&1),n=Pr(n,s,a),n!==null?n.sibling:null);Ye(rt,rt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return bm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(rt,rt.current),c)break;return null;case 22:case 23:return s.lanes=0,km(n,s,a)}return Pr(n,s,a)}var Dm,qh,Vm,Om;Dm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},qh=function(){},Vm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,si(er.current);var f=null;switch(a){case"input":d=ki(n,d),c=ki(n,c),f=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),f=[];break;case"textarea":d=Ho(n,d),c=Ho(n,c),f=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ql)}An(a,c);var v;a=null;for(j in d)if(!c.hasOwnProperty(j)&&d.hasOwnProperty(j)&&d[j]!=null)if(j==="style"){var S=d[j];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?f||(f=[]):(f=f||[]).push(j,null));for(j in c){var P=c[j];if(S=d?.[j],c.hasOwnProperty(j)&&P!==S&&(P!=null||S!=null))if(j==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(f||(f=[]),f.push(j,a)),a=P;else j==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(f=f||[]).push(j,P)):j==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push(j,""+P):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(P!=null&&j==="onScroll"&&Ze("scroll",n),f||S===P||(f=[])):(f=f||[]).push(j,P))}a&&(f=f||[]).push("style",a);var j=f;(s.updateQueue=j)&&(s.flags|=4)}},Om=function(n,s,a,c){a!==c&&(s.flags|=4)};function xa(n,s){if(!nt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ut(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function k0(n,s,a){var c=s.pendingProps;switch(ph(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Yt(s.type)&&Xl(),Ut(s),null;case 3:return c=s.stateNode,oo(),et(Qt),et(Ft),Ch(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(nu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xn!==null&&(rd(xn),xn=null))),qh(n,s),Ut(s),null;case 5:kh(s);var d=si(ka.current);if(a=s.type,n!==null&&s.stateNode!=null)Vm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(n=si(er.current),nu(s)){c=s.stateNode,a=s.type;var f=s.memoizedProps;switch(c[Zn]=s,c[wa]=f,n=(s.mode&1)!==0,a){case"dialog":Ze("cancel",c),Ze("close",c);break;case"iframe":case"object":case"embed":Ze("load",c);break;case"video":case"audio":for(d=0;d<ya.length;d++)Ze(ya[d],c);break;case"source":Ze("error",c);break;case"img":case"image":case"link":Ze("error",c),Ze("load",c);break;case"details":Ze("toggle",c);break;case"input":wl(c,f),Ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},Ze("invalid",c);break;case"textarea":Wo(c,f),Ze("invalid",c)}An(a,f),d=null;for(var v in f)if(f.hasOwnProperty(v)){var S=f[v];v==="children"?typeof S=="string"?c.textContent!==S&&(f.suppressHydrationWarning!==!0&&Kl(c.textContent,S,n),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&Kl(c.textContent,S,n),d=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Ze("scroll",c)}switch(a){case"input":Ln(c),$o(c,f,!0);break;case"textarea":Ln(c),zr(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=Ql)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Zn]=s,n[wa]=c,Dm(n,s,!1,!1),s.stateNode=n;e:{switch(v=Pi(a,c),a){case"dialog":Ze("cancel",n),Ze("close",n),d=c;break;case"iframe":case"object":case"embed":Ze("load",n),d=c;break;case"video":case"audio":for(d=0;d<ya.length;d++)Ze(ya[d],n);d=c;break;case"source":Ze("error",n),d=c;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),d=c;break;case"details":Ze("toggle",n),d=c;break;case"input":wl(n,c),d=ki(n,c),Ze("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Ze("invalid",n);break;case"textarea":Wo(n,c),d=Ho(n,c),Ze("invalid",n);break;default:d=c}An(a,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var P=S[f];f==="style"?Ri(n,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Tl(n,P)):f==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&js(n,P):typeof P=="number"&&js(n,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?P!=null&&f==="onScroll"&&Ze("scroll",n):P!=null&&J(n,f,P,v))}switch(a){case"input":Ln(n),$o(n,c,!1);break;case"textarea":Ln(n),zr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+De(c.value));break;case"select":n.multiple=!!c.multiple,f=c.value,f!=null?kn(n,!!c.multiple,f,!1):c.defaultValue!=null&&kn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ql)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(n&&s.stateNode!=null)Om(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=si(ka.current),si(er.current),nu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Zn]=s,(f=c.nodeValue!==a)&&(n=hn,n!==null))switch(n.tag){case 3:Kl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Kl(c.nodeValue,a,(n.mode&1)!==0)}f&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Zn]=s,s.stateNode=c}return Ut(s),null;case 13:if(et(rt),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Fp(),no(),s.flags|=98560,f=!1;else if(f=nu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Zn]=s}else no(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),f=!1}else xn!==null&&(rd(xn),xn=null),f=!0;if(!f)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(rt.current&1)!==0?wt===0&&(wt=3):od())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return oo(),qh(n,s),n===null&&_a(s.stateNode.containerInfo),Ut(s),null;case 10:return wh(s.type._context),Ut(s),null;case 17:return Yt(s.type)&&Xl(),Ut(s),null;case 19:if(et(rt),f=s.memoizedState,f===null)return Ut(s),null;if(c=(s.flags&128)!==0,v=f.rendering,v===null)if(c)xa(f,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=lu(n),v!==null){for(s.flags|=128,xa(f,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)f=a,n=c,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,n=v.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ye(rt,rt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Je()>co&&(s.flags|=128,c=!0,xa(f,!1),s.lanes=4194304)}else{if(!c)if(n=lu(v),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),xa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!nt)return Ut(s),null}else 2*Je()-f.renderingStartTime>co&&a!==1073741824&&(s.flags|=128,c=!0,xa(f,!1),s.lanes=4194304);f.isBackwards?(v.sibling=s.child,s.child=v):(a=f.last,a!==null?a.sibling=v:s.child=v,f.last=v)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Je(),s.sibling=null,a=rt.current,Ye(rt,c?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return id(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(fn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function A0(n,s){switch(ph(s),s.tag){case 1:return Yt(s.type)&&Xl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return oo(),et(Qt),et(Ft),Ch(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return kh(s),null;case 13:if(et(rt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));no()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(rt),null;case 4:return oo(),null;case 10:return wh(s.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var yu=!1,zt=!1,C0=typeof WeakSet=="function"?WeakSet:Set,oe=null;function lo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){lt(n,s,c)}else a.current=null}function Gh(n,s,a){try{a()}catch(c){lt(n,s,c)}}var Mm=!1;function R0(n,s){if(ih=wr,n=pp(),Xc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,S=-1,P=-1,j=0,Q=0,X=n,K=null;t:for(;;){for(var se;X!==a||d!==0&&X.nodeType!==3||(S=v+d),X!==f||c!==0&&X.nodeType!==3||(P=v+c),X.nodeType===3&&(v+=X.nodeValue.length),(se=X.firstChild)!==null;)K=X,X=se;for(;;){if(X===n)break t;if(K===a&&++j===d&&(S=v),K===f&&++Q===c&&(P=v),(se=X.nextSibling)!==null)break;X=K,K=X.parentNode}X=se}a=S===-1||P===-1?null:{start:S,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(oh={focusedElem:n,selectionRange:a},wr=!1,oe=s;oe!==null;)if(s=oe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,oe=n;else for(;oe!==null;){s=oe;try{var ae=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ce=ae.memoizedProps,ht=ae.memoizedState,M=s.stateNode,D=M.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Nn(s.type,ce),ht);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){lt(s,s.return,Z)}if(n=s.sibling,n!==null){n.return=s.return,oe=n;break}oe=s.return}return ae=Mm,Mm=!1,ae}function Na(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&Gh(s,a,f)}d=d.next}while(d!==c)}}function _u(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Kh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Lm(n){var s=n.alternate;s!==null&&(n.alternate=null,Lm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Zn],delete s[wa],delete s[ch],delete s[c0],delete s[h0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Fm(n){return n.tag===5||n.tag===3||n.tag===4}function jm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Fm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ql));else if(c!==4&&(n=n.child,n!==null))for(Qh(n,s,a),n=n.sibling;n!==null;)Qh(n,s,a),n=n.sibling}function Yh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Yh(n,s,a),n=n.sibling;n!==null;)Yh(n,s,a),n=n.sibling}var Nt=null,bn=!1;function us(n,s,a){for(a=a.child;a!==null;)Um(n,s,a),a=a.sibling}function Um(n,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Hs,a)}catch{}switch(a.tag){case 5:zt||lo(a,s);case 6:var c=Nt,d=bn;Nt=null,us(n,s,a),Nt=c,bn=d,Nt!==null&&(bn?(n=Nt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(bn?(n=Nt,a=a.stateNode,n.nodeType===8?uh(n.parentNode,a):n.nodeType===1&&uh(n,a),Zr(n)):uh(Nt,a.stateNode));break;case 4:c=Nt,d=bn,Nt=a.stateNode.containerInfo,bn=!0,us(n,s,a),Nt=c,bn=d;break;case 0:case 11:case 14:case 15:if(!zt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var f=d,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&Gh(a,s,v),d=d.next}while(d!==c)}us(n,s,a);break;case 1:if(!zt&&(lo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){lt(a,s,S)}us(n,s,a);break;case 21:us(n,s,a);break;case 22:a.mode&1?(zt=(c=zt)||a.memoizedState!==null,us(n,s,a),zt=c):us(n,s,a);break;default:us(n,s,a)}}function zm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new C0),s.forEach(function(c){var d=L0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Dn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var f=n,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 5:Nt=S.stateNode,bn=!1;break e;case 3:Nt=S.stateNode.containerInfo,bn=!0;break e;case 4:Nt=S.stateNode.containerInfo,bn=!0;break e}S=S.return}if(Nt===null)throw Error(t(160));Um(f,v,d),Nt=null,bn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(j){lt(d,s,j)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Bm(s,n),s=s.sibling}function Bm(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dn(s,n),nr(n),c&4){try{Na(3,n,n.return),_u(3,n)}catch(ce){lt(n,n.return,ce)}try{Na(5,n,n.return)}catch(ce){lt(n,n.return,ce)}}break;case 1:Dn(s,n),nr(n),c&512&&a!==null&&lo(a,a.return);break;case 5:if(Dn(s,n),nr(n),c&512&&a!==null&&lo(a,a.return),n.flags&32){var d=n.stateNode;try{js(d,"")}catch(ce){lt(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,v=a!==null?a.memoizedProps:f,S=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&Ai(d,f),Pi(S,v);var j=Pi(S,f);for(v=0;v<P.length;v+=2){var Q=P[v],X=P[v+1];Q==="style"?Ri(d,X):Q==="dangerouslySetInnerHTML"?Tl(d,X):Q==="children"?js(d,X):J(d,Q,X,j)}switch(S){case"input":Fs(d,f);break;case"textarea":El(d,f);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var se=f.value;se!=null?kn(d,!!f.multiple,se,!1):K!==!!f.multiple&&(f.defaultValue!=null?kn(d,!!f.multiple,f.defaultValue,!0):kn(d,!!f.multiple,f.multiple?[]:"",!1))}d[wa]=f}catch(ce){lt(n,n.return,ce)}}break;case 6:if(Dn(s,n),nr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(ce){lt(n,n.return,ce)}}break;case 3:if(Dn(s,n),nr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Zr(s.containerInfo)}catch(ce){lt(n,n.return,ce)}break;case 4:Dn(s,n),nr(n);break;case 13:Dn(s,n),nr(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Zh=Je())),c&4&&zm(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(zt=(j=zt)||Q,Dn(s,n),zt=j):Dn(s,n),nr(n),c&8192){if(j=n.memoizedState!==null,(n.stateNode.isHidden=j)&&!Q&&(n.mode&1)!==0)for(oe=n,Q=n.child;Q!==null;){for(X=oe=Q;oe!==null;){switch(K=oe,se=K.child,K.tag){case 0:case 11:case 14:case 15:Na(4,K,K.return);break;case 1:lo(K,K.return);var ae=K.stateNode;if(typeof ae.componentWillUnmount=="function"){c=K,a=K.return;try{s=c,ae.props=s.memoizedProps,ae.state=s.memoizedState,ae.componentWillUnmount()}catch(ce){lt(c,a,ce)}}break;case 5:lo(K,K.return);break;case 22:if(K.memoizedState!==null){Wm(X);continue}}se!==null?(se.return=K,oe=se):Wm(X)}Q=Q.sibling}e:for(Q=null,X=n;;){if(X.tag===5){if(Q===null){Q=X;try{d=X.stateNode,j?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=X.stateNode,P=X.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Hr("display",v))}catch(ce){lt(n,n.return,ce)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=j?"":X.memoizedProps}catch(ce){lt(n,n.return,ce)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Dn(s,n),nr(n),c&4&&zm(n);break;case 21:break;default:Dn(s,n),nr(n)}}function nr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Fm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(js(d,""),c.flags&=-33);var f=jm(n);Yh(n,f,d);break;case 3:case 4:var v=c.stateNode.containerInfo,S=jm(n);Qh(n,S,v);break;default:throw Error(t(161))}}catch(P){lt(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function P0(n,s,a){oe=n,$m(n)}function $m(n,s,a){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,f=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||yu;if(!v){var S=d.alternate,P=S!==null&&S.memoizedState!==null||zt;S=yu;var j=zt;if(yu=v,(zt=P)&&!j)for(oe=d;oe!==null;)v=oe,P=v.child,v.tag===22&&v.memoizedState!==null?qm(d):P!==null?(P.return=v,oe=P):qm(d);for(;f!==null;)oe=f,$m(f),f=f.sibling;oe=d,yu=S,zt=j}Hm(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,oe=f):Hm(n)}}function Hm(n){for(;oe!==null;){var s=oe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:zt||_u(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!zt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Nn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=s.updateQueue;f!==null&&Wp(s,f,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Wp(s,v,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var j=s.alternate;if(j!==null){var Q=j.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Zr(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||s.flags&512&&Kh(s)}catch(K){lt(s,s.return,K)}}if(s===n){oe=null;break}if(a=s.sibling,a!==null){a.return=s.return,oe=a;break}oe=s.return}}function Wm(n){for(;oe!==null;){var s=oe;if(s===n){oe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,oe=a;break}oe=s.return}}function qm(n){for(;oe!==null;){var s=oe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{_u(4,s)}catch(P){lt(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(P){lt(s,d,P)}}var f=s.return;try{Kh(s)}catch(P){lt(s,f,P)}break;case 5:var v=s.return;try{Kh(s)}catch(P){lt(s,v,P)}}}catch(P){lt(s,s.return,P)}if(s===n){oe=null;break}var S=s.sibling;if(S!==null){S.return=s.return,oe=S;break}oe=s.return}}var x0=Math.ceil,vu=Se.ReactCurrentDispatcher,Xh=Se.ReactCurrentOwner,En=Se.ReactCurrentBatchConfig,Ue=0,At=null,gt=null,bt=0,fn=0,uo=ss(0),wt=0,ba=null,oi=0,wu=0,Jh=0,Da=null,Jt=null,Zh=0,co=1/0,xr=null,Eu=!1,ed=null,cs=null,Tu=!1,hs=null,Iu=0,Va=0,td=null,Su=-1,ku=0;function Gt(){return(Ue&6)!==0?Je():Su!==-1?Su:Su=Je()}function ds(n){return(n.mode&1)===0?1:(Ue&2)!==0&&bt!==0?bt&-bt:f0.transition!==null?(ku===0&&(ku=ta()),ku):(n=Fe,n!==0||(n=window.event,n=n===void 0?16:ji(n.type)),n)}function Vn(n,s,a,c){if(50<Va)throw Va=0,td=null,Error(t(185));Ks(n,a,c),((Ue&2)===0||n!==At)&&(n===At&&((Ue&2)===0&&(wu|=a),wt===4&&fs(n,bt)),Zt(n,c),a===1&&Ue===0&&(s.mode&1)===0&&(co=Je()+500,Zl&&os()))}function Zt(n,s){var a=n.callbackNode;Gs(n,s);var c=yr(n,n===At?bt:0);if(c===0)a!==null&&bi(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&bi(a),s===1)n.tag===0?d0(Km.bind(null,n)):Dp(Km.bind(null,n)),l0(function(){(Ue&6)===0&&os()}),a=null;else{switch($n(c)){case 1:a=Di;break;case 4:a=Jo;break;case 16:a=$s;break;case 536870912:a=Vi;break;default:a=$s}a=ng(a,Gm.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Gm(n,s){if(Su=-1,ku=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(ho()&&n.callbackNode!==a)return null;var c=yr(n,n===At?bt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Au(n,c);else{s=c;var d=Ue;Ue|=2;var f=Ym();(At!==n||bt!==s)&&(xr=null,co=Je()+500,li(n,s));do try{D0();break}catch(S){Qm(n,S)}while(!0);vh(),vu.current=f,Ue=d,gt!==null?s=0:(At=null,bt=0,s=wt)}if(s!==0){if(s===2&&(d=ea(n),d!==0&&(c=d,s=nd(n,d))),s===1)throw a=ba,li(n,0),fs(n,c),Zt(n,Je()),a;if(s===6)fs(n,c);else{if(d=n.current.alternate,(c&30)===0&&!N0(d)&&(s=Au(n,c),s===2&&(f=ea(n),f!==0&&(c=f,s=nd(n,f))),s===1))throw a=ba,li(n,0),fs(n,c),Zt(n,Je()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ui(n,Jt,xr);break;case 3:if(fs(n,c),(c&130023424)===c&&(s=Zh+500-Je(),10<s)){if(yr(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Gt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=lh(ui.bind(null,n,Jt,xr),s);break}ui(n,Jt,xr);break;case 4:if(fs(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var v=31-on(c);f=1<<v,v=s[v],v>d&&(d=v),c&=~f}if(c=d,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*x0(c/1960))-c,10<c){n.timeoutHandle=lh(ui.bind(null,n,Jt,xr),c);break}ui(n,Jt,xr);break;case 5:ui(n,Jt,xr);break;default:throw Error(t(329))}}}return Zt(n,Je()),n.callbackNode===a?Gm.bind(null,n):null}function nd(n,s){var a=Da;return n.current.memoizedState.isDehydrated&&(li(n,s).flags|=256),n=Au(n,s),n!==2&&(s=Jt,Jt=a,s!==null&&rd(s)),n}function rd(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function N0(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],f=d.getSnapshot;d=d.value;try{if(!Pn(f(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(n,s){for(s&=~Jh,s&=~wu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-on(s),c=1<<a;n[a]=-1,s&=~c}}function Km(n){if((Ue&6)!==0)throw Error(t(327));ho();var s=yr(n,0);if((s&1)===0)return Zt(n,Je()),null;var a=Au(n,s);if(n.tag!==0&&a===2){var c=ea(n);c!==0&&(s=c,a=nd(n,c))}if(a===1)throw a=ba,li(n,0),fs(n,s),Zt(n,Je()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ui(n,Jt,xr),Zt(n,Je()),null}function sd(n,s){var a=Ue;Ue|=1;try{return n(s)}finally{Ue=a,Ue===0&&(co=Je()+500,Zl&&os())}}function ai(n){hs!==null&&hs.tag===0&&(Ue&6)===0&&ho();var s=Ue;Ue|=1;var a=En.transition,c=Fe;try{if(En.transition=null,Fe=1,n)return n()}finally{Fe=c,En.transition=a,Ue=s,(Ue&6)===0&&os()}}function id(){fn=uo.current,et(uo)}function li(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,a0(a)),gt!==null)for(a=gt.return;a!==null;){var c=a;switch(ph(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Xl();break;case 3:oo(),et(Qt),et(Ft),Ch();break;case 5:kh(c);break;case 4:oo();break;case 13:et(rt);break;case 19:et(rt);break;case 10:wh(c.type._context);break;case 22:case 23:id()}a=a.return}if(At=n,gt=n=ps(n.current,null),bt=fn=s,wt=0,ba=null,Jh=wu=oi=0,Jt=Da=null,ri!==null){for(s=0;s<ri.length;s++)if(a=ri[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,f=a.pending;if(f!==null){var v=f.next;f.next=d,c.next=v}a.pending=c}ri=null}return n}function Qm(n,s){do{var a=gt;try{if(vh(),uu.current=fu,cu){for(var c=st.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}cu=!1}if(ii=0,kt=vt=st=null,Aa=!1,Ca=0,Xh.current=null,a===null||a.return===null){wt=1,ba=s,gt=null;break}e:{var f=n,v=a.return,S=a,P=s;if(s=bt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=P,Q=S,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var se=wm(v);if(se!==null){se.flags&=-257,Em(se,v,S,f,s),se.mode&1&&vm(f,j,s),s=se,P=j;var ae=s.updateQueue;if(ae===null){var ce=new Set;ce.add(P),s.updateQueue=ce}else ae.add(P);break e}else{if((s&1)===0){vm(f,j,s),od();break e}P=Error(t(426))}}else if(nt&&S.mode&1){var ht=wm(v);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Em(ht,v,S,f,s),yh(ao(P,S));break e}}f=P=ao(P,S),wt!==4&&(wt=2),Da===null?Da=[f]:Da.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,s&=-s,f.lanes|=s;var M=ym(f,P,s);Hp(f,M);break e;case 1:S=P;var D=f.type,F=f.stateNode;if((f.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(cs===null||!cs.has(F)))){f.flags|=65536,s&=-s,f.lanes|=s;var Z=_m(f,S,s);Hp(f,Z);break e}}f=f.return}while(f!==null)}Jm(a)}catch(he){s=he,gt===a&&a!==null&&(gt=a=a.return);continue}break}while(!0)}function Ym(){var n=vu.current;return vu.current=fu,n===null?fu:n}function od(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||(oi&268435455)===0&&(wu&268435455)===0||fs(At,bt)}function Au(n,s){var a=Ue;Ue|=2;var c=Ym();(At!==n||bt!==s)&&(xr=null,li(n,s));do try{b0();break}catch(d){Qm(n,d)}while(!0);if(vh(),Ue=a,vu.current=c,gt!==null)throw Error(t(261));return At=null,bt=0,wt}function b0(){for(;gt!==null;)Xm(gt)}function D0(){for(;gt!==null&&!Bs();)Xm(gt)}function Xm(n){var s=tg(n.alternate,n,fn);n.memoizedProps=n.pendingProps,s===null?Jm(n):gt=s,Xh.current=null}function Jm(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=k0(a,s,fn),a!==null){gt=a;return}}else{if(a=A0(a,s),a!==null){a.flags&=32767,gt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wt=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=n}while(s!==null);wt===0&&(wt=5)}function ui(n,s,a){var c=Fe,d=En.transition;try{En.transition=null,Fe=1,V0(n,s,a,c)}finally{En.transition=d,Fe=c}return null}function V0(n,s,a,c){do ho();while(hs!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=a.lanes|a.childLanes;if(qc(n,f),n===At&&(gt=At=null,bt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Tu||(Tu=!0,ng($s,function(){return ho(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=En.transition,En.transition=null;var v=Fe;Fe=1;var S=Ue;Ue|=4,Xh.current=null,R0(n,a),Bm(a,n),e0(oh),wr=!!ih,oh=ih=null,n.current=a,P0(a),gr(),Ue=S,Fe=v,En.transition=f}else n.current=a;if(Tu&&(Tu=!1,hs=n,Iu=d),f=n.pendingLanes,f===0&&(cs=null),Dl(a.stateNode),Zt(n,Je()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Eu)throw Eu=!1,n=ed,ed=null,n;return(Iu&1)!==0&&n.tag!==0&&ho(),f=n.pendingLanes,(f&1)!==0?n===td?Va++:(Va=0,td=n):Va=0,os(),null}function ho(){if(hs!==null){var n=$n(Iu),s=En.transition,a=Fe;try{if(En.transition=null,Fe=16>n?16:n,hs===null)var c=!1;else{if(n=hs,hs=null,Iu=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,oe=n.current;oe!==null;){var f=oe,v=f.child;if((oe.flags&16)!==0){var S=f.deletions;if(S!==null){for(var P=0;P<S.length;P++){var j=S[P];for(oe=j;oe!==null;){var Q=oe;switch(Q.tag){case 0:case 11:case 15:Na(8,Q,f)}var X=Q.child;if(X!==null)X.return=Q,oe=X;else for(;oe!==null;){Q=oe;var K=Q.sibling,se=Q.return;if(Lm(Q),Q===j){oe=null;break}if(K!==null){K.return=se,oe=K;break}oe=se}}}var ae=f.alternate;if(ae!==null){var ce=ae.child;if(ce!==null){ae.child=null;do{var ht=ce.sibling;ce.sibling=null,ce=ht}while(ce!==null)}}oe=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,oe=v;else e:for(;oe!==null;){if(f=oe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Na(9,f,f.return)}var M=f.sibling;if(M!==null){M.return=f.return,oe=M;break e}oe=f.return}}var D=n.current;for(oe=D;oe!==null;){v=oe;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,oe=F;else e:for(v=D;oe!==null;){if(S=oe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:_u(9,S)}}catch(he){lt(S,S.return,he)}if(S===v){oe=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,oe=Z;break e}oe=S.return}}if(Ue=d,os(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Hs,n)}catch{}c=!0}return c}finally{Fe=a,En.transition=s}}return!1}function Zm(n,s,a){s=ao(a,s),s=ym(n,s,1),n=ls(n,s,1),s=Gt(),n!==null&&(Ks(n,1,s),Zt(n,s))}function lt(n,s,a){if(n.tag===3)Zm(n,n,a);else for(;s!==null;){if(s.tag===3){Zm(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cs===null||!cs.has(c))){n=ao(a,n),n=_m(s,n,1),s=ls(s,n,1),n=Gt(),s!==null&&(Ks(s,1,n),Zt(s,n));break}}s=s.return}}function O0(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Gt(),n.pingedLanes|=n.suspendedLanes&a,At===n&&(bt&a)===a&&(wt===4||wt===3&&(bt&130023424)===bt&&500>Je()-Zh?li(n,0):Jh|=a),Zt(n,s)}function eg(n,s){s===0&&((n.mode&1)===0?s=1:(s=Yr,Yr<<=1,(Yr&130023424)===0&&(Yr=4194304)));var a=Gt();n=Cr(n,s),n!==null&&(Ks(n,s,a),Zt(n,a))}function M0(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),eg(n,a)}function L0(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),eg(n,a)}var tg;tg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Qt.current)Xt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Xt=!1,S0(n,s,a);Xt=(n.flags&131072)!==0}else Xt=!1,nt&&(s.flags&1048576)!==0&&Vp(s,tu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;gu(n,s),n=s.pendingProps;var d=Zi(s,Ft.current);io(s,a),d=xh(null,s,c,n,d,a);var f=Nh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(c)?(f=!0,Jl(s)):f=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ih(s),d.updater=pu,s.stateNode=d,d._reactInternals=s,Lh(s,c,n,a),s=zh(null,s,c,!0,f,a)):(s.tag=0,nt&&f&&fh(s),qt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(gu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=j0(c),n=Nn(c,n),d){case 0:s=Uh(null,s,c,n,a);break e;case 1:s=Cm(null,s,c,n,a);break e;case 11:s=Tm(null,s,c,n,a);break e;case 14:s=Im(null,s,c,Nn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Nn(c,d),Uh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Nn(c,d),Cm(n,s,c,d,a);case 3:e:{if(Rm(s),n===null)throw Error(t(387));c=s.pendingProps,f=s.memoizedState,d=f.element,$p(n,s),au(s,c,null,a);var v=s.memoizedState;if(c=v.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){d=ao(Error(t(423)),s),s=Pm(n,s,c,a,d);break e}else if(c!==d){d=ao(Error(t(424)),s),s=Pm(n,s,c,a,d);break e}else for(dn=rs(s.stateNode.containerInfo.firstChild),hn=s,nt=!0,xn=null,a=zp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(no(),c===d){s=Pr(n,s,a);break e}qt(n,s,c,a)}s=s.child}return s;case 5:return qp(s),n===null&&gh(s),c=s.type,d=s.pendingProps,f=n!==null?n.memoizedProps:null,v=d.children,ah(c,d)?v=null:f!==null&&ah(c,f)&&(s.flags|=32),Am(n,s),qt(n,s,v,a),s.child;case 6:return n===null&&gh(s),null;case 13:return xm(n,s,a);case 4:return Sh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=ro(s,null,c,a):qt(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Nn(c,d),Tm(n,s,c,d,a);case 7:return qt(n,s,s.pendingProps,a),s.child;case 8:return qt(n,s,s.pendingProps.children,a),s.child;case 12:return qt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,f=s.memoizedProps,v=d.value,Ye(su,c._currentValue),c._currentValue=v,f!==null)if(Pn(f.value,v)){if(f.children===d.children&&!Qt.current){s=Pr(n,s,a);break e}}else for(f=s.child,f!==null&&(f.return=s);f!==null;){var S=f.dependencies;if(S!==null){v=f.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(f.tag===1){P=Rr(-1,a&-a),P.tag=2;var j=f.updateQueue;if(j!==null){j=j.shared;var Q=j.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),j.pending=P}}f.lanes|=a,P=f.alternate,P!==null&&(P.lanes|=a),Eh(f.return,a,s),S.lanes|=a;break}P=P.next}}else if(f.tag===10)v=f.type===s.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(t(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),Eh(v,a,s),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===s){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}qt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,io(s,a),d=vn(d),c=c(d),s.flags|=1,qt(n,s,c,a),s.child;case 14:return c=s.type,d=Nn(c,s.pendingProps),d=Nn(c.type,d),Im(n,s,c,d,a);case 15:return Sm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Nn(c,d),gu(n,s),s.tag=1,Yt(c)?(n=!0,Jl(s)):n=!1,io(s,a),mm(s,c,d),Lh(s,c,d,a),zh(null,s,c,!0,n,a);case 19:return bm(n,s,a);case 22:return km(n,s,a)}throw Error(t(156,s.tag))};function ng(n,s){return Xo(n,s)}function F0(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,s,a,c){return new F0(n,s,a,c)}function ad(n){return n=n.prototype,!(!n||!n.isReactComponent)}function j0(n){if(typeof n=="function")return ad(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===Xe)return 14}return 2}function ps(n,s){var a=n.alternate;return a===null?(a=Tn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Cu(n,s,a,c,d,f){var v=2;if(c=n,typeof n=="function")ad(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case x:return ci(a.children,d,f,s);case T:v=8,d|=8;break;case k:return n=Tn(12,a,s,d|2),n.elementType=k,n.lanes=f,n;case A:return n=Tn(13,a,s,d),n.elementType=A,n.lanes=f,n;case We:return n=Tn(19,a,s,d),n.elementType=We,n.lanes=f,n;case ze:return Ru(a,d,f,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:v=10;break e;case N:v=9;break e;case O:v=11;break e;case Xe:v=14;break e;case Qe:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Tn(v,a,s,d),s.elementType=n,s.type=c,s.lanes=f,s}function ci(n,s,a,c){return n=Tn(7,n,c,s),n.lanes=a,n}function Ru(n,s,a,c){return n=Tn(22,n,c,s),n.elementType=ze,n.lanes=a,n.stateNode={isHidden:!1},n}function ld(n,s,a){return n=Tn(6,n,null,s),n.lanes=a,n}function ud(n,s,a){return s=Tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function U0(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function cd(n,s,a,c,d,f,v,S,P){return n=new U0(n,s,a,S,P),s===1?(s=1,f===!0&&(s|=8)):s=0,f=Tn(3,null,null,s),n.current=f,f.stateNode=n,f.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(f),n}function z0(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function rg(n){if(!n)return is;n=n._reactInternals;e:{if(Cn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Yt(a))return Np(n,a,s)}return s}function sg(n,s,a,c,d,f,v,S,P){return n=cd(a,c,!0,n,d,f,v,S,P),n.context=rg(null),a=n.current,c=Gt(),d=ds(a),f=Rr(c,d),f.callback=s??null,ls(a,f,d),n.current.lanes=d,Ks(n,d,c),Zt(n,c),n}function Pu(n,s,a,c){var d=s.current,f=Gt(),v=ds(d);return a=rg(a),s.context===null?s.context=a:s.pendingContext=a,s=Rr(f,v),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ls(d,s,v),n!==null&&(Vn(n,d,v,f),ou(n,d,v)),v}function xu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ig(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function hd(n,s){ig(n,s),(n=n.alternate)&&ig(n,s)}function B0(){return null}var og=typeof reportError=="function"?reportError:function(n){console.error(n)};function dd(n){this._internalRoot=n}Nu.prototype.render=dd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Pu(n,s,null,null)},Nu.prototype.unmount=dd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ai(function(){Pu(null,n,null,null)}),s[Ir]=null}};function Nu(n){this._internalRoot=n}Nu.prototype.unstable_scheduleHydration=function(n){if(n){var s=oa();n={blockedOn:null,target:n,priority:s};for(var a=0;a<an.length&&s!==0&&s<an[a].priority;a++);an.splice(a,0,n),a===0&&Li(n)}};function fd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ag(){}function $0(n,s,a,c,d){if(d){if(typeof c=="function"){var f=c;c=function(){var j=xu(v);f.call(j)}}var v=sg(s,c,n,0,null,!1,!1,"",ag);return n._reactRootContainer=v,n[Ir]=v.current,_a(n.nodeType===8?n.parentNode:n),ai(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var j=xu(P);S.call(j)}}var P=cd(n,0,!1,null,null,!1,!1,"",ag);return n._reactRootContainer=P,n[Ir]=P.current,_a(n.nodeType===8?n.parentNode:n),ai(function(){Pu(s,P,a,c)}),P}function Du(n,s,a,c,d){var f=a._reactRootContainer;if(f){var v=f;if(typeof d=="function"){var S=d;d=function(){var P=xu(v);S.call(P)}}Pu(s,v,n,d)}else v=$0(a,s,n,d,c);return xu(v)}sa=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=He(s.pendingLanes);a!==0&&(ra(s,a|1),Zt(s,Je()),(Ue&6)===0&&(co=Je()+500,os()))}break;case 13:ai(function(){var c=Cr(n,1);if(c!==null){var d=Gt();Vn(c,n,1,d)}}),hd(n,1)}},Oi=function(n){if(n.tag===13){var s=Cr(n,134217728);if(s!==null){var a=Gt();Vn(s,n,134217728,a)}hd(n,134217728)}},ia=function(n){if(n.tag===13){var s=ds(n),a=Cr(n,s);if(a!==null){var c=Gt();Vn(a,n,s,c)}hd(n,s)}},oa=function(){return Fe},aa=function(n,s){var a=Fe;try{return Fe=n,s()}finally{Fe=a}},fr=function(n,s,a){switch(s){case"input":if(Fs(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Yl(c);if(!d)throw Error(t(90));Fn(c),Fs(c,d)}}}break;case"textarea":El(n,a);break;case"select":s=a.value,s!=null&&kn(n,!!a.multiple,s,!1)}},Sl=sd,kl=ai;var H0={usingClientEntryPoint:!1,Events:[Ea,Xi,Yl,qr,Gr,sd]},Oa={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bl(n),n===null?null:n.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||B0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Hs=Vu.inject(W0),sn=Vu}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0,en.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fd(s))throw Error(t(200));return z0(n,s,null,a)},en.createRoot=function(n,s){if(!fd(n))throw Error(t(299));var a=!1,c="",d=og;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=cd(n,1,!1,null,null,a,!1,c,d),n[Ir]=s.current,_a(n.nodeType===8?n.parentNode:n),new dd(s)},en.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=bl(s),n=n===null?null:n.stateNode,n},en.flushSync=function(n){return ai(n)},en.hydrate=function(n,s,a){if(!bu(s))throw Error(t(200));return Du(null,n,s,!0,a)},en.hydrateRoot=function(n,s,a){if(!fd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,f="",v=og;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=sg(s,null,n,1,a??null,d,!1,f,v),n[Ir]=s.current,_a(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Nu(s)},en.render=function(n,s,a){if(!bu(s))throw Error(t(200));return Du(null,n,s,!1,a)},en.unmountComponentAtNode=function(n){if(!bu(n))throw Error(t(40));return n._reactRootContainer?(ai(function(){Du(null,null,n,!1,function(){n._reactRootContainer=null,n[Ir]=null})}),!0):!1},en.unstable_batchedUpdates=sd,en.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!bu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Du(n,s,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var mg;function tE(){if(mg)return gd.exports;mg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gd.exports=eE(),gd.exports}var gg;function nE(){if(gg)return Ou;gg=1;var r=tE();return Ou.createRoot=r.createRoot,Ou.hydrateRoot=r.hydrateRoot,Ou}var rE=nE(),fe=uf();const sE=K0(fe),iE=G0({__proto__:null,default:sE},[fe]),oE=()=>{};var yg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aE=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],m=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},e_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,E=l>>2,I=(l&3)<<4|m>>4;let C=(m&15)<<2|_>>6,z=_&63;g||(z=64,h||(C=64)),i.push(t[E],t[I],t[C],t[z])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const I=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||m==null||_==null||I==null)throw new lE;const C=l<<2|m>>4;if(i.push(C),_!==64){const z=m<<4&240|_>>2;if(i.push(z),I!==64){const G=_<<6&192|I;i.push(G)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uE=function(r){const e=Zy(r);return e_.encodeByteArray(e,!0)},ec=function(r){return uE(r).replace(/\./g,"")},t_=function(r){try{return e_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=()=>cE().__FIREBASE_DEFAULTS__,dE=()=>{if(typeof process>"u"||typeof yg>"u")return;const r=yg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&t_(r[1]);return e&&JSON.parse(e)},Sc=()=>{try{return oE()||hE()||dE()||fE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},n_=r=>Sc()?.emulatorHosts?.[r],pE=r=>{const e=n_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},r_=()=>Sc()?.config,s_=r=>Sc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ec(JSON.stringify(t)),ec(JSON.stringify(h)),""].join(".")}const Ha={};function yE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ha))Ha[e]?r.emulator.push(e):r.prod.push(e);return r}function _E(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let _g=!1;function o_(r,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Ha[r]===e||Ha[r]||_g)return;Ha[r]=e;function t(C){return`__firebase__banner__${C}`}const i="__firebase__banner",l=yE().prod.length>0;function h(){const C=document.getElementById(i);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{_g=!0,h()},C}function E(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=_E(i),z=t("text"),G=document.getElementById(z)||document.createElement("span"),q=t("learnmore"),B=document.getElementById(q)||document.createElement("a"),ne=t("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const J=C.element;m(J),E(B,q);const Se=_();g(te,ne),J.append(te,G,B,Se),document.body.appendChild(J)}l?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function wE(){const r=Sc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SE(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kE(){return!wE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AE(){try{return typeof indexedDB=="object"}catch{return!1}}function CE(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=RE,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?PE(l,i):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new jr(o,m,i)}}function PE(r,e){return r.replace(xE,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const xE=/\{\$([^}]+)}/g;function NE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gi(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(vg(l)&&vg(h)){if(!gi(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function vg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fa(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ja(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function bE(r,e){const t=new DE(r,e);return t.subscribe.bind(t)}class DE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");VE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=vd),o.error===void 0&&(o.error=vd),o.complete===void 0&&(o.complete=vd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VE(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r){return r&&r._delegate?r._delegate:r}class yi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new mE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LE(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);i===m&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ME(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ME(r){return r===di?void 0:r}function LE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const jE={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},UE=Ve.INFO,zE={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},BE=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=zE[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=UE,this._logHandler=BE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const $E=(r,e)=>e.some(t=>r instanceof t);let wg,Eg;function HE(){return wg||(wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return Eg||(Eg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a_=new WeakMap,Dd=new WeakMap,l_=new WeakMap,wd=new WeakMap,hf=new WeakMap;function qE(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Is(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&a_.set(t,r)}).catch(()=>{}),hf.set(e,r),e}function GE(r){if(Dd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Dd.set(r,e)}let Vd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Dd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||l_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KE(r){Vd=r(Vd)}function QE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Ed(this),e,...t);return l_.set(i,e.sort?e.sort():[e]),Is(i)}:WE().includes(r)?function(...e){return r.apply(Ed(this),e),Is(a_.get(this))}:function(...e){return Is(r.apply(Ed(this),e))}}function YE(r){return typeof r=="function"?QE(r):(r instanceof IDBTransaction&&GE(r),$E(r,HE())?new Proxy(r,Vd):r)}function Is(r){if(r instanceof IDBRequest)return qE(r);if(wd.has(r))return wd.get(r);const e=YE(r);return e!==r&&(wd.set(r,e),hf.set(e,r)),e}const Ed=r=>hf.get(r);function XE(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),m=Is(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Is(h.result),g.oldVersion,g.newVersion,Is(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const JE=["get","getKey","getAll","getAllKeys","count"],ZE=["put","add","delete","clear"],Td=new Map;function Tg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=ZE.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||JE.includes(t)))return;const l=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return i&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&g.done]))[0]};return Td.set(e,l),l}KE(r=>({...r,get:(e,t,i)=>Tg(e,t)||r.get(e,t,i),has:(e,t)=>!!Tg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tT(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function tT(r){return r.getComponent()?.type==="VERSION"}const Od="@firebase/app",Ig="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new cf("@firebase/app"),nT="@firebase/app-compat",rT="@firebase/analytics-compat",sT="@firebase/analytics",iT="@firebase/app-check-compat",oT="@firebase/app-check",aT="@firebase/auth",lT="@firebase/auth-compat",uT="@firebase/database",cT="@firebase/data-connect",hT="@firebase/database-compat",dT="@firebase/functions",fT="@firebase/functions-compat",pT="@firebase/installations",mT="@firebase/installations-compat",gT="@firebase/messaging",yT="@firebase/messaging-compat",_T="@firebase/performance",vT="@firebase/performance-compat",wT="@firebase/remote-config",ET="@firebase/remote-config-compat",TT="@firebase/storage",IT="@firebase/storage-compat",ST="@firebase/firestore",kT="@firebase/ai",AT="@firebase/firestore-compat",CT="firebase",RT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",PT={[Od]:"fire-core",[nT]:"fire-core-compat",[sT]:"fire-analytics",[rT]:"fire-analytics-compat",[oT]:"fire-app-check",[iT]:"fire-app-check-compat",[aT]:"fire-auth",[lT]:"fire-auth-compat",[uT]:"fire-rtdb",[cT]:"fire-data-connect",[hT]:"fire-rtdb-compat",[dT]:"fire-fn",[fT]:"fire-fn-compat",[pT]:"fire-iid",[mT]:"fire-iid-compat",[gT]:"fire-fcm",[yT]:"fire-fcm-compat",[_T]:"fire-perf",[vT]:"fire-perf-compat",[wT]:"fire-rc",[ET]:"fire-rc-compat",[TT]:"fire-gcs",[IT]:"fire-gcs-compat",[ST]:"fire-fst",[AT]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[CT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,xT=new Map,Ld=new Map;function Sg(r,e){try{r.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Co(r){const e=r.name;if(Ld.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Ld.set(e,r);for(const t of tc.values())Sg(t,r);for(const t of xT.values())Sg(t,r);return!0}function df(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new ul("app","Firebase",NT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=RT;function u_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Md,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=r_()),!t)throw Ss.create("no-options");const l=tc.get(o);if(l){if(gi(t,l.options)&&gi(i,l.config))return l;throw Ss.create("duplicate-app",{appName:o})}const h=new FE(o);for(const g of Ld.values())h.addComponent(g);const m=new bT(t,i,h);return tc.set(o,m),m}function c_(r=Md){const e=tc.get(r);if(!e&&r===Md&&r_())return u_();if(!e)throw Ss.create("no-app",{appName:r});return e}function ks(r,e,t){let i=PT[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(h.join(" "));return}Co(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebase-heartbeat-database",VT=1,Ya="firebase-heartbeat-store";let Id=null;function h_(){return Id||(Id=XE(DT,VT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ya)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),Id}async function OT(r){try{const t=(await h_()).transaction(Ya),i=await t.objectStore(Ya).get(d_(r));return await t.done,i}catch(e){if(e instanceof jr)Or.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e?.message});Or.warn(t.message)}}}async function kg(r,e){try{const i=(await h_()).transaction(Ya,"readwrite");await i.objectStore(Ya).put(e,d_(r)),await i.done}catch(t){if(t instanceof jr)Or.warn(t.message);else{const i=Ss.create("idb-set",{originalErrorMessage:t?.message});Or.warn(i.message)}}}function d_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=1024,LT=30;class FT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ag();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>LT){const o=zT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ag(),{heartbeatsToSend:t,unsentEntries:i}=jT(this._heartbeatsCache.heartbeats),o=ec(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function Ag(){return new Date().toISOString().substring(0,10)}function jT(r,e=MT){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Cg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Cg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class UT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AE()?CE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cg(r){return ec(JSON.stringify({version:2,heartbeats:r})).length}function zT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r){Co(new yi("platform-logger",e=>new eT(e),"PRIVATE")),Co(new yi("heartbeat",e=>new FT(e),"PRIVATE")),ks(Od,Ig,r),ks(Od,Ig,"esm2020"),ks("fire-js","")}BT("");var $T="firebase",HT="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks($T,HT,"app");function f_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WT=f_,p_=new ul("auth","Firebase",f_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new cf("@firebase/auth");function qT(r,...e){nc.logLevel<=Ve.WARN&&nc.warn(`Auth (${Oo}): ${r}`,...e)}function Hu(r,...e){nc.logLevel<=Ve.ERROR&&nc.error(`Auth (${Oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r,...e){throw ff(r,...e)}function sr(r,...e){return ff(r,...e)}function m_(r,e,t){const i={...WT(),[e]:t};return new ul("auth","Firebase",i).create(e,{appName:r.name})}function Vr(r){return m_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ff(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return p_.create(r,...e)}function Ee(r,e,...t){if(!r)throw ff(e,...t)}function br(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hu(e),new Error(e)}function Mr(r,e){r||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){return typeof self<"u"&&self.location?.href||""}function GT(){return Rg()==="http:"||Rg()==="https:"}function Rg(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GT()||TE()||"connection"in navigator)?navigator.onLine:!0}function QT(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mr(t>e,"Short delay should be less than long delay!"),this.isMobile=vE()||IE()}get(){return KT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(r,e){Mr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JT=new hl(3e4,6e4);function Vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Os(r,e,t,i,o={}){return y_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const m=cl({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...l};return EE()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(_.credentials="include"),g_.fetch()(await __(r,r.config.apiHost,t,m),_)})}async function y_(r,e,t){r._canInitEmulator=!1;const i={...YT,...e};try{const o=new eI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Mu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Mu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Mu(r,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw m_(r,E,_);Mn(r,E)}}catch(o){if(o instanceof jr)throw o;Mn(r,"network-request-failed",{message:String(o)})}}async function dl(r,e,t,i,o={}){const l=await Os(r,e,t,i,o);return"mfaPendingCredential"in l&&Mn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function __(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?pf(r.config,o):`${r.config.apiScheme}://${o}`;return XT.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function ZT(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(sr(this.auth,"network-request-failed")),JT.get())})}}function Mu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=sr(r,e,i);return o.customData._tokenResponse=t,o}function Pg(r){return r!==void 0&&r.enterprise!==void 0}class tI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nI(r,e){return Os(r,"GET","/v2/recaptchaConfig",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,e){return Os(r,"POST","/v1/accounts:delete",e)}async function rc(r,e){return Os(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sI(r,e=!1){const t=Ot(r),i=await t.getIdToken(e),o=mf(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:Wa(Sd(o.auth_time)),issuedAtTime:Wa(Sd(o.iat)),expirationTime:Wa(Sd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Sd(r){return Number(r)*1e3}function mf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const o=t_(t);return o?JSON.parse(o):(Hu("Failed to decode base64 JWT payload"),null)}catch(o){return Hu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function xg(r){const e=mf(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&iI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function iI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(r){const e=r.auth,t=await r.getIdToken(),i=await Xa(r,rc(e,{idToken:t}));Ee(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?v_(o.providerUserInfo):[],h=lI(r.providerData,l),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,_=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new jd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function aI(r){const e=Ot(r);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function v_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e){const t=await y_(r,{},async()=>{const i=cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await __(r,o,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(g.credentials="include"),g_.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cI(r,e){return Os(r,"POST","/v2/accounts:revokeToken",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=xg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await uI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new To;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class On{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sI(this,e)}reload(){return aI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new On({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await Xa(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,_=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:I,emailVerified:C,isAnonymous:z,providerData:G,stsTokenManager:q}=t;Ee(I&&q,e,"internal-error");const B=To.fromJSON(this.name,q);Ee(typeof I=="string",e,"internal-error"),gs(i,e.name),gs(o,e.name),Ee(typeof C=="boolean",e,"internal-error"),Ee(typeof z=="boolean",e,"internal-error"),gs(l,e.name),gs(h,e.name),gs(m,e.name),gs(g,e.name),gs(_,e.name),gs(E,e.name);const ne=new On({uid:I,auth:e,email:o,emailVerified:C,displayName:i,isAnonymous:z,photoURL:h,phoneNumber:l,tenantId:m,stsTokenManager:B,createdAt:_,lastLoginAt:E});return G&&Array.isArray(G)&&(ne.providerData=G.map(te=>({...te}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,t,i=!1){const o=new To;o.updateFromServerResponse(t);const l=new On({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await sc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?v_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,m=new To;m.updateFromIdToken(i);const g=new On({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map;function Dr(r){Mr(r instanceof Function,"Expected a class definition");let e=Ng.get(r);return e?(Mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ng.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}w_.type="NONE";const bg=w_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(r,e,t){return`firebase:${r}:${e}:${t}`}class Io{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Wu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Wu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rc(this.auth,{idToken:e}).catch(()=>{});return t?On._fromGetAccountInfoResponse(this.auth,t,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Io(Dr(bg),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Dr(bg);const h=Wu(i,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){let I;if(typeof E=="string"){const C=await rc(e,{idToken:E}).catch(()=>{});if(!C)break;I=await On._fromGetAccountInfoResponse(e,C,E)}else I=On._fromJSON(e,E);_!==l&&(m=I),l=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Io(l,e,i):(l=g[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new Io(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A_(e))return"Blackberry";if(C_(e))return"Webos";if(T_(e))return"Safari";if((e.includes("chrome/")||I_(e))&&!e.includes("edge/"))return"Chrome";if(k_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function E_(r=Wt()){return/firefox\//i.test(r)}function T_(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I_(r=Wt()){return/crios\//i.test(r)}function S_(r=Wt()){return/iemobile/i.test(r)}function k_(r=Wt()){return/android/i.test(r)}function A_(r=Wt()){return/blackberry/i.test(r)}function C_(r=Wt()){return/webos/i.test(r)}function gf(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hI(r=Wt()){return gf(r)&&!!window.navigator?.standalone}function dI(){return SE()&&document.documentMode===10}function R_(r=Wt()){return gf(r)||k_(r)||C_(r)||A_(r)||/windows phone/i.test(r)||S_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r,e=[]){let t;switch(r){case"Browser":t=Dg(Wt());break;case"Worker":t=`${Dg(Wt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,m)=>{try{const g=e(l);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e={}){return Os(r,"GET","/v2/passwordPolicy",Vs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class gI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vg(this),this.idTokenSubscription=new Vg(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rc(this,{idToken:e}),i=await On._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===h)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Vr(this));const t=e?Ot(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pI(this),t=new gI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Dr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ti(r){return Ot(r)}class Vg{constructor(e){this.auth=e,this.observer=null,this.addObserver=bE(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(r){kc=r}function x_(r){return kc.loadJS(r)}function vI(){return kc.recaptchaEnterpriseScript}function wI(){return kc.gapiScript}function EI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TI{constructor(){this.enterprise=new II}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class II{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SI="recaptcha-enterprise",N_="NO_RECAPTCHA";class kI{constructor(e){this.type=SI,this.auth=Ti(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,m)=>{nI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new tI(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(g=>{m(g)})})}function o(l,h,m){const g=window.grecaptcha;Pg(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(N_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(m=>{if(!t&&Pg(window.grecaptcha))o(m,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=vI();g.length!==0&&(g+=m),x_(g).then(()=>{o(m,l,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function Og(r,e,t,i=!1,o=!1){const l=new kI(r);let h;if(o)h=N_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ud(r,e,t,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Og(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Og(r,e,t,t==="getOobCode");return i(r,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r,e){const t=df(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(gi(l,e??{}))return o;Mn(o,"already-initialized")}return t.initialize({options:e})}function CI(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function RI(r,e,t){const i=Ti(r);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=b_(e),{host:h,port:m}=PI(e),g=m===null?"":`:${m}`,_={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(gi(_,i.config.emulator)&&gi(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,Vo(h)?(i_(`${l}//${h}${g}`),o_("Auth",!0)):xI()}function b_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function PI(r){const e=b_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Mg(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Mg(h)}}}function Mg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function NI(r,e){return Os(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,e){return dl(r,"POST","/v1/accounts:signInWithPassword",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e){return dl(r,"POST","/v1/accounts:signInWithEmailLink",Vs(r,e))}async function VI(r,e){return dl(r,"POST","/v1/accounts:signInWithEmailLink",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends yf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ja(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ja(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ud(e,t,"signInWithPassword",bI);case"emailLink":return DI(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ud(e,i,"signUpPassword",NI);case"emailLink":return VI(e,{idToken:t,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r,e){return dl(r,"POST","/v1/accounts:signInWithIdp",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="http://localhost";class _i extends yf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new _i(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,So(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:OI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LI(r){const e=Fa(ja(r)).link,t=e?Fa(ja(e)).deep_link_id:null,i=Fa(ja(r)).deep_link_id;return(i?Fa(ja(i)).link:null)||i||t||e||r}class _f{constructor(e){const t=Fa(ja(e)),i=t.apiKey??null,o=t.oobCode??null,l=MI(t.mode??null);Ee(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=LI(e);try{return new _f(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,t){return Ja._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=_f.parseLink(t);return Ee(i,"argument-error"),Ja._fromEmailAndCode(e,i.code,i.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends D_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends fl{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _i._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends fl{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends fl{constructor(){super("twitter.com")}static credential(e,t){return _i._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Es.credential(t,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return dl(r,"POST","/v1/accounts:signUp",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await On._fromIdTokenResponse(e,i,o),h=Lg(i);return new vi({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Lg(i);return new vi({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Lg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends jr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new ic(e,t,i,o)}}function V_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ic._fromErrorAndOperation(r,l,e,i):l})}async function jI(r,e,t=!1){const i=await Xa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return vi._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e,t=!1){const{auth:i}=r;if(In(i.app))return Promise.reject(Vr(i));const o="reauthenticate";try{const l=await Xa(r,V_(i,o,e,r),t);Ee(l.idToken,i,"internal-error");const h=mf(l.idToken);Ee(h,i,"internal-error");const{sub:m}=h;return Ee(r.uid===m,i,"user-mismatch"),vi._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Mn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(r,e,t=!1){if(In(r.app))return Promise.reject(Vr(r));const i="signIn",o=await V_(r,i,e),l=await vi._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}async function zI(r,e){return O_(Ti(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(r){const e=Ti(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BI(r,e,t){if(In(r.app))return Promise.reject(Vr(r));const i=Ti(r),h=await Ud(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&M_(r),g}),m=await vi._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function $I(r,e,t){return In(r.app)?Promise.reject(Vr(r)):zI(Ot(r),Mo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&M_(r),i})}function HI(r,e,t,i){return Ot(r).onIdTokenChanged(e,t,i)}function WI(r,e,t){return Ot(r).beforeAuthStateChanged(e,t)}function qI(r,e,t,i){return Ot(r).onAuthStateChanged(e,t,i)}function GI(r){return Ot(r).signOut()}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=1e3,QI=10;class F_ extends L_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);dI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}F_.type="LOCAL";const YI=F_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends L_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}j_.type="SESSION";const U_=j_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ac(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(h).map(async _=>_(t.origin,l)),g=await XI(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,g)=>{const _=vf("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(I){const C=I;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(C.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function ZI(r){ir().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function e1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t1(){return navigator?.serviceWorker?.controller||null}function n1(){return z_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="firebaseLocalStorageDb",r1=1,ac="firebaseLocalStorage",$_="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cc(r,e){return r.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function s1(){const r=indexedDB.deleteDatabase(B_);return new pl(r).toPromise()}function zd(){const r=indexedDB.open(B_,r1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(ac,{keyPath:$_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(ac)?e(i):(i.close(),await s1(),e(await zd()))})})}async function Fg(r,e,t){const i=Cc(r,!0).put({[$_]:e,value:t});return new pl(i).toPromise()}async function i1(r,e){const t=Cc(r,!1).get(e),i=await new pl(t).toPromise();return i===void 0?null:i.value}function jg(r,e){const t=Cc(r,!0).delete(e);return new pl(t).toPromise()}const o1=800,a1=3;class H_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>a1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(n1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e1(),!this.activeServiceWorker)return;this.sender=new JI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zd();return await Fg(e,oc,"1"),await jg(e,oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fg(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>i1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Cc(o,!1).getAll();return new pl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H_.type="LOCAL";const l1=H_;new hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r,e){return e?Dr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends yf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c1(r){return O_(r.auth,new wf(r),r.bypassAuthState)}function h1(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),UI(t,new wf(r),r.bypassAuthState)}async function d1(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),jI(t,new wf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c1;case"linkViaPopup":case"linkViaRedirect":return d1;case"reauthViaPopup":case"reauthViaRedirect":return h1;default:Mn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new hl(2e3,1e4);class Eo extends W_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f1.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="pendingRedirect",qu=new Map;class m1 extends W_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=qu.get(this.auth._key());if(!e){try{const i=await g1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}qu.set(this.auth._key(),e)}return this.bypassAuthState||qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g1(r,e){const t=v1(e),i=_1(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function y1(r,e){qu.set(r._key(),e)}function _1(r){return Dr(r._redirectPersistence)}function v1(r){return Wu(p1,r.config.apiKey,r.name)}async function w1(r,e,t=!1){if(In(r.app))return Promise.reject(Vr(r));const i=Ti(r),o=u1(i,e),h=await new m1(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=600*1e3;class T1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!q_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(sr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ug(e))}saveEventToCache(e){this.cachedEventUids.add(Ug(e)),this.lastProcessedEventTime=Date.now()}}function Ug(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function q_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function I1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(r,e={}){return Os(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A1=/^https?/;async function C1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await S1(r);for(const t of e)try{if(R1(t))return}catch{}Mn(r,"unauthorized-domain")}function R1(r){const e=Fd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!A1.test(t))return!1;if(k1.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new hl(3e4,6e4);function zg(){const r=ir().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function x1(r){return new Promise((e,t)=>{function i(){zg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zg(),t(sr(r,"network-request-failed"))},timeout:P1.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)i();else{const o=EI("iframefcb");return ir()[o]=()=>{gapi.load?i():t(sr(r,"network-request-failed"))},x_(`${wI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function N1(r){return Gu=Gu||x1(r),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new hl(5e3,15e3),D1="__/auth/iframe",V1="emulator/auth/iframe",O1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L1(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?pf(e,V1):`https://${r.config.authDomain}/${D1}`,i={apiKey:e.apiKey,appName:r.name,v:Oo},o=M1.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${cl(i).slice(1)}`}async function F1(r){const e=await N1(r),t=ir().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:L1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=sr(r,"network-request-failed"),m=ir().setTimeout(()=>{l(h)},b1.get());function g(){ir().clearTimeout(m),o(i)}i.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U1=500,z1=600,B1="_blank",$1="http://localhost";class Bg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H1(r,e,t,i=U1,o=z1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...j1,width:i.toString(),height:o.toString(),top:l,left:h},_=Wt().toLowerCase();t&&(m=I_(_)?B1:t),E_(_)&&(e=e||$1,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[z,G])=>`${C}${z}=${G},`,"");if(hI(_)&&m!=="_self")return W1(e||"",m),new Bg(null);const I=window.open(e||"",m,E);Ee(I,r,"popup-blocked");try{I.focus()}catch{}return new Bg(I)}function W1(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="__/auth/handler",G1="emulator/auth/handler",K1=encodeURIComponent("fac");async function $g(r,e,t,i,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Oo,eventId:o};if(e instanceof D_){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",NE(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))h[E]=I}if(e instanceof fl){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),_=g?`#${K1}=${encodeURIComponent(g)}`:"";return`${Q1(r)}?${cl(m).slice(1)}${_}`}function Q1({config:r}){return r.emulator?pf(r,G1):`https://${r.authDomain}/${q1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class Y1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U_,this._completeRedirectFn=w1,this._overrideRedirectResult=y1}async _openPopup(e,t,i,o){Mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await $g(e,t,i,Fd(),o);return H1(e,l,vf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await $g(e,t,i,Fd(),o);return ZI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Mr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await F1(e),i=new T1(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kd,{type:kd},o=>{const l=o?.[0]?.[kd];l!==void 0&&t(!!l),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return R_()||T_()||gf()}}const X1=Y1;var Hg="@firebase/auth",Wg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eS(r){Co(new yi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P_(r)},_=new yI(i,o,l,g);return CI(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Co(new yi("auth-internal",e=>{const t=Ti(e.getProvider("auth").getImmediate());return(i=>new J1(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(Hg,Wg,Z1(r)),ks(Hg,Wg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=300,nS=s_("authIdTokenMaxAge")||tS;let qg=null;const rS=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nS)return;const o=t?.token;qg!==o&&(qg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sS(r=c_()){const e=df(r,"auth");if(e.isInitialized())return e.getImmediate();const t=AI(r,{popupRedirectResolver:X1,persistence:[l1,YI,U_]}),i=s_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=rS(l.toString());WI(t,h,()=>h(t.currentUser)),HI(t,m=>h(m))}}const o=n_("auth");return o&&RI(t,`http://${o}`),t}function iS(){return document.getElementsByTagName("head")?.[0]??document}_I({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=sr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",iS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eS("Browser");var Gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,G_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function k(){}k.prototype=T.prototype,x.F=T.prototype,x.prototype=new k,x.prototype.constructor=x,x.D=function(b,N,O){for(var A=Array(arguments.length-2),We=2;We<arguments.length;We++)A[We-2]=arguments[We];return T.prototype[N].apply(b,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,k){k||(k=0);const b=Array(16);if(typeof T=="string")for(var N=0;N<16;++N)b[N]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(N=0;N<16;++N)b[N]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=x.g[0],k=x.g[1],N=x.g[2];let O=x.g[3],A;A=T+(O^k&(N^O))+b[0]+3614090360&4294967295,T=k+(A<<7&4294967295|A>>>25),A=O+(N^T&(k^N))+b[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(k^O&(T^k))+b[2]+606105819&4294967295,N=O+(A<<17&4294967295|A>>>15),A=k+(T^N&(O^T))+b[3]+3250441966&4294967295,k=N+(A<<22&4294967295|A>>>10),A=T+(O^k&(N^O))+b[4]+4118548399&4294967295,T=k+(A<<7&4294967295|A>>>25),A=O+(N^T&(k^N))+b[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(k^O&(T^k))+b[6]+2821735955&4294967295,N=O+(A<<17&4294967295|A>>>15),A=k+(T^N&(O^T))+b[7]+4249261313&4294967295,k=N+(A<<22&4294967295|A>>>10),A=T+(O^k&(N^O))+b[8]+1770035416&4294967295,T=k+(A<<7&4294967295|A>>>25),A=O+(N^T&(k^N))+b[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(k^O&(T^k))+b[10]+4294925233&4294967295,N=O+(A<<17&4294967295|A>>>15),A=k+(T^N&(O^T))+b[11]+2304563134&4294967295,k=N+(A<<22&4294967295|A>>>10),A=T+(O^k&(N^O))+b[12]+1804603682&4294967295,T=k+(A<<7&4294967295|A>>>25),A=O+(N^T&(k^N))+b[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(k^O&(T^k))+b[14]+2792965006&4294967295,N=O+(A<<17&4294967295|A>>>15),A=k+(T^N&(O^T))+b[15]+1236535329&4294967295,k=N+(A<<22&4294967295|A>>>10),A=T+(N^O&(k^N))+b[1]+4129170786&4294967295,T=k+(A<<5&4294967295|A>>>27),A=O+(k^N&(T^k))+b[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^k&(O^T))+b[11]+643717713&4294967295,N=O+(A<<14&4294967295|A>>>18),A=k+(O^T&(N^O))+b[0]+3921069994&4294967295,k=N+(A<<20&4294967295|A>>>12),A=T+(N^O&(k^N))+b[5]+3593408605&4294967295,T=k+(A<<5&4294967295|A>>>27),A=O+(k^N&(T^k))+b[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^k&(O^T))+b[15]+3634488961&4294967295,N=O+(A<<14&4294967295|A>>>18),A=k+(O^T&(N^O))+b[4]+3889429448&4294967295,k=N+(A<<20&4294967295|A>>>12),A=T+(N^O&(k^N))+b[9]+568446438&4294967295,T=k+(A<<5&4294967295|A>>>27),A=O+(k^N&(T^k))+b[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^k&(O^T))+b[3]+4107603335&4294967295,N=O+(A<<14&4294967295|A>>>18),A=k+(O^T&(N^O))+b[8]+1163531501&4294967295,k=N+(A<<20&4294967295|A>>>12),A=T+(N^O&(k^N))+b[13]+2850285829&4294967295,T=k+(A<<5&4294967295|A>>>27),A=O+(k^N&(T^k))+b[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^k&(O^T))+b[7]+1735328473&4294967295,N=O+(A<<14&4294967295|A>>>18),A=k+(O^T&(N^O))+b[12]+2368359562&4294967295,k=N+(A<<20&4294967295|A>>>12),A=T+(k^N^O)+b[5]+4294588738&4294967295,T=k+(A<<4&4294967295|A>>>28),A=O+(T^k^N)+b[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^k)+b[11]+1839030562&4294967295,N=O+(A<<16&4294967295|A>>>16),A=k+(N^O^T)+b[14]+4259657740&4294967295,k=N+(A<<23&4294967295|A>>>9),A=T+(k^N^O)+b[1]+2763975236&4294967295,T=k+(A<<4&4294967295|A>>>28),A=O+(T^k^N)+b[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^k)+b[7]+4139469664&4294967295,N=O+(A<<16&4294967295|A>>>16),A=k+(N^O^T)+b[10]+3200236656&4294967295,k=N+(A<<23&4294967295|A>>>9),A=T+(k^N^O)+b[13]+681279174&4294967295,T=k+(A<<4&4294967295|A>>>28),A=O+(T^k^N)+b[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^k)+b[3]+3572445317&4294967295,N=O+(A<<16&4294967295|A>>>16),A=k+(N^O^T)+b[6]+76029189&4294967295,k=N+(A<<23&4294967295|A>>>9),A=T+(k^N^O)+b[9]+3654602809&4294967295,T=k+(A<<4&4294967295|A>>>28),A=O+(T^k^N)+b[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^k)+b[15]+530742520&4294967295,N=O+(A<<16&4294967295|A>>>16),A=k+(N^O^T)+b[2]+3299628645&4294967295,k=N+(A<<23&4294967295|A>>>9),A=T+(N^(k|~O))+b[0]+4096336452&4294967295,T=k+(A<<6&4294967295|A>>>26),A=O+(k^(T|~N))+b[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~k))+b[14]+2878612391&4294967295,N=O+(A<<15&4294967295|A>>>17),A=k+(O^(N|~T))+b[5]+4237533241&4294967295,k=N+(A<<21&4294967295|A>>>11),A=T+(N^(k|~O))+b[12]+1700485571&4294967295,T=k+(A<<6&4294967295|A>>>26),A=O+(k^(T|~N))+b[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~k))+b[10]+4293915773&4294967295,N=O+(A<<15&4294967295|A>>>17),A=k+(O^(N|~T))+b[1]+2240044497&4294967295,k=N+(A<<21&4294967295|A>>>11),A=T+(N^(k|~O))+b[8]+1873313359&4294967295,T=k+(A<<6&4294967295|A>>>26),A=O+(k^(T|~N))+b[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~k))+b[6]+2734768916&4294967295,N=O+(A<<15&4294967295|A>>>17),A=k+(O^(N|~T))+b[13]+1309151649&4294967295,k=N+(A<<21&4294967295|A>>>11),A=T+(N^(k|~O))+b[4]+4149444226&4294967295,T=k+(A<<6&4294967295|A>>>26),A=O+(k^(T|~N))+b[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~k))+b[2]+718787259&4294967295,N=O+(A<<15&4294967295|A>>>17),A=k+(O^(N|~T))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+O&4294967295}i.prototype.v=function(x,T){T===void 0&&(T=x.length);const k=T-this.blockSize,b=this.C;let N=this.h,O=0;for(;O<T;){if(N==0)for(;O<=k;)o(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<T;)if(b[N++]=x.charCodeAt(O++),N==this.blockSize){o(this,b),N=0;break}}else for(;O<T;)if(b[N++]=x[O++],N==this.blockSize){o(this,b),N=0;break}}this.h=N,this.o+=T},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;T=this.o*8;for(var k=x.length-8;k<x.length;++k)x[k]=T&255,T/=256;for(this.v(x),x=Array(16),T=0,k=0;k<4;++k)for(let b=0;b<32;b+=8)x[T++]=this.g[k]>>>b&255;return x};function l(x,T){var k=m;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=T(x)}function h(x,T){this.h=T;const k=[];let b=!0;for(let N=x.length-1;N>=0;N--){const O=x[N]|0;b&&O==T||(k[N]=O,b=!1)}this.g=k}var m={};function g(x){return-128<=x&&x<128?l(x,function(T){return new h([T|0],T<0?-1:0)}):new h([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return I;if(x<0)return B(_(-x));const T=[];let k=1;for(let b=0;x>=k;b++)T[b]=x/k|0,k*=4294967296;return new h(T,0)}function E(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return B(E(x.substring(1),T));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=_(Math.pow(T,8));let b=I;for(let O=0;O<x.length;O+=8){var N=Math.min(8,x.length-O);const A=parseInt(x.substring(O,O+N),T);N<8?(N=_(Math.pow(T,N)),b=b.j(N).add(_(A))):(b=b.j(k),b=b.add(_(A)))}return b}var I=g(0),C=g(1),z=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-B(this).m();let x=0,T=1;for(let k=0;k<this.g.length;k++){const b=this.i(k);x+=(b>=0?b:4294967296+b)*T,T*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(q(this))return"-"+B(this).toString(x);const T=_(Math.pow(x,6));var k=this;let b="";for(;;){const N=Se(k,T).g;k=ne(k,N.j(T));let O=((k.g.length>0?k.g[0]:k.h)>>>0).toString(x);if(k=N,G(k))return O+b;for(;O.length<6;)O="0"+O;b=O+b}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(let T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function q(x){return x.h==-1}r.l=function(x){return x=ne(this,x),q(x)?-1:G(x)?0:1};function B(x){const T=x.g.length,k=[];for(let b=0;b<T;b++)k[b]=~x.g[b];return new h(k,~x.h).add(C)}r.abs=function(){return q(this)?B(this):this},r.add=function(x){const T=Math.max(this.g.length,x.g.length),k=[];let b=0;for(let N=0;N<=T;N++){let O=b+(this.i(N)&65535)+(x.i(N)&65535),A=(O>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);b=A>>>16,O&=65535,A&=65535,k[N]=A<<16|O}return new h(k,k[k.length-1]&-2147483648?-1:0)};function ne(x,T){return x.add(B(T))}r.j=function(x){if(G(this)||G(x))return I;if(q(this))return q(x)?B(this).j(B(x)):B(B(this).j(x));if(q(x))return B(this.j(B(x)));if(this.l(z)<0&&x.l(z)<0)return _(this.m()*x.m());const T=this.g.length+x.g.length,k=[];for(var b=0;b<2*T;b++)k[b]=0;for(b=0;b<this.g.length;b++)for(let N=0;N<x.g.length;N++){const O=this.i(b)>>>16,A=this.i(b)&65535,We=x.i(N)>>>16,Xe=x.i(N)&65535;k[2*b+2*N]+=A*Xe,te(k,2*b+2*N),k[2*b+2*N+1]+=O*Xe,te(k,2*b+2*N+1),k[2*b+2*N+1]+=A*We,te(k,2*b+2*N+1),k[2*b+2*N+2]+=O*We,te(k,2*b+2*N+2)}for(x=0;x<T;x++)k[x]=k[2*x+1]<<16|k[2*x];for(x=T;x<2*T;x++)k[x]=0;return new h(k,0)};function te(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function J(x,T){this.g=x,this.h=T}function Se(x,T){if(G(T))throw Error("division by zero");if(G(x))return new J(I,I);if(q(x))return T=Se(B(x),T),new J(B(T.g),B(T.h));if(q(T))return T=Se(x,B(T)),new J(B(T.g),T.h);if(x.g.length>30){if(q(x)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var k=C,b=T;b.l(x)<=0;)k=Le(k),b=Le(b);var N=Ae(k,1),O=Ae(b,1);for(b=Ae(b,2),k=Ae(k,2);!G(b);){var A=O.add(b);A.l(x)<=0&&(N=N.add(k),O=A),b=Ae(b,1),k=Ae(k,1)}return T=ne(x,N.j(T)),new J(N,T)}for(N=I;x.l(T)>=0;){for(k=Math.max(1,Math.floor(x.m()/T.m())),b=Math.ceil(Math.log(k)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),O=_(k),A=O.j(T);q(A)||A.l(x)>0;)k-=b,O=_(k),A=O.j(T);G(O)&&(O=C),N=N.add(O),x=ne(x,A)}return new J(N,x)}r.B=function(x){return Se(this,x).h},r.and=function(x){const T=Math.max(this.g.length,x.g.length),k=[];for(let b=0;b<T;b++)k[b]=this.i(b)&x.i(b);return new h(k,this.h&x.h)},r.or=function(x){const T=Math.max(this.g.length,x.g.length),k=[];for(let b=0;b<T;b++)k[b]=this.i(b)|x.i(b);return new h(k,this.h|x.h)},r.xor=function(x){const T=Math.max(this.g.length,x.g.length),k=[];for(let b=0;b<T;b++)k[b]=this.i(b)^x.i(b);return new h(k,this.h^x.h)};function Le(x){const T=x.g.length+1,k=[];for(let b=0;b<T;b++)k[b]=x.i(b)<<1|x.i(b-1)>>>31;return new h(k,x.h)}function Ae(x,T){const k=T>>5;T%=32;const b=x.g.length-k,N=[];for(let O=0;O<b;O++)N[O]=T>0?x.i(O+k)>>>T|x.i(O+k+1)<<32-T:x.i(O+k);return new h(N,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,G_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,As=h}).apply(typeof Gg<"u"?Gg:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K_,Ua,Q_,Ku,Bd,Y_,X_,J_;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var y=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in y))break e;y=y[L]}u=u[u.length-1],w=y[u],p=p(w),p!=w&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var y=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&y.push([w,p[w]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,y){return u.call.apply(u.bind,arguments)}function _(u,p,y){return _=g,_.apply(null,arguments)}function E(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function I(u,p){function y(){}y.prototype=p.prototype,u.Z=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(w,L,U){for(var ee=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ee[Ce-2]=arguments[Ce];return p.prototype[L].apply(w,ee)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const p=u.length;if(p>0){const y=Array(p);for(let w=0;w<p;w++)y[w]=u[w];return y}return[]}function G(u,p){for(let w=1;w<arguments.length;w++){const L=arguments[w];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const U=L.length||0;u.length=y+U;for(let ee=0;ee<U;ee++)u[y+ee]=L[ee]}else u.push(L)}}class q{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function B(u){h.setTimeout(()=>{throw u},0)}function ne(){var u=x;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class te{constructor(){this.h=this.g=null}add(p,y){const w=J.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new q(()=>new Se,u=>u.reset());class Se{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,Ae=!1,x=new te,T=()=>{const u=Promise.resolve(void 0);Le=()=>{u.then(k)}};function k(){for(var u;u=ne();){try{u.h.call(u.g)}catch(y){B(y)}var p=J;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ae=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,p),h.removeEventListener("test",y,p)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function We(u,p){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}I(We,N),We.prototype.init=function(u,p){const y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),Qe=0;function ze(u,p,y,w,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=L,this.key=++Qe,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,p,y){for(const w in u)p.call(y,u[w],w,u)}function re(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function V(u){const p={};for(const y in u)p[y]=u[y];return p}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(u,p){let y,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(y in w)u[y]=w[y];for(let U=0;U<W.length;U++)y=W[U],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,p,y,w,L){const U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);const ee=xe(u,p,w,L);return ee>-1?(p=u[ee],y||(p.fa=!1)):(p=new ze(p,this.src,U,!!w,L),p.fa=y,u.push(p)),p};function Pe(u,p){const y=p.type;if(y in u.g){var w=u.g[y],L=Array.prototype.indexOf.call(w,p,void 0),U;(U=L>=0)&&Array.prototype.splice.call(w,L,1),U&&($(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function xe(u,p,y,w){for(let L=0;L<u.length;++L){const U=u[L];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==w)return L}return-1}var we="closure_lm_"+(Math.random()*1e6|0),De={};function Be(u,p,y,w,L){if(Array.isArray(p)){for(let U=0;U<p.length;U++)Be(u,p[U],y,w,L);return null}return y=$o(y),u&&u[Xe]?u.J(p,y,m(w)?!!w.capture:!1,L):ft(u,p,y,!1,w,L)}function ft(u,p,y,w,L,U){if(!p)throw Error("Invalid event type");const ee=m(L)?!!L.capture:!!L;let Ce=Ai(u);if(Ce||(u[we]=Ce=new ge(u)),y=Ce.add(p,y,w,ee,U),y.proxy)return y;if(w=Ln(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)O||(L=ee),L===void 0&&(L=!1),u.addEventListener(p.toString(),w,L);else if(u.attachEvent)u.attachEvent(ki(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ln(){function u(y){return p.call(u.src,u.listener,y)}const p=wl;return u}function Fn(u,p,y,w,L){if(Array.isArray(p))for(var U=0;U<p.length;U++)Fn(u,p[U],y,w,L);else w=m(w)?!!w.capture:!!w,y=$o(y),u&&u[Xe]?(u=u.i,U=String(p).toString(),U in u.g&&(p=u.g[U],y=xe(p,y,w,L),y>-1&&($(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete u.g[U],u.h--)))):u&&(u=Ai(u))&&(p=u.g[p.toString()],u=-1,p&&(u=xe(p,y,w,L)),(y=u>-1?p[u]:null)&&Ur(y))}function Ur(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Xe])Pe(p.i,u);else{var y=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(y,w,u.capture):p.detachEvent?p.detachEvent(ki(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=Ai(p))?(Pe(y,u),y.h==0&&(y.src=null,p[we]=null)):$(u)}}}function ki(u){return u in De?De[u]:De[u]="on"+u}function wl(u,p){if(u.da)u=!0;else{p=new We(p,this);const y=u.listener,w=u.ha||u.src;u.fa&&Ur(u),u=y.call(w,p)}return u}function Ai(u){return u=u[we],u instanceof ge?u:null}var Fs="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(u){return typeof u=="function"?u:(u[Fs]||(u[Fs]=function(p){return u.handleEvent(p)}),u[Fs])}function pt(){b.call(this),this.i=new ge(this),this.M=this,this.G=null}I(pt,b),pt.prototype[Xe]=!0,pt.prototype.removeEventListener=function(u,p,y,w){Fn(this,u,p,y,w)};function ut(u,p){var y,w=u.G;if(w)for(y=[];w;w=w.G)y.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new N(p,u);else if(p instanceof N)p.target=p.target||u;else{var L=p;p=new N(w,u),de(p,L)}L=!0;let U,ee;if(y)for(ee=y.length-1;ee>=0;ee--)U=p.g=y[ee],L=kn(U,w,!0,p)&&L;if(U=p.g=u,L=kn(U,w,!0,p)&&L,L=kn(U,w,!1,p)&&L,y)for(ee=0;ee<y.length;ee++)U=p.g=y[ee],L=kn(U,w,!1,p)&&L}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const y=u.g[p];for(let w=0;w<y.length;w++)$(y[w]);delete u.g[p],u.h--}}this.G=null},pt.prototype.J=function(u,p,y,w){return this.i.add(String(u),p,!1,y,w)},pt.prototype.K=function(u,p,y,w){return this.i.add(String(u),p,!0,y,w)};function kn(u,p,y,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let U=0;U<p.length;++U){const ee=p[U];if(ee&&!ee.da&&ee.capture==y){const Ce=ee.listener,ct=ee.ha||ee.src;ee.fa&&Pe(u.i,ee),L=Ce.call(ct,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ho(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(u,p||0)}function Wo(u){u.g=Ho(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class El extends b{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){b.call(this),this.h=u,this.g={}}I(zr,b);var qo=[];function Ci(u){pe(u.g,function(p,y){this.g.hasOwnProperty(y)&&Ur(p)},u),u.g={}}zr.prototype.N=function(){zr.Z.N.call(this),Ci(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=h.JSON.stringify,Tl=h.JSON.parse,js=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function $r(){}function Il(){}var Hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ri(){N.call(this,"d")}I(Ri,N);function Go(){N.call(this,"c")}I(Go,N);var An={},Pi=null;function Wr(){return Pi=Pi||new pt}An.Ia="serverreachability";function xi(u){N.call(this,An.Ia,u)}I(xi,N);function fr(u){const p=Wr();ut(p,new xi(p))}An.STAT_EVENT="statevent";function pr(u,p){N.call(this,An.STAT_EVENT,u),this.stat=p}I(pr,N);function at(u){const p=Wr();ut(p,new pr(p,u))}An.Ja="timingevent";function Ko(u,p){N.call(this,An.Ja,u),this.size=p}I(Ko,N);function qr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},p)}function Gr(){this.g=!0}Gr.prototype.ua=function(){this.g=!1};function Sl(u,p,y,w,L,U){u.info(function(){if(u.g)if(U){var ee="",Ce=U.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var ct=Ce[Ge].split("=");if(ct.length>1){const mt=ct[0];ct=ct[1];const cn=mt.split("_");ee=cn.length>=2&&cn[1]=="type"?ee+(mt+"="+ct+"&"):ee+(mt+"=redacted&")}}}else ee=null;else ee=U;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+y+`
`+ee})}function kl(u,p,y,w,L,U,ee){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+y+`
`+U+" "+ee})}function jn(u,p,y,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Us(u,y)+(w?" "+w:"")})}function Al(u,p){u.info(function(){return"TIMEOUT: "+p})}Gr.prototype.info=function(){};function Us(u,p){if(!u.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(u=0;u<U.length;u++)if(Array.isArray(U[u])){var y=U[u];if(!(y.length<2)){var w=y[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<w.length;ee++)w[ee]=""}}}}return Br(U)}catch{return p}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cl;function mr(){}I(mr,$r),mr.prototype.g=function(){return new XMLHttpRequest},Cl=new mr;function Un(u){return encodeURIComponent(String(u))}function Ni(u){var p=1;u=u.split(":");const y=[];for(;p>0&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function mn(u,p,y,w){this.j=u,this.i=p,this.l=y,this.S=w||1,this.V=new zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rl}function Rl(){this.i=null,this.g="",this.h=!1}var Pl={},Qo={};function Cn(u,p,y){u.M=1,u.A=yr(gn(p)),u.u=y,u.R=!0,Yo(u,null)}function Yo(u,p){u.F=Date.now(),zs(u),u.B=gn(u.A);var y=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),oa(y.i,"t",w),u.C=0,y=u.j.L,u.h=new Rl,u.g=jl(u.j,y?p:null,!u.u),u.P>0&&(u.O=new El(_(u.Y,u,u.g),u.P)),p=u.V,y=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(qo[0]=L.toString()),L=qo);for(let U=0;U<L.length;U++){const ee=Be(y,L[U],w||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),fr(),Sl(u.i,u.v,u.B,u.l,u.S,u.u)}mn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Gn(u)==3?p.j():this.Y(u)},mn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Gn(this.g),ct=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ll(this.g)))){this.K||Ce!=4||ct==7||(ct==8||Ge<=0?fr(3):fr(2)),bi(this);var p=this.g.ca();this.X=p;var y=xl(this);if(this.o=p==200,kl(this.i,this.v,this.B,this.l,this.S,Ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var U=w;break t}}U=null}if(u=U)jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,u);else{this.o=!1,this.m=3,at(12),gr(this),Bs(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<y.length;)if(mt=bl(this,y),mt==Qo){Ce==4&&(this.m=4,at(14),u=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Pl){this.m=4,at(15),jn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else jn(this.i,this.l,mt,null),Je(this,mt);if(Nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||y.length!=0||this.h.h||(this.m=1,at(16),u=!1),this.o=this.o&&u,!u)jn(this.i,this.l,y,"[Invalid Chunked Response]"),gr(this),Bs(this);else if(y.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Xs(ee),ee.P=!0,at(11))}}else jn(this.i,this.l,y,null),Je(this,y);Ce==4&&gr(this),this.o&&!this.K&&(Ce==4?Bi(this.j,this):(this.o=!1,zs(this)))}else la(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),gr(this),Bs(this)}}}catch{}finally{}};function xl(u){if(!Nl(u))return u.g.la();const p=Ll(u.g);if(p==="")return"";let y="";const w=p.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gr(u),Bs(u),"";u.h.i=new h.TextDecoder}for(let U=0;U<w;U++)u.h.h=!0,y+=u.h.i.decode(p[U],{stream:!(L&&U==w-1)});return p.length=0,u.h.g+=y,u.C=0,u.h.g}function Nl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bl(u,p){var y=u.C,w=p.indexOf(`
`,y);return w==-1?Qo:(y=Number(p.substring(y,w)),isNaN(y)?Pl:(w+=1,w+y>p.length?Qo:(p=p.slice(w,w+y),u.C=w+y,p)))}mn.prototype.cancel=function(){this.K=!0,gr(this)};function zs(u){u.T=Date.now()+u.H,Xo(u,u.H)}function Xo(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=qr(_(u.aa,u),p)}function bi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Al(this.i,this.B),this.M!=2&&(fr(),at(17)),gr(this),this.m=2,Bs(this)):Xo(this,this.T-u)};function Bs(u){u.j.I==0||u.K||Bi(u.j,u)}function gr(u){bi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Ci(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Je(u,p){try{var y=u.j;if(y.I!=0&&(y.g==u||Zo(y.h,u))){if(!u.L&&Zo(y.h,u)&&y.I==3){try{var w=y.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)zi(y),ln(y);else break e;Yn(y),at(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=qr(_(y.Va,y),6e3));$s(y.h)<=1&&y.ta&&(y.ta=void 0)}else un(y,11)}else if((u.L||y.g==u)&&zi(y),!A(p))for(L=y.Ba.g.parse(p),p=0;p<L.length;p++){let Ge=L[p];const mt=Ge[0];if(!(mt<=y.K))if(y.K=mt,Ge=Ge[1],y.I==2)if(Ge[0]=="c"){y.M=Ge[1],y.ba=Ge[2];const cn=Ge[3];cn!=null&&(y.ka=cn,y.j.info("VER="+y.ka));const Tr=Ge[4];Tr!=null&&(y.za=Tr,y.j.info("SVER="+y.za));const Xn=Ge[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(w=1.5*Xn,y.O=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Jn=u.g;if(Jn){const Wi=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var U=w.h;U.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Vi(U,U.h),U.h=null))}if(w.G){const ha=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(w.wa=ha,He(w.J,w.G,ha))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),w=y;var ee=u;if(w.na=ca(w,w.L?w.ba:null,w.W),ee.L){Hs(w.h,ee);var Ce=ee,ct=w.O;ct&&(Ce.H=ct),Ce.D&&(bi(Ce),zs(Ce)),w.g=ee}else Lt(w);y.i.length>0&&Er(y)}else Ge[0]!="stop"&&Ge[0]!="close"||un(y,7);else y.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?un(y,7):ji(y):Ge[0]!="noop"&&y.l&&y.l.qa(Ge),y.A=0)}}fr(4)}catch{}}var Wc=class{constructor(u,p){this.g=u,this.map=p}};function Di(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $s(u){return u.h?1:u.g?u.g.size:0}function Zo(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Vi(u,p){u.g?u.g.add(p):u.h=p}function Hs(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Di.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.G);return p}return z(u.i)}var Dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function on(u,p){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const w=u[y].indexOf("=");let L,U=null;w>=0?(L=u[y].substring(0,w),U=u[y].substring(w+1)):L=u[y],p(L,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof zn?(this.l=u.l,Ws(this,u.j),this.o=u.o,this.g=u.g,Bn(this,u.u),this.h=u.h,Yr(this,aa(u.i)),this.m=u.m):u&&(p=String(u).match(Dl))?(this.l=!1,Ws(this,p[1]||"",!0),this.o=qs(p[2]||""),this.g=qs(p[3]||"",!0),Bn(this,p[4]),this.h=qs(p[5]||"",!0),Yr(this,p[6]||"",!0),this.m=qs(p[7]||"")):(this.l=!1,this.i=new Fe(null,this.l))}zn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Gs(p,ta,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Gs(p,ta,!0),"@"),u.push(Un(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Gs(y,y.charAt(0)=="/"?Ks:na,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Gs(y,ra)),u.join("")},zn.prototype.resolve=function(u){const p=gn(this);let y=!!u.j;y?Ws(p,u.j):y=!!u.o,y?p.o=u.o:y=!!u.g,y?p.g=u.g:y=u.u!=null;var w=u.h;if(y)Bn(p,u.u);else if(y=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=p.h.lastIndexOf("/");L!=-1&&(w=p.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const U=[];for(let ee=0;ee<L.length;){const Ce=L[ee++];Ce=="."?w&&ee==L.length&&U.push(""):Ce==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),w&&ee==L.length&&U.push("")):(U.push(Ce),w=!0)}w=U.join("/")}else w=L}return y?p.h=w:y=u.i.toString()!=="",y?Yr(p,aa(u.i)):y=!!u.m,y&&(p.m=u.m),p};function gn(u){return new zn(u)}function Ws(u,p,y){u.j=y?qs(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Bn(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Yr(u,p,y){p instanceof Fe?(u.i=p,Mi(u.i,u.l)):(y||(p=Gs(p,qc)),u.i=new Fe(p,u.l))}function He(u,p,y){u.i.set(p,y)}function yr(u){return He(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function qs(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gs(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,ea),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ea(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,na=/[#\?:]/g,Ks=/[#\?]/g,qc=/[#\?@]/g,ra=/#/g;function Fe(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function $n(u){u.g||(u.g=new Map,u.h=0,u.i&&on(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Fe.prototype,r.add=function(u,p){$n(this),this.i=null,u=Hn(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function sa(u,p){$n(u),p=Hn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Oi(u,p){return $n(u),p=Hn(u,p),u.g.has(p)}r.forEach=function(u,p){$n(this),this.g.forEach(function(y,w){y.forEach(function(L){u.call(p,L,w,this)},this)},this)};function ia(u,p){$n(u);let y=[];if(typeof p=="string")Oi(u,p)&&(y=y.concat(u.g.get(Hn(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)y=y.concat(u[p]);return y}r.set=function(u,p){return $n(this),this.i=null,u=Hn(this,u),Oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=ia(this,u),u.length>0?String(u[0]):p):p};function oa(u,p,y){sa(u,p),y.length>0&&(u.i=null,u.g.set(Hn(u,p),z(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var y=p[w];const L=Un(y);y=ia(this,y);for(let U=0;U<y.length;U++){let ee=L;y[U]!==""&&(ee+="="+Un(y[U])),u.push(ee)}}return this.i=u.join("&")};function aa(u){const p=new Fe;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Hn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Mi(u,p){p&&!u.j&&($n(u),u.i=null,u.g.forEach(function(y,w){const L=w.toLowerCase();w!=L&&(sa(this,w),oa(this,L,y))},u)),u.j=p}function Wn(u,p){const y=new Gr;if(h.Image){const w=new Image;w.onload=E(Pt,y,"TestLoadImage: loaded",!0,p,w),w.onerror=E(Pt,y,"TestLoadImage: error",!1,p,w),w.onabort=E(Pt,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(Pt,y,"TestLoadImage: timeout",!1,p,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function qn(u,p){const y=new Gr,w=new AbortController,L=setTimeout(()=>{w.abort(),Pt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(U=>{clearTimeout(L),U.ok?Pt(y,"TestPingServer: ok",!0,p):Pt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Pt(y,"TestPingServer: error",!1,p)})}function Pt(u,p,y,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(y)}catch{}}function Qs(){this.g=new js}function _r(u){this.i=u.Sb||null,this.h=u.ab||!1}I(_r,$r),_r.prototype.g=function(){return new an(this.i,this.h)};function an(u,p){pt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(an,pt),r=an.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Rn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Xr(this):Rn(this),this.readyState==3&&Vl(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Xr(this))},r.Na=function(u){this.g&&(this.response=u,Xr(this))},r.ga=function(){this.g&&Xr(this)};function Xr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Rn(u)}r.setRequestHeader=function(u,p){this.A.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Rn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(an.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ol(u){let p="";return pe(u,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Li(u,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Ol(y),typeof u=="string"?y!=null&&Un(y):He(u,p,y))}function Ke(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(Ke,pt);var Ml=/^https?$/i,Gc=["POST","PUT"];r=Ke.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){Jr(this,U);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)y.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())y.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),L=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Gc,p,void 0)>=0)||w||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of y)this.g.setRequestHeader(U,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(U){Jr(this,U)}};function Jr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Zr(u),wr(u)}function Zr(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ut(this,"complete"),ut(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),Ke.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof l<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ut(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const U=u.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=U===0){let ee=String(u.D).match(Dl)[1]||null;!ee&&h.self&&h.self.location&&(ee=h.self.location.protocol.slice(0,-1)),w=!Ml.test(ee?ee.toLowerCase():"")}y=w}if(y)ut(u,"complete"),ut(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Zr(u)}}finally{wr(u)}}}}function wr(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,p||ut(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Tl(p)}};function Ll(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function la(u){const p={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(A(u[w]))continue;var y=Ni(u[w]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[L]||[];p[L]=U,U.push(y)}re(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Fi(u){this.za=0,this.i=[],this.j=new Gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kn("baseRetryDelayMs",5e3,u),this.Za=Kn("retryDelaySeedMs",1e4,u),this.Ta=Kn("forwardChannelMaxRetries",2,u),this.va=Kn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Di(u&&u.concurrentRequestLimit),this.Ba=new Qs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fi.prototype,r.ka=8,r.I=1,r.connect=function(u,p,y,w){at(0),this.W=u,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.J=ca(this,null,this.W),Er(this)};function ji(u){if(Ui(u),u.I==3){var p=u.V++,y=gn(u.J);if(He(y,"SID",u.M),He(y,"RID",p),He(y,"TYPE","terminate"),Qn(u,y),p=new mn(u,u.j,p),p.M=2,p.A=yr(gn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&h.Image&&(new Image().src=p.A,y=!0),y||(p.g=jl(p.j,null),p.g.ea(p.A)),p.F=Date.now(),zs(p)}Js(u)}function ln(u){u.g&&(Xs(u),u.g.cancel(),u.g=null)}function Ui(u){ln(u),u.v&&(h.clearTimeout(u.v),u.v=null),zi(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Er(u){if(!Jo(u.h)&&!u.m){u.m=!0;var p=u.Ea;Le||T(),Ae||(Le(),Ae=!0),x.add(p,u),u.D=0}}function Fl(u,p){return $s(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=qr(_(u.Ea,u,p),$i(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new mn(this,this.j,u);let U=this.o;if(this.U&&(U?(U=V(U),de(U,this.U)):U=this.U),this.u!==null||this.R||(L.J=U,U=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=ua(this,L,p),y=gn(this.J),He(y,"RID",u),He(y,"CVER",22),this.G&&He(y,"X-HTTP-Session-Id",this.G),Qn(this,y),U&&(this.R?p="headers="+Un(Ol(U))+"&"+p:this.u&&Li(y,this.u,U)),Vi(this.h,L),this.Ra&&He(y,"TYPE","init"),this.S?(He(y,"$req",p),He(y,"SID","null"),L.U=!0,Cn(L,y,null)):Cn(L,y,p),this.I=2}}else this.I==3&&(u?Ys(this,u):this.i.length==0||Jo(this.h)||Ys(this))};function Ys(u,p){var y;p?y=p.l:y=u.V++;const w=gn(u.J);He(w,"SID",u.M),He(w,"RID",y),He(w,"AID",u.K),Qn(u,w),u.u&&u.o&&Li(w,u.u,u.o),y=new mn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),p&&(u.i=p.G.concat(u.i)),p=ua(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vi(u.h,y),Cn(y,w,p)}function Qn(u,p){u.H&&pe(u.H,function(y,w){He(p,w,y)}),u.l&&pe({},function(y,w){He(p,w,y)})}function ua(u,p,y){y=Math.min(u.i.length,y);const w=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const ct=["count="+y];Ce==-1?y>0?(Ce=L[0].g,ct.push("ofs="+Ce)):Ce=0:ct.push("ofs="+Ce);let Ge=!0;for(let mt=0;mt<y;mt++){var U=L[mt].g;const cn=L[mt].map;if(U-=Ce,U<0)Ce=Math.max(0,L[mt].g-100),Ge=!1;else try{U="req"+U+"_"||"";try{var ee=cn instanceof Map?cn:Object.entries(cn);for(const[Tr,Xn]of ee){let Jn=Xn;m(Xn)&&(Jn=Br(Xn)),ct.push(U+Tr+"="+encodeURIComponent(Jn))}}catch(Tr){throw ct.push(U+"type="+encodeURIComponent("_badmap")),Tr}}catch{w&&w(cn)}}if(Ge){ee=ct.join("&");break e}}ee=void 0}return u=u.i.splice(0,y),p.G=u,ee}function Lt(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Le||T(),Ae||(Le(),Ae=!0),x.add(p,u),u.A=0}}function Yn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=qr(_(u.Da,u),$i(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,es(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=qr(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),ln(this),es(this))};function Xs(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function es(u){u.g=new mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=gn(u.na);He(p,"RID","rpc"),He(p,"SID",u.M),He(p,"AID",u.K),He(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&He(p,"TO",u.ia),He(p,"TYPE","xmlhttp"),Qn(u,p),u.u&&u.o&&Li(p,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=yr(gn(p)),y.u=null,y.R=!0,Yo(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ln(this),Yn(this),at(19))};function zi(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Bi(u,p){var y=null;if(u.g==p){zi(u),Xs(u),u.g=null;var w=2}else if(Zo(u.h,p))y=p.G,Hs(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;w=Wr(),ut(w,new Ko(w,y)),Er(u)}else Lt(u);else if(L=p.m,L==3||L==0&&p.X>0||!(w==1&&Fl(u,p)||w==2&&Yn(u)))switch(y&&y.length>0&&(p=u.h,p.i=p.i.concat(y)),L){case 1:un(u,5);break;case 4:un(u,10);break;case 3:un(u,6);break;default:un(u,2)}}}function $i(u,p){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*p}function un(u,p){if(u.j.info("Error code "+p),p==2){var y=_(u.bb,u),w=u.Ua;const L=!w;w=new zn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ws(w,"https"),yr(w),L?Wn(w.toString(),y):qn(w.toString(),y)}else at(2);u.I=0,u.l&&u.l.pa(p),Js(u),Ui(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Js(u){if(u.I=0,u.ja=[],u.l){const p=sn(u.h);(p.length!=0||u.i.length!=0)&&(G(u.ja,p),G(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function ca(u,p,y){var w=y instanceof zn?gn(y):new zn(y);if(w.g!="")p&&(w.g=p+"."+w.g),Bn(w,w.u);else{var L=h.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const U=new zn(null);w&&Ws(U,w),p&&(U.g=p),L&&Bn(U,L),y&&(U.h=y),w=U}return y=u.G,p=u.wa,y&&p&&He(w,y,p),He(w,"VER",u.ka),Qn(u,w),w}function jl(u,p,y){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Ke(new _r({ab:y})):new Ke(u.ma),p.Fa(u.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ul(){}r=Ul.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hi(){}Hi.prototype.g=function(u,p){return new xt(u,p)};function xt(u,p){pt.call(this),this.g=new Fi(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!A(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ts(this)}I(xt,pt),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){ji(this.g)},xt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Br(u),u=y);p.i.push(new Wc(p.Ya++,u)),p.I==3&&Er(p)},xt.prototype.N=function(){this.g.l=null,delete this.j,ji(this.g),delete this.g,xt.Z.N.call(this)};function zl(u){Ri.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}I(zl,Ri);function Bl(){Go.call(this),this.status=1}I(Bl,Go);function ts(u){this.g=u}I(ts,Ul),ts.prototype.ra=function(){ut(this.g,"a")},ts.prototype.qa=function(u){ut(this.g,new zl(u))},ts.prototype.pa=function(u){ut(this.g,new Bl)},ts.prototype.oa=function(){ut(this.g,"b")},Hi.prototype.createWebChannel=Hi.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,J_=function(){return new Hi},X_=function(){return Wr()},Y_=An,Bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Ku=Kr,Qr.COMPLETE="complete",Q_=Qr,Il.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Ua=Il,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,K_=Ke}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const Kg="@firebase/firestore",Qg="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new cf("@firebase/firestore");function yo(){return wi.logLevel}function ie(r,...e){if(wi.logLevel<=Ve.DEBUG){const t=e.map(Ef);wi.debug(`Firestore (${Lo}): ${r}`,...t)}}function Lr(r,...e){if(wi.logLevel<=Ve.ERROR){const t=e.map(Ef);wi.error(`Firestore (${Lo}): ${r}`,...t)}}function Ro(r,...e){if(wi.logLevel<=Ve.WARN){const t=e.map(Ef);wi.warn(`Firestore (${Lo}): ${r}`,...t)}}function Ef(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Z_(r,i,t)}function Z_(r,e,t){let i=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Lr(i),new Error(i)}function qe(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||Z_(e,o,i)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class aS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lS{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new ev(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class uS{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cS{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new uS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const i=l=>{l.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ie("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=dS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Oe(r,e){return r<e?-1:r>e?1:0}function $d(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return Ad(o)===Ad(l)?Oe(o,l):Ad(o)?1:-1}return Oe(r.length,e.length)}const fS=55296,pS=57343;function Ad(r){const e=r.charCodeAt(0);return e>=fS&&e<=pS}function Po(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="__name__";class rr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=rr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Oe(e.length,t.length)}static compareSegments(e,t){const i=rr.isNumericId(e),o=rr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?rr.extractNumericId(e).compare(rr.extractNumericId(t)):$d(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class it extends rr{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const mS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends rr{construct(e,t,i){return new Vt(e,t,i)}static isValidIdentifier(e){return mS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xg}static keyField(){return new Vt([Xg])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new me(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(i+=m,o++):(l(),o++)}if(l(),h)throw new me(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r,e,t){if(!t)throw new me(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yS(r,e,t,i){if(e===!0&&i===!0)throw new me(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Jg(r){if(!ve.isDocumentKey(r))throw new me(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function If(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=If(r);throw new me(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e){const t={typeString:r};return e&&(t.value=e),t}function ml(r,e){if(!tv(r))throw new me(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=-62135596800,ey=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ey);return new tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zg)throw new me(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ey}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ml(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:_t("string",tt._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new tt(0,0))}static max(){return new ke(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=-1;function _S(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new tt(t+1,0):new tt(t,i));return new Rs(o,ve.empty(),e)}function vS(r){return new Rs(r.readTime,r.key,Za)}class Rs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Rs(ke.min(),ve.empty(),Za)}static max(){return new Rs(ke.max(),ve.empty(),Za)}}function wS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==ES)throw r;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,i)=>{t(e)}))}static reject(e){return new H(((t,i)=>{i(e)}))}static waitFor(e){return new H(((t,i)=>{let o=0,l=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++l,h&&l===o&&t()}),(g=>i(g)))})),h=!0,l===o&&t()}))}static or(e){let t=H.resolve(!1);for(const i of e)t=t.next((o=>o?H.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new H(((i,o)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next((E=>{h[_]=E,++m,m===l&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new H(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function IS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=-1;function Pc(r){return r==null}function lc(r){return r===0&&1/r==-1/0}function SS(r){return typeof r=="number"&&Number.isInteger(r)&&!lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="";function kS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ty(e)),e=AS(r.get(t),e);return ty(e)}function AS(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case nv:t+="";break;default:t+=l}}return t}function ty(r){return r+nv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ms(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function rv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ry(this.data.getIterator())}getIteratorFrom(e){return new ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new pn([])}unionWith(e){let t=new St(Vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sv("Invalid base64 string: "+l):l}})(e);return new Mt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(qe(!!r,39018),typeof r=="string"){let e=0;const t=CS.exec(r);if(qe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xs(r){return typeof r=="string"?Mt.fromBase64String(r):Mt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="server_timestamp",ov="__type__",av="__previous_value__",lv="__local_write_time__";function kf(r){return(r?.mapValue?.fields||{})[ov]?.stringValue===iv}function xc(r){const e=r.mapValue.fields[av];return kf(e)?xc(e):e}function el(r){const e=Ps(r.mapValue.fields[lv].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,i,o,l,h,m,g,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=E}}const uc="(default)";class tl{constructor(e,t){this.projectId=e,this.database=t||uc}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__type__",PS="__max__",ju={mapValue:{}},cv="__vector__",cc="value";function Ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kf(r)?4:NS(r)?9007199254740991:xS(r)?10:11:Te(28295,{value:r})}function hr(r,e){if(r===e)return!0;const t=Ns(r);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return el(r).isEqual(el(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ps(o.timestampValue),m=Ps(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return xs(o.bytesValue).isEqual(xs(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=dt(o.doubleValue),m=dt(l.doubleValue);return h===m?lc(h)===lc(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Po(r.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(ny(h)!==ny(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!hr(h[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function nl(r,e){return(r.values||[]).find((t=>hr(t,e)))!==void 0}function xo(r,e){if(r===e)return 0;const t=Ns(r),i=Ns(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const m=dt(l.integerValue||l.doubleValue),g=dt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return sy(r.timestampValue,e.timestampValue);case 4:return sy(el(r),el(e));case 5:return $d(r.stringValue,e.stringValue);case 6:return(function(l,h){const m=xs(l),g=xs(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const m=l.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=Oe(m[_],g[_]);if(E!==0)return E}return Oe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const m=Oe(dt(l.latitude),dt(h.latitude));return m!==0?m:Oe(dt(l.longitude),dt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){const m=l.fields||{},g=h.fields||{},_=m[cc]?.arrayValue,E=g[cc]?.arrayValue,I=Oe(_?.values?.length||0,E?.values?.length||0);return I!==0?I:iy(_,E)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===ju.mapValue&&h===ju.mapValue)return 0;if(l===ju.mapValue)return 1;if(h===ju.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const C=$d(g[I],E[I]);if(C!==0)return C;const z=xo(m[g[I]],_[E[I]]);if(z!==0)return z}return Oe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function sy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const t=Ps(r),i=Ps(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function iy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=xo(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function No(r){return Hd(r)}function Hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ps(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return xs(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ve.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Hd(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Hd(t.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Qu(r){switch(Ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Qu(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ms(i.fields,((l,h)=>{o+=l.length+Qu(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function Wd(r){return!!r&&"integerValue"in r}function Af(r){return!!r&&"arrayValue"in r}function oy(r){return!!r&&"nullValue"in r}function ay(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yu(r){return!!r&&"mapValue"in r}function xS(r){return(r?.mapValue?.fields||{})[uv]?.stringValue===cv}function qa(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ms(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=qa(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(r.arrayValue.values[t]);return e}return{...r}}function NS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Vt.emptyPath(),i={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=m.popLast()}h?i[m.lastSegment()]=qa(h):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ms(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new nn(qa(this.value))}}function hv(r){const e=[];return Ms(r.fields,((t,i)=>{const o=new Vt([t]);if(Yu(i)){const l=hv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,i,o,l,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ht(e,0,ke.min(),ke.min(),ke.min(),nn.empty(),0)}static newFoundDocument(e,t,i,o){return new Ht(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,ke.min(),ke.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,ke.min(),ke.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.position=e,this.inclusive=t}}function ly(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(h.referenceValue),t.key):i=xo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function uy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function bS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{}class Tt extends dv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new VS(e,t,i):t==="array-contains"?new LS(e,i):t==="in"?new FS(e,i):t==="not-in"?new jS(e,i):t==="array-contains-any"?new US(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new OS(e,i):new MS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends dv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dr(e,t)}matches(e){return fv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fv(r){return r.op==="and"}function pv(r){return DS(r)&&fv(r)}function DS(r){for(const e of r.filters)if(e instanceof dr)return!1;return!0}function qd(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+No(r.value);if(pv(r))return r.filters.map((e=>qd(e))).join(",");{const e=r.filters.map((t=>qd(t))).join(",");return`${r.op}(${e})`}}function mv(r,e){return r instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&hr(i.value,o.value)})(r,e):r instanceof dr?(function(i,o){return o instanceof dr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,m)=>l&&mv(h,o.filters[m])),!0):!1})(r,e):void Te(19439)}function gv(r){return r instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`})(r):r instanceof dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(gv).join(" ,")+"}"})(r):"Filter"}class VS extends Tt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class OS extends Tt{constructor(e,t){super(e,"in",t),this.keys=yv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MS extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=yv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yv(r,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class LS extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Af(t)&&nl(t.arrayValue,this.value)}}class FS extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nl(this.value.arrayValue,t)}}class jS extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nl(this.value.arrayValue,t)}}class US extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Af(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>nl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t=null,i=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.Te=null}}function cy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new zS(r,e,t,i,o,l,h)}function Cf(r){const e=Re(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>qd(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>No(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>No(i))).join(",")),e.Te=t}return e.Te}function Rf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!bS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!mv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uy(r.startAt,e.startAt)&&uy(r.endAt,e.endAt)}function Gd(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t=null,i=[],o=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BS(r,e,t,i,o,l,h,m){return new Nc(r,e,t,i,o,l,h,m)}function Pf(r){return new Nc(r)}function hy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $S(r){return r.collectionGroup!==null}function Ga(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new St(Vt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new dc(l,i))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new dc(Vt.keyField(),i))}return e.Ie}function or(r){const e=Re(r);return e.Ee||(e.Ee=HS(e,Ga(r))),e.Ee}function HS(r,e){if(r.limitType==="F")return cy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new dc(o.field,l)}));const t=r.endAt?new hc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new hc(r.startAt.position,r.startAt.inclusive):null;return cy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Kd(r,e,t){return new Nc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bc(r,e){return Rf(or(r),or(e))&&r.limitType===e.limitType}function _v(r){return`${Cf(or(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>gv(o))).join(", ")}]`),Pc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>No(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>No(o))).join(",")),`Target(${i})`})(or(r))}; limitType=${r.limitType})`}function Dc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of Ga(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,m,g){const _=ly(h,m,g);return h.inclusive?_<=0:_<0})(i.startAt,Ga(i),o)||i.endAt&&!(function(h,m,g){const _=ly(h,m,g);return h.inclusive?_>=0:_>0})(i.endAt,Ga(i),o))})(r,e)}function WS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vv(r){return(e,t)=>{let i=!1;for(const o of Ga(r)){const l=qS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function qS(r,e,t){const i=r.field.isKeyField()?ve.comparator(e.key,t.key):(function(l,h,m){const g=h.data.field(l),_=m.data.field(l);return g!==null&&_!==null?xo(g,_):Te(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new ot(ve.comparator);function Fr(){return GS}const wv=new ot(ve.comparator);function za(...r){let e=wv;for(const t of r)e=e.insert(t.key,t);return e}function Ev(r){let e=wv;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function fi(){return Ka()}function Tv(){return Ka()}function Ka(){return new Ii((r=>r.toString()),((r,e)=>r.isEqual(e)))}const KS=new ot(ve.comparator),QS=new St(ve.comparator);function Me(...r){let e=QS;for(const t of r)e=e.add(t);return e}const YS=new St(Oe);function XS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function Iv(r){return{integerValue:""+r}}function JS(r,e){return SS(e)?Iv(e):xf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function ZS(r,e,t){return r instanceof fc?(function(o,l){const h={fields:{[ov]:{stringValue:iv},[lv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&kf(l)&&(l=xc(l)),l&&(h.fields[av]=l),{mapValue:h}})(t,e):r instanceof rl?kv(r,e):r instanceof sl?Av(r,e):(function(o,l){const h=Sv(o,l),m=dy(h)+dy(o.Ae);return Wd(h)&&Wd(o.Ae)?Iv(m):xf(o.serializer,m)})(r,e)}function ek(r,e,t){return r instanceof rl?kv(r,e):r instanceof sl?Av(r,e):t}function Sv(r,e){return r instanceof pc?(function(i){return Wd(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class fc extends Vc{}class rl extends Vc{constructor(e){super(),this.elements=e}}function kv(r,e){const t=Cv(e);for(const i of r.elements)t.some((o=>hr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class sl extends Vc{constructor(e){super(),this.elements=e}}function Av(r,e){let t=Cv(e);for(const i of r.elements)t=t.filter((o=>!hr(o,i)));return{arrayValue:{values:t}}}class pc extends Vc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dy(r){return dt(r.integerValue||r.doubleValue)}function Cv(r){return Af(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tk(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof rl&&o instanceof rl||i instanceof sl&&o instanceof sl?Po(i.elements,o.elements,hr):i instanceof pc&&o instanceof pc?hr(i.Ae,o.Ae):i instanceof fc&&o instanceof fc})(r.transform,e.transform)}class nk{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oc{}function Rv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xv(r.key,ar.none()):new gl(r.key,r.data,ar.none());{const t=r.data,i=nn.empty();let o=new St(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Ls(r.key,i,new pn(o.toArray()),ar.none())}}function rk(r,e,t){r instanceof gl?(function(o,l,h){const m=o.value.clone(),g=py(o.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,t):r instanceof Ls?(function(o,l,h){if(!Xu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=py(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(Pv(o)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Qa(r,e,t,i){return r instanceof gl?(function(l,h,m,g){if(!Xu(l.precondition,h))return m;const _=l.value.clone(),E=my(l.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ls?(function(l,h,m,g){if(!Xu(l.precondition,h))return m;const _=my(l.fieldTransforms,g,h),E=h.data;return E.setAll(Pv(l)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((I=>I.field)))})(r,e,t,i):(function(l,h,m){return Xu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,t)}function sk(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=Sv(i.transform,o||null);l!=null&&(t===null&&(t=nn.empty()),t.set(i.field,l))}return t||null}function fy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Po(i,o,((l,h)=>tk(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gl extends Oc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ls extends Oc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function py(r,e,t){const i=new Map;qe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,m=e.data.field(l.field);i.set(l.field,ek(h,m,t[o]))}return i}function my(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,ZS(l,h,e))}return i}class xv extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ik extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Tv();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const g=Rv(h,m);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((t,i)=>fy(t,i)))&&Po(this.baseMutations,e.baseMutations,((t,i)=>fy(t,i)))}}class Nf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return KS})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Nf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,je;function uk(r){switch(r){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function Nv(r){if(r===void 0)return Lr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case yt.OK:return Y.OK;case yt.CANCELLED:return Y.CANCELLED;case yt.UNKNOWN:return Y.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Y.INTERNAL;case yt.UNAVAILABLE:return Y.UNAVAILABLE;case yt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case yt.NOT_FOUND:return Y.NOT_FOUND;case yt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case yt.ABORTED:return Y.ABORTED;case yt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case yt.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:r})}}(je=yt||(yt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new As([4294967295,4294967295],0);function gy(r){const e=ck().encode(r),t=new G_;return t.update(e),new Uint8Array(t.digest())}function yy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new As([t,i],0),new As([o,l],0)]}class bf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ba(`Invalid padding: ${t}`);if(i<0)throw new Ba(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=As.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(As.fromNumber(i)));return o.compare(hk)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gy(e),[i,o]=yy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new bf(l,o,t);return i.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=gy(e),[i,o]=yy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mc(ke.min(),o,new ot(Oe),Fr(),Me())}}class yl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yl(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class bv{constructor(e,t){this.targetId=e,this.Ce=t}}class Dv{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class _y{constructor(){this.ve=0,this.Fe=vy(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),t=Me(),i=Me();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te(38017,{changeType:l})}})),new yl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=vy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.Je=Uu(),this.He=Uu(),this.Ye=new ot(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Gd(l))if(i===0){const h=new ve(l.path);this.et(t,h,Ht.newNoDocument(h,ke.min()))}else qe(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,_)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=xs(i).toUint8Array()}catch(g){if(g instanceof sv)return Ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bf(h,o,l)}catch(g){return Ro(g instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const m=this.ot(h);if(m){if(l.current&&Gd(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Ht.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=Me();this.He.forEach(((l,h)=>{let m=!0;h.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Mc(e,t,this.Ye,this.je,i);return this.je=Fr(),this.Je=Uu(),this.He=Uu(),this.Ye=new ot(Oe),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _y,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new St(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new St(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _y),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Uu(){return new ot(ve.comparator)}function vy(){return new ot(ve.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qd(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function mc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yk(r,e){return mc(r,e.toTimestamp())}function lr(r){return qe(!!r,49232),ke.fromTimestamp((function(t){const i=Ps(t);return new tt(i.seconds,i.nanos)})(r))}function Df(r,e){return Yd(r,e).canonicalString()}function Yd(r,e){const t=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Ov(r){const e=it.fromString(r);return qe(Uv(e),10190,{key:e.toString()}),e}function Xd(r,e){return Df(r.databaseId,e.path)}function Cd(r,e){const t=Ov(e);if(t.get(1)!==r.databaseId.projectId)throw new me(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(Lv(t))}function Mv(r,e){return Df(r.databaseId,e)}function _k(r){const e=Ov(r);return e.length===4?it.emptyPath():Lv(e)}function Jd(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Lv(r){return qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wy(r,e,t){return{name:Xd(r,e),fields:t.value.mapValue.fields}}function vk(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,E){return _.useProto3Json?(qe(E===void 0||typeof E=="string",58123),Mt.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Mt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(_){const E=_.code===void 0?Y.UNKNOWN:Nv(_.code);return new me(E,_.message||"")})(h);t=new Dv(i,o,l,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Cd(r,i.document.name),l=lr(i.document.updateTime),h=i.document.createTime?lr(i.document.createTime):ke.min(),m=new nn({mapValue:{fields:i.document.fields}}),g=Ht.newFoundDocument(o,l,h,m),_=i.targetIds||[],E=i.removedTargetIds||[];t=new Ju(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Cd(r,i.document),l=i.readTime?lr(i.readTime):ke.min(),h=Ht.newNoDocument(o,l),m=i.removedTargetIds||[];t=new Ju([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Cd(r,i.document),l=i.removedTargetIds||[];t=new Ju([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new lk(o,l),m=i.targetId;t=new bv(m,h)}}return t}function wk(r,e){let t;if(e instanceof gl)t={update:wy(r,e.key,e.value)};else if(e instanceof xv)t={delete:Xd(r,e.key)};else if(e instanceof Ls)t={update:wy(r,e.key,e.data),updateMask:Pk(e.fieldMask)};else{if(!(e instanceof ik))return Te(16599,{Vt:e.type});t={verify:Xd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const m=h.transform;if(m instanceof fc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof rl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof sl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:yk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(r,e.precondition)),t}function Ek(r,e){return r&&r.length>0?(qe(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?lr(o.updateTime):lr(l);return h.isEqual(ke.min())&&(h=lr(l)),new nk(h,o.transformResults||[])})(t,e)))):[]}function Tk(r,e){return{documents:[Mv(r,e.path)]}}function Ik(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Mv(r,o);const l=(function(_){if(_.length!==0)return jv(dr.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((E=>(function(C){return{field:vo(C.field),direction:Ak(C.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Qd(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:t,parent:o}}function Sk(r){let e=_k(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(I){const C=Fv(I);return C instanceof dr&&pv(C)?C.getFilters():[C]})(t.where));let h=[];t.orderBy&&(h=(function(I){return I.map((C=>(function(G){return new dc(wo(G.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(C)))})(t.orderBy));let m=null;t.limit&&(m=(function(I){let C;return C=typeof I=="object"?I.value:I,Pc(C)?null:C})(t.limit));let g=null;t.startAt&&(g=(function(I){const C=!!I.before,z=I.values||[];return new hc(z,C)})(t.startAt));let _=null;return t.endAt&&(_=(function(I){const C=!I.before,z=I.values||[];return new hc(z,C)})(t.endAt)),BS(e,o,h,l,m,"F",g,_)}function kk(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=wo(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(t.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Tt.create(wo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return dr.create(t.compositeFilter.filters.map((i=>Fv(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(r):Te(30097,{filter:r})}function Ak(r){return fk[r]}function Ck(r){return pk[r]}function Rk(r){return mk[r]}function vo(r){return{fieldPath:r.canonicalString()}}function wo(r){return Vt.fromServerFormat(r.fieldPath)}function jv(r){return r instanceof Tt?(function(t){if(t.op==="=="){if(ay(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(oy(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ay(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(oy(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:Ck(t.op),value:t.value}}})(r):r instanceof dr?(function(t){const i=t.getFilters().map((o=>jv(o)));return i.length===1?i[0]:{compositeFilter:{op:Rk(t.op),filters:i}}})(r):Te(54877,{filter:r})}function Pk(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Uv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,i,o,l=ke.min(),h=ke.min(),m=Mt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.yt=e}}function Nk(r){const e=Sk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.Cn=new Dk}addToCollectionParentIndex(e,t){return this.Cn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Rs.min())}updateCollectionGroup(e,t,i){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class Dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new St(it.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new St(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(zv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LruGarbageCollector",Vk=1048576;function Iy([r,e],[t,i]){const o=Oe(r,t);return o===0?Oe(e,i):o}class Ok{constructor(e){this.Ir=e,this.buffer=new St(Iy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Iy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(Ty,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?ie(Ty,"Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.Vr(3e5)}))}}class Lk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Rc.ce);const i=new Ok(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Ey)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ey):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,m,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o)))).next((I=>(i=I,m=Date.now(),this.removeTargets(e,i,t)))).next((I=>(l=I,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((I=>(_=Date.now(),yo()<=Ve.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I}))))}}function Fk(r,e){return new Lk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.changes=new Ii((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?H.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Qa(i.mutation,o,pn.empty(),tt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Me()){const o=fi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=za();return l.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=fi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Me())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,i,o){let l=Fr();const h=Ka(),m=(function(){return Ka()})();return t.forEach(((g,_)=>{const E=i.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ls)?l=l.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Qa(E.mutation,_,E.mutation.getFieldMask(),tt.now())):h.set(_.key,pn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((_,E)=>h.set(_,E))),t.forEach(((_,E)=>m.set(_,new Uk(E,h.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,t){const i=Ka();let o=new ot(((h,m)=>h-m)),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let E=i.get(g)||pn.empty();E=m.applyToLocalView(_,E),i.set(g,E);const I=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,I)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,I=Tv();E.forEach((C=>{if(!l.has(C)){const z=Rv(t.get(C),i.get(C));z!==null&&I.set(C,z),l=l.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,I))}return H.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$S(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):H.resolve(fi());let m=Za,g=l;return h.next((_=>H.forEach(_,((E,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),l.get(E)?H.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{g=g.insert(E,C)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,g,_,Me()))).next((E=>({batchId:m,changes:Ev(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((i=>{let o=za();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=za();return this.indexManager.getCollectionParents(e,l).next((m=>H.forEach(m,(g=>{const _=(function(I,C){return new Nc(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next((E=>{E.forEach(((I,C)=>{h=h.insert(I,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,Ht.newInvalidDocument(E)))}));let m=za();return h.forEach(((g,_)=>{const E=l.get(g);E!==void 0&&Qa(E.mutation,_,pn.empty(),tt.now()),Dc(t,_)&&(m=m.insert(g,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return H.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:lr(o.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Nk(o.bundledQuery),readTime:lr(o.readTime)}})(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.overlays=new ot(ve.comparator),this.qr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fi();return H.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),H.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),H.resolve()}getOverlaysForCollection(e,t,i){const o=fi(),l=t.length+1,h=new ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return H.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ot(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=l.get(_.largestBatchId);E===null&&(E=fi(),l=l.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=fi(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,E)=>m.set(_,E))),!(m.size()>=o)););return H.resolve(m)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new ak(t,i));let l=this.qr.get(t);l===void 0&&(l=Me(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.Qr=new St(Rt.$r),this.Ur=new St(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Rt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ve(new it([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new it([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=Me();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Rt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new St(Rt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ok(l,t,i,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Rt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return H.resolve(h)}lookupMutationBatch(e,t){return H.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return H.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Sf:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const m=this.Xr(h.Yr);l.push(m)})),H.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new St(Oe);return t.forEach((o=>{const l=new Rt(o,0),h=new Rt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(m=>{i=i.add(m.Yr)}))})),H.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const h=new Rt(new ve(l),0);let m=new St(Oe);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Yr)),!0)}),h),H.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return H.forEach(t.mutations,(o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Rt(t,0),o=this.Zr.firstAfterOrEqual(i);return H.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.ri=e,this.docs=(function(){return new ot(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return H.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let i=Fr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Ht.newInvalidDocument(o))})),H.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Fr();const h=t.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||wS(vS(E),i)<=0||(o.has(E.key)||Dc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return H.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te(9500)}ii(e,t){return H.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Gk(this)}getSize(e){return H.resolve(this.size)}}class Gk extends jk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),H.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.persistence=e,this.si=new Ii((t=>Cf(t)),Rf),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Vf,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),H.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Pr(t),H.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),H.waitFor(l).next((()=>o))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return H.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),H.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),H.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return H.resolve(i)}containsKey(e,t){return H.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rc(0),this.li=!1,this.li=!0,this.hi=new Hk,this.referenceDelegate=e(this),this.Pi=new Kk(this),this.indexManager=new bk,this.remoteDocumentCache=(function(o){return new qk(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new xk(t),this.Ii=new Bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $k,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Wk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ie("MemoryPersistence","Starting transaction:",e);const o=new Qk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return H.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Qk extends TS{constructor(e){super(),this.currentSequenceNumber=e}}class Of{constructor(e){this.persistence=e,this.Ri=new Vf,this.Vi=null}static mi(e){return new Of(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),H.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,(i=>{const o=ve.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gc{constructor(e,t){this.persistence=e,this.pi=new Ii((i=>kS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=Fk(this,t)}static mi(e,t){return new gc(e,t)}Ei(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return H.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?H.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((m=>{m||(i++,l.removeEntry(h,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),H.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),H.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qu(e.data.value)),t}br(e,t,i){return H.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return H.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Mf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kE()?8:IS(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new Yk;return this.Ss(e,t,h).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,h,m.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(yo()<=Ve.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(yo()<=Ve.DEBUG&&ie("QueryEngine","Query:",_o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(yo()<=Ve.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):H.resolve())}ys(e,t){if(hy(t))return H.resolve(null);let i=or(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Kd(t,null,"F"),i=or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Me(...l);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const _=this.Ds(t,m);return this.Cs(t,_,h,g.readTime)?this.ys(e,Kd(t,null,"F")):this.vs(e,_,t,g)}))))})))))}ws(e,t,i,o){return hy(t)||o.isEqual(ke.min())?H.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?H.resolve(null):(yo()<=Ve.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,_S(o,Za)).next((m=>m)))}))}Ds(e,t){let i=new St(vv(e));return t.forEach(((o,l)=>{Dc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return yo()<=Ve.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ps.getDocumentsMatchingQuery(e,t,Rs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="LocalStore",Jk=3e8;class Zk{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ot(Oe),this.xs=new Ii((l=>Cf(l)),Rf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function eA(r,e,t,i){return new Zk(r,e,t,i)}async function $v(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],m=[];let g=Me();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of l){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next((_=>({Ls:_,removedBatchIds:h,addedBatchIds:m})))}))}))}function tA(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,E){const I=_.batch,C=I.keys();let z=H.resolve();return C.forEach((G=>{z=z.next((()=>E.getEntry(g,G))).next((q=>{const B=_.docVersions.get(G);qe(B!==null,48541),q.version.compareTo(B)<0&&(I.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),E.addEntry(q)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(g,I)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=Me();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Hv(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function nA(r,e){const t=Re(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((E,I)=>{const C=o.get(I);if(!C)return;m.push(t.Pi.removeMatchingKeys(l,E.removedDocuments,I).next((()=>t.Pi.addMatchingKeys(l,E.addedDocuments,I))));let z=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?z=z.withResumeToken(Mt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,i)),o=o.insert(I,z),(function(q,B,ne){return q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=Jk?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(C,z,E)&&m.push(t.Pi.updateTargetData(l,z))}));let g=Fr(),_=Me();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),m.push(rA(l,h,e.documentUpdates).next((E=>{g=E.ks,_=E.qs}))),!i.isEqual(ke.min())){const E=t.Pi.getLastRemoteSnapshotVersion(l).next((I=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));m.push(E)}return H.waitFor(m).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,_))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function rA(r,e,t){let i=Me(),o=Me();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=Fr();return t.forEach(((m,g)=>{const _=l.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ie(Lf,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function sA(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Sf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function iA(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,H.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new Ts(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Zd(r,e,t){const i=Re(r),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jo(h))throw h;ie(Lf,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Sy(r,e,t){const i=Re(r);let o=ke.min(),l=Me();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,_,E){const I=Re(g),C=I.xs.get(E);return C!==void 0?H.resolve(I.Ms.get(C)):I.Pi.getTargetData(_,E)})(i,h,or(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{l=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:ke.min(),t?l:Me()))).next((m=>(oA(i,WS(e),m),{documents:m,Qs:l})))))}function oA(r,e,t){let i=r.Os.get(e)||ke.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class ky{constructor(){this.activeTargetIds=XS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aA{constructor(){this.Mo=new ky,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ky,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="ConnectivityMonitor";class Cy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(Ay,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(Ay,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function ef(){return zu===null?zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="RestConnection",uA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===uc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=ef(),m=this.zo(e,t.toUriEncodedString());ie(Rd,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:_}=new URL(m),E=Vo(_);return this.Jo(e,m,g,i,E).then((I=>(ie(Rd,`Received RPC '${e}' ${h}: `,I),I)),(I=>{throw Ro(Rd,`RPC '${e}' ${h} failed with error: `,I,"url: ",m,"request:",i),I}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=uA[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class dA extends cA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=ef();return new Promise(((m,g)=>{const _=new K_;_.setWithCredentials(!0),_.listenOnce(Q_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ku.NO_ERROR:const I=_.getResponseJson();ie(Bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(I)),m(I);break;case Ku.TIMEOUT:ie(Bt,`RPC '${e}' ${h} timed out`),g(new me(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const C=_.getStatus();if(ie(Bt,`RPC '${e}' ${h} failed with status:`,C,"response text:",_.getResponseText()),C>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const G=z?.error;if(G&&G.status&&G.message){const q=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(te)>=0?te:Y.UNKNOWN})(G.status);g(new me(q,G.message))}else g(new me(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new me(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ie(Bt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ie(Bt,`RPC '${e}' ${h} sending request:`,o),_.send(t,"POST",E,i,15)}))}T_(e,t,i){const o=ef(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=J_(),m=X_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=l.join("");ie(Bt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=h.createWebChannel(E,g);this.I_(I);let C=!1,z=!1;const G=new hA({Yo:B=>{z?ie(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(C||(ie(Bt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),C=!0),ie(Bt,`RPC '${e}' stream ${o} sending:`,B),I.send(B))},Zo:()=>I.close()}),q=(B,ne,te)=>{B.listen(ne,(J=>{try{te(J)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return q(I,Ua.EventType.OPEN,(()=>{z||(ie(Bt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),q(I,Ua.EventType.CLOSE,(()=>{z||(z=!0,ie(Bt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(I))})),q(I,Ua.EventType.ERROR,(B=>{z||(z=!0,Ro(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),G.a_(new me(Y.UNAVAILABLE,"The operation could not be completed")))})),q(I,Ua.EventType.MESSAGE,(B=>{if(!z){const ne=B.data[0];qe(!!ne,16349);const te=ne,J=te?.error||te[0]?.error;if(J){ie(Bt,`RPC '${e}' stream ${o} received error:`,J);const Se=J.status;let Le=(function(T){const k=yt[T];if(k!==void 0)return Nv(k)})(Se),Ae=J.message;Le===void 0&&(Le=Y.INTERNAL,Ae="Unknown error status: "+Se+" with message "+J.message),z=!0,G.a_(new me(Le,Ae)),I.close()}else ie(Bt,`RPC '${e}' stream ${o} received:`,ne),G.u_(ne)}})),q(m,Y_.STAT_EVENT,(B=>{B.stat===Bd.PROXY?ie(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Bd.NOPROXY&&ie(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){return new gk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="PersistentStream";class qv{constructor(e,t,i,o,l,h,m,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new me(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(Ry,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ie(Ry,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fA extends qv{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?lr(h.readTime):ke.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Jd(this.serializer),t.addTarget=(function(l,h){let m;const g=h.target;if(m=Gd(g)?{documents:Tk(l,g)}:{query:Ik(l,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Vv(l,h.resumeToken);const _=Qd(l,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(ke.min())>0){m.readTime=mc(l,h.snapshotVersion.toTimestamp());const _=Qd(l,h.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const i=kk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Jd(this.serializer),t.removeTarget=e,this.q_(t)}}class pA extends qv{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ek(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Jd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>wk(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class gA extends mA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Yd(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(Y.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Yd(t,i),o,h,m,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="RemoteStore";class _A{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Si(this)&&(ie(Ei,"Restarting streams for network reachability change."),await(async function(g){const _=Re(g);_.Ea.add(4),await _l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Fc(_)})(this))}))})),this.Ra=new yA(i,o)}}async function Fc(r){if(Si(r))for(const e of r.da)await e(!0)}async function _l(r){for(const e of r.da)await e(!1)}function Gv(r,e){const t=Re(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zf(t)?Uf(t):Uo(t).O_()&&jf(t,e))}function Ff(r,e){const t=Re(r),i=Uo(t);t.Ia.delete(e),i.O_()&&Kv(t,e),t.Ia.size===0&&(i.O_()?i.L_():Si(t)&&t.Ra.set("Unknown"))}function jf(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(r).Y_(e)}function Kv(r,e){r.Va.Ue(e),Uo(r).Z_(e)}function Uf(r){r.Va=new dk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function zf(r){return Si(r)&&!Uo(r).x_()&&r.Ia.size>0}function Si(r){return Re(r).Ea.size===0}function Qv(r){r.Va=void 0}async function vA(r){r.Ra.set("Online")}async function wA(r){r.Ia.forEach(((e,t)=>{jf(r,e)}))}async function EA(r,e){Qv(r),zf(r)?(r.Ra.ha(e),Uf(r)):r.Ra.set("Unknown")}async function TA(r,e,t){if(r.Ra.set("Online"),e instanceof Dv&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(i){ie(Ei,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(r,i)}else if(e instanceof Ju?r.Va.Ze(e):e instanceof bv?r.Va.st(e):r.Va.tt(e),!t.isEqual(ke.min()))try{const i=await Hv(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const m=l.Va.Tt(h);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.Ia.get(_);E&&l.Ia.set(_,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,_)=>{const E=l.Ia.get(g);if(!E)return;l.Ia.set(g,E.withResumeToken(Mt.EMPTY_BYTE_STRING,E.snapshotVersion)),Kv(l,g);const I=new Ts(E.target,g,_,E.sequenceNumber);jf(l,I)})),l.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(i){ie(Ei,"Failed to raise snapshot:",i),await yc(r,i)}}async function yc(r,e,t){if(!jo(e))throw e;r.Ea.add(1),await _l(r),r.Ra.set("Offline"),t||(t=()=>Hv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ie(Ei,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Fc(r)}))}function Yv(r,e){return e().catch((t=>yc(r,t,e)))}async function jc(r){const e=Re(r),t=bs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sf;for(;IA(e);)try{const o=await sA(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,SA(e,o)}catch(o){await yc(e,o)}Xv(e)&&Jv(e)}function IA(r){return Si(r)&&r.Ta.length<10}function SA(r,e){r.Ta.push(e);const t=bs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Xv(r){return Si(r)&&!bs(r).x_()&&r.Ta.length>0}function Jv(r){bs(r).start()}async function kA(r){bs(r).ra()}async function AA(r){const e=bs(r);for(const t of r.Ta)e.ea(t.mutations)}async function CA(r,e,t){const i=r.Ta.shift(),o=Nf.from(i,e,t);await Yv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jc(r)}async function RA(r,e){e&&bs(r).X_&&await(async function(i,o){if((function(h){return uk(h)&&h!==Y.ABORTED})(o.code)){const l=i.Ta.shift();bs(i).B_(),await Yv(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await jc(i)}})(r,e),Xv(r)&&Jv(r)}async function Py(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),ie(Ei,"RemoteStore received new credentials");const i=Si(t);t.Ea.add(3),await _l(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Fc(t)}async function PA(r,e){const t=Re(r);e?(t.Ea.delete(2),await Fc(t)):e||(t.Ea.add(2),await _l(t),t.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=(function(t,i,o){const l=Re(t);return l.sa(),new fA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:vA.bind(null,r),t_:wA.bind(null,r),r_:EA.bind(null,r),H_:TA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zf(r)?Uf(r):r.Ra.set("Unknown")):(await r.ma.stop(),Qv(r))}))),r.ma}function bs(r){return r.fa||(r.fa=(function(t,i,o){const l=Re(t);return l.sa(),new pA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:kA.bind(null,r),r_:RA.bind(null,r),ta:AA.bind(null,r),na:CA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await jc(r)):(await r.fa.stop(),r.Ta.length>0&&(ie(Ei,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,m=new Bf(e,t,h,o,l);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $f(r,e){if(Lr("AsyncQueue",`${e}: ${r}`),jo(r))return new me(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=za(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.ga=new ot(ve.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Do{constructor(e,t,i,o,l,h,m,g,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new Do(e,t,ko.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NA{constructor(){this.queries=Ny(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Re(t),l=o.queries;o.queries=Ny(),l.forEach(((h,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new me(Y.ABORTED,"Firestore shutting down"))}}function Ny(){return new Ii((r=>_v(r)),bc)}async function bA(r,e){const t=Re(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new xA,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=$f(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Hf(t)}async function DA(r,e){const t=Re(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function VA(r,e){const t=Re(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.Sa)m.Fa(o)&&(i=!0);h.wa=o}}i&&Hf(t)}function OA(r,e,t){const i=Re(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Hf(r){r.Ca.forEach((e=>{e.next()}))}var tf,by;(by=tf||(tf={})).Ma="default",by.Cache="cache";class MA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Do(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class LA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=vv(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new xy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,I)=>{const C=o.get(E),z=Dc(this.query,I)?I:null,G=!!C&&this.mutatedKeys.has(C.key),q=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let B=!1;C&&z?C.data.isEqual(z.data)?G!==q&&(i.track({type:3,doc:z}),B=!0):this.su(C,z)||(i.track({type:2,doc:z}),B=!0,(g&&this.eu(z,g)>0||_&&this.eu(z,_)<0)&&(m=!0)):!C&&z?(i.track({type:0,doc:z}),B=!0):C&&!z&&(i.track({type:1,doc:C}),B=!0,(g||_)&&(m=!0)),B&&(z?(h=h.add(z),l=q?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{tu:h,iu:i,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,I)=>(function(z,G){const q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:B})}};return q(z)-q(G)})(E.type,I.type)||this.eu(E.doc,I.doc))),this.ou(i),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,h.length!==0||_?{snapshot:new Do(this.query,e.tu,l,h,e.mutatedKeys,g===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new ew(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new Zv(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Me();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wf="SyncEngine";class FA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jA{constructor(e){this.key=e,this.hu=!1}}class UA{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ii((m=>_v(m)),bc),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ve.comparator),this.Au=new Map,this.Ru=new Vf,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zA(r,e,t=!0){const i=ow(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await tw(i,e,t,!0),o}async function BA(r,e){const t=ow(r);await tw(t,e,!0,!1)}async function tw(r,e,t,i){const o=await iA(r.localStore,or(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let m;return i&&(m=await $A(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Gv(r.remoteStore,o),m}async function $A(r,e,t,i,o){r.pu=(I,C,z)=>(async function(q,B,ne,te){let J=B.view.ru(ne);J.Cs&&(J=await Sy(q.localStore,B.query,!1).then((({documents:x})=>B.view.ru(x,J))));const Se=te&&te.targetChanges.get(B.targetId),Le=te&&te.targetMismatches.get(B.targetId)!=null,Ae=B.view.applyChanges(J,q.isPrimaryClient,Se,Le);return Vy(q,B.targetId,Ae.au),Ae.snapshot})(r,I,C,z);const l=await Sy(r.localStore,e,!0),h=new LA(e,l.Qs),m=h.ru(l.documents),g=yl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),_=h.applyChanges(m,r.isPrimaryClient,g);Vy(r,t,_.au);const E=new FA(e,t,h);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),_.snapshot}async function HA(r,e,t){const i=Re(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!bc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Zd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Ff(i.remoteStore,o.targetId),nf(i,o.targetId)})).catch(Fo)):(nf(i,o.targetId),await Zd(i.localStore,o.targetId,!0))}async function WA(r,e){const t=Re(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ff(t.remoteStore,i.targetId))}async function qA(r,e,t){const i=ZA(r);try{const o=await(function(h,m){const g=Re(h),_=tt.now(),E=m.reduce(((z,G)=>z.add(G.key)),Me());let I,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let G=Fr(),q=Me();return g.Ns.getEntries(z,E).next((B=>{G=B,G.forEach(((ne,te)=>{te.isValidDocument()||(q=q.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,G))).next((B=>{I=B;const ne=[];for(const te of m){const J=sk(te,I.get(te.key).overlayedDocument);J!=null&&ne.push(new Ls(te.key,J,hv(J.value.mapValue),ar.exists(!0)))}return g.mutationQueue.addMutationBatch(z,_,ne,m)})).next((B=>{C=B;const ne=B.applyToLocalDocumentSet(I,q);return g.documentOverlayCache.saveOverlays(z,B.batchId,ne)}))})).then((()=>({batchId:C.batchId,changes:Ev(I)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let _=h.Vu[h.currentUser.toKey()];_||(_=new ot(Oe)),_=_.insert(m,g),h.Vu[h.currentUser.toKey()]=_})(i,o.batchId,t),await vl(i,o.changes),await jc(i.remoteStore)}catch(o){const l=$f(o,"Failed to persist write");t.reject(l)}}async function nw(r,e){const t=Re(r);try{const i=await nA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?qe(h.hu,14607):o.removedDocuments.size>0&&(qe(h.hu,42227),h.hu=!1))})),await vl(t,i,e)}catch(i){await Fo(i)}}function Dy(r,e,t){const i=Re(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Re(h);g.onlineState=m;let _=!1;g.queries.forEach(((E,I)=>{for(const C of I.Sa)C.va(m)&&(_=!0)})),_&&Hf(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GA(r,e,t){const i=Re(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new ot(ve.comparator);h=h.insert(l,Ht.newNoDocument(l,ke.min()));const m=Me().add(l),g=new Mc(ke.min(),new Map,new ot(Oe),h,m);await nw(i,g),i.du=i.du.remove(l),i.Au.delete(e),qf(i)}else await Zd(i.localStore,e,!1).then((()=>nf(i,e,t))).catch(Fo)}async function KA(r,e){const t=Re(r),i=e.batch.batchId;try{const o=await tA(t.localStore,e);sw(t,i,null),rw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await vl(t,o)}catch(o){await Fo(o)}}async function QA(r,e,t){const i=Re(r);try{const o=await(function(h,m){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next((I=>(qe(I!==null,37113),E=I.keys(),g.mutationQueue.removeMutationBatch(_,I)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>g.localDocuments.getDocuments(_,E)))}))})(i.localStore,e);sw(i,e,t),rw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await vl(i,o)}catch(o){await Fo(o)}}function rw(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function sw(r,e,t){const i=Re(r);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function nf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||iw(r,i)}))}function iw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Ff(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),qf(r))}function Vy(r,e,t){for(const i of t)i instanceof Zv?(r.Ru.addReference(i.key,e),YA(r,i)):i instanceof ew?(ie(Wf,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||iw(r,i.key)):Te(19791,{wu:i})}function YA(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(ie(Wf,"New document in limbo: "+t),r.Eu.add(i),qf(r))}function qf(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ve(it.fromString(e)),i=r.fu.next();r.Au.set(i,new jA(t)),r.du=r.du.insert(t,i),Gv(r.remoteStore,new Ts(or(Pf(t.path)),i,"TargetPurposeLimboResolution",Rc.ce))}}async function vl(r,e,t){const i=Re(r),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{h.push(i.pu(g,e,t).then((_=>{if((_||t)&&i.isPrimaryClient){const E=_?!_.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Mf.As(g.targetId,_);l.push(E)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,_){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>H.forEach(_,(C=>H.forEach(C.Es,(z=>E.persistence.referenceDelegate.addReference(I,C.targetId,z))).next((()=>H.forEach(C.ds,(z=>E.persistence.referenceDelegate.removeReference(I,C.targetId,z)))))))))}catch(I){if(!jo(I))throw I;ie(Lf,"Failed to update sequence numbers: "+I)}for(const I of _){const C=I.targetId;if(!I.fromCache){const z=E.Ms.get(C),G=z.snapshotVersion,q=z.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(C,q)}}})(i.localStore,l))}async function XA(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){ie(Wf,"User change. New user:",e.toKey());const i=await $v(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new me(Y.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vl(t,i.Ls)}}function JA(r,e){const t=Re(r),i=t.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ow(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GA.bind(null,e),e.Pu.H_=VA.bind(null,e.eventManager),e.Pu.yu=OA.bind(null,e.eventManager),e}function ZA(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QA.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eA(this.persistence,new Xk,e.initialUser,this.serializer)}Cu(e){return new Bv(Of.mi,this.serializer)}Du(e){return new aA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class eC extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qe(this.persistence.referenceDelegate instanceof gc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Mk(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Bv((i=>gc.mi(i,t)),this.serializer)}}class rf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Dy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XA.bind(null,this.syncEngine),await PA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NA})()}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),i=(function(l){return new dA(l)})(e.databaseInfo);return(function(l,h,m,g){return new gA(l,h,m,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,m){return new _A(i,o,l,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Dy(this.syncEngine,t,0)),(function(){return Cy.v()?new Cy:new lA})())}createSyncEngine(e,t){return(function(o,l,h,m,g,_,E){const I=new UA(o,l,h,m,g,_);return E&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Re(t);ie(Ei,"RemoteStore shutting down."),i.Ea.add(5),await _l(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rf.provider={build:()=>new rf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class nC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Tf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{ie(Ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ie(Ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=$f(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function xd(r,e){r.asyncQueue.verifyOperationInProgress(),ie(Ds,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await $v(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Oy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await rC(r);ie(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Py(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Py(e.remoteStore,o))),r._onlineComponents=e}async function rC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie(Ds,"Using user provided OfflineComponentProvider");try{await xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await xd(r,new _c)}}else ie(Ds,"Using default OfflineComponentProvider"),await xd(r,new eC(void 0));return r._offlineComponents}async function aw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie(Ds,"Using user provided OnlineComponentProvider"),await Oy(r,r._uninitializedComponentsProvider._online)):(ie(Ds,"Using default OnlineComponentProvider"),await Oy(r,new rf))),r._onlineComponents}function sC(r){return aw(r).then((e=>e.syncEngine))}async function My(r){const e=await aw(r),t=e.eventManager;return t.onListen=zA.bind(null,e.syncEngine),t.onUnlisten=HA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WA.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firestore.googleapis.com",Fy=!0;class jy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uw,this.ssl=Fy}else this.host=e.host,this.ssl=e.ssl??Fy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vk)throw new me(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new oS;switch(i.type){case"firstParty":return new cS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Ly.get(t);i&&(ie("ComponentProvider","Removing Datastore"),Ly.delete(t),i.terminate())})(this),Promise.resolve()}}function iC(r,e,t,i={}){r=Cs(r,Gf);const o=Vo(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(i_(`https://${m}`),o_("Firestore",!0)),l.host!==uw&&l.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:o,emulatorOptions:i};if(!gi(g,h)&&(r._setSettings(g),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=$t.MOCK_USER;else{_=gE(i.mockUserToken,r._app?.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new me(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(I)}r._authCredentials=new aS(new ev(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class It{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ml(t,It._jsonSchema))return new It(e,i||null,new ve(it.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:_t("string",It._jsonSchemaVersion),referencePath:_t("string")};class il extends Uc{constructor(e,t,i){super(e,t,Pf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ve(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function sf(r,e,...t){if(r=Ot(r),arguments.length===1&&(e=Tf.newId()),gS("doc","path",e),r instanceof Gf){const i=it.fromString(e,...t);return Jg(i),new It(r,null,new ve(i))}{if(!(r instanceof It||r instanceof il))throw new me(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(it.fromString(e,...t));return Jg(i),new It(r.firestore,r instanceof il?r.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="AsyncQueue";class zy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wv(this,"async_queue_retry"),this._c=()=>{const i=Pd();i&&ie(Uy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Pd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ie(Uy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",By(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Bf.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:By(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function By(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class ol extends Gf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new zy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zy(e),this._firestoreClient=void 0,await e}}}function oC(r,e){const t=typeof r=="object"?r:c_(),i=typeof r=="string"?r:uc,o=df(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=pE("firestore");l&&iC(o,...l)}return o}function cw(r){if(r._terminated)throw new me(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aC(r),r._firestoreClient}function aC(r){const e=r._freezeSettings(),t=(function(o,l,h,m){return new RS(o,l,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new nC(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Mt.fromBase64String(e))}catch(t){throw new me(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ml(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:_t("string",Sn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(ml(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:_t("string",ur._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ml(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cr(e.vectorValues);throw new me(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:_t("string",cr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^__.*__$/;class uC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new gl(e,this.data,t,this.fieldTransforms)}}class hw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Qf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dw(this.Ac)&&lC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lc(e)}Cc(e,t,i,o=!1){return new Qf({Ac:e,methodName:t,Dc:i,path:Vt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fw(r){const e=r._freezeSettings(),t=Lc(r._databaseId);return new cC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hC(r,e,t,i,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);Yf("Data must be an object, but it was:",h,i);const m=pw(i,h);let g,_;if(l.merge)g=new pn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const I of l.mergeFields){const C=of(e,I,t);if(!h.contains(C))throw new me(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);gw(E,C)||E.push(C)}g=new pn(E),_=h.fieldTransforms.filter((I=>g.covers(I.field)))}else g=null,_=h.fieldTransforms;return new uC(new nn(m),g,_)}class Bc extends Kf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bc}}function dC(r,e,t,i){const o=r.Cc(1,e,t);Yf("Data must be an object, but it was:",o,i);const l=[],h=nn.empty();Ms(i,((g,_)=>{const E=Xf(e,g,t);_=Ot(_);const I=o.yc(E);if(_ instanceof Bc)l.push(E);else{const C=$c(_,I);C!=null&&(l.push(E),h.set(E,C))}}));const m=new pn(l);return new hw(h,m,o.fieldTransforms)}function fC(r,e,t,i,o,l){const h=r.Cc(1,e,t),m=[of(e,i,t)],g=[o];if(l.length%2!=0)throw new me(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<l.length;C+=2)m.push(of(e,l[C])),g.push(l[C+1]);const _=[],E=nn.empty();for(let C=m.length-1;C>=0;--C)if(!gw(_,m[C])){const z=m[C];let G=g[C];G=Ot(G);const q=h.yc(z);if(G instanceof Bc)_.push(z);else{const B=$c(G,q);B!=null&&(_.push(z),E.set(z,B))}}const I=new pn(_);return new hw(E,I,h.fieldTransforms)}function $c(r,e){if(mw(r=Ot(r)))return Yf("Unsupported field value:",e,r),pw(r,e);if(r instanceof Kf)return(function(i,o){if(!dw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const m of i){let g=$c(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=tt.fromDate(i);return{timestampValue:mc(o.serializer,l)}}if(i instanceof tt){const l=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mc(o.serializer,l)}}if(i instanceof ur)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sn)return{bytesValue:Vv(o.serializer,i._byteString)};if(i instanceof It){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Df(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof cr)return(function(h,m){return{mapValue:{fields:{[uv]:{stringValue:cv},[cc]:{arrayValue:{values:h.toArray().map((_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return xf(m.serializer,_)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${If(i)}`)})(r,e)}function pw(r,e){const t={};return rv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(r,((i,o)=>{const l=$c(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function mw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof ur||r instanceof Sn||r instanceof It||r instanceof Kf||r instanceof cr)}function Yf(r,e,t){if(!mw(t)||!tv(t)){const i=If(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function of(r,e,t){if((e=Ot(e))instanceof zc)return e._internalPath;if(typeof e=="string")return Xf(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,t)}const pC=new RegExp("[~\\*/\\[\\]]");function Xf(r,e,t){if(e.search(pC)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new zc(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function vc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new me(Y.INVALID_ARGUMENT,m+r+g)}function gw(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_w("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mC extends yw{data(){return super.data()}}function _w(r,e){return typeof e=="string"?Xf(r,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yC{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ms(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[cc].arrayValue?.values?.map((i=>dt(i.doubleValue)));return new cr(t)}convertGeoPoint(e){return new ur(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);qe(Uv(i),9688,{name:e});const o=new tl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mi extends yw{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_w("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",mi._jsonSchema={type:_t("string",mi._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Zu extends mi{data(e={}){return super.data(e)}}class Ao{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $a(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Zu(this._firestore,this._userDataWriter,i.key,i,new $a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Zu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $a(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new Zu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $a(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:vC(m.type),doc:g,oldIndex:_,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:_t("string",Ao._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class vw extends yC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function ww(r,e,t){r=Cs(r,It);const i=Cs(r.firestore,ol),o=_C(r.converter,e);return Ew(i,[hC(fw(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,ar.none())])}function wC(r,e,t,...i){r=Cs(r,It);const o=Cs(r.firestore,ol),l=fw(o);let h;return h=typeof(e=Ot(e))=="string"||e instanceof zc?fC(l,"updateDoc",r._key,e,t,i):dC(l,"updateDoc",r._key,e),Ew(o,[h.toMutation(r._key,ar.exists(!0))])}function EC(r,...e){r=Ot(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||$y(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if($y(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let l,h,m;if(r instanceof It)h=Cs(r.firestore,ol),m=Pf(r._key.path),l={next:g=>{e[i]&&e[i](TC(h,r,g))},error:e[i+1],complete:e[i+2]};else{const g=Cs(r,Uc);h=Cs(g.firestore,ol),m=g._query;const _=new vw(h);l={next:E=>{e[i]&&e[i](new Ao(h,_,g,E))},error:e[i+1],complete:e[i+2]},gC(r._query)}return(function(_,E,I,C){const z=new tC(C),G=new MA(E,z,I);return _.asyncQueue.enqueueAndForget((async()=>bA(await My(_),G))),()=>{z.Nu(),_.asyncQueue.enqueueAndForget((async()=>DA(await My(_),G)))}})(cw(h),m,o,l)}function Ew(r,e){return(function(i,o){const l=new pi;return i.asyncQueue.enqueueAndForget((async()=>qA(await sC(i),o,l))),l.promise})(cw(r),e)}function TC(r,e,t){const i=t.docs.get(e._key),o=new vw(r);return new mi(r,o,e._key,i,new $a(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Lo=o})(Oo),Co(new yi("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),m=new ol(new lS(i.getProvider("auth-internal")),new hS(h,i.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(_.options.projectId,E)})(h,o),h);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),ks(Kg,Qg,e),ks(Kg,Qg,"esm2020")})();const IC={apiKey:"AIzaSyBYuHWfYIfbzaZrVIlUtRmUMbeI3it3i7g",authDomain:"english-learning-game-989e9.firebaseapp.com",projectId:"english-learning-game-989e9",storageBucket:"english-learning-game-989e9.firebasestorage.app",messagingSenderId:"404587848000",appId:"1:404587848000:web:61cf3f8b8b9eb5bc551aa5"},Tw=u_(IC),wc=sS(Tw),af=oC(Tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Hy=r=>{const e=kC(r);return e.charAt(0).toUpperCase()+e.slice(1)},Iw=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:h,...m},g)=>fe.createElement("svg",{ref:g,...AC,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Iw("lucide",o),...m},[...h.map(([_,E])=>fe.createElement(_,E)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(r,e)=>{const t=fe.forwardRef(({className:i,...o},l)=>fe.createElement(CC,{ref:l,iconNode:e,className:Iw(`lucide-${SC(Hy(r))}`,`lucide-${r}`,i),...o}));return t.displayName=Hy(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hc=Kt("arrow-left",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jf=Kt("arrow-right",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sw=Kt("book-open",xC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],al=Kt("check",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DC=Kt("file-text",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],OC=Kt("house",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],LC=Kt("languages",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jC=Kt("lightbulb",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zC=Kt("loader-circle",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$C=Kt("log-out",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],WC=Kt("puzzle",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ll=Kt("rotate-ccw",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],KC=Kt("shuffle",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],kw=Kt("trophy",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ec=Kt("x",YC);function XC(){const[r,e]=fe.useState(!0),[t,i]=fe.useState(""),[o,l]=fe.useState(""),[h,m]=fe.useState(""),[g,_]=fe.useState(!1),E=async I=>{I.preventDefault(),m(""),_(!0);try{if(r)await $I(wc,t,o);else{const C=await BI(wc,t,o);await ww(sf(af,"scores",C.user.uid),{wordMatch:0,fillBlank:0,translation:0,letterScramble:0})}}catch{m("      ")}finally{_(!1)}};return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4",dir:"rtl",children:R.jsxs("div",{className:"max-w-[500px] rounded-2xl shadow-2xl p-8",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:R.jsx(Sw,{className:"w-10 h-10 text-white"})}),R.jsx("h1",{className:"text-3xl font-bold",children:" "}),R.jsx("p",{className:"text-gray-600 mt-2",children:" !"})]}),R.jsxs("form",{onSubmit:E,className:"space-y-6",children:[R.jsx("input",{type:"email",required:!0,value:t,onChange:I=>i(I.target.value),placeholder:" ",className:"w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-300 focus:border-purple-500 transition",dir:"ltr"}),R.jsx("input",{type:"password",required:!0,value:o,onChange:I=>l(I.target.value),placeholder:" ",className:"w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-300 focus:border-purple-500 transition",dir:"ltr"}),h&&R.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl text-center font-medium",children:h}),R.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-xl py-4 rounded-xl hover:opacity-90 transition flex items-center justify-center gap-3 disabled:opacity-70",children:g?R.jsx(zC,{className:"w-6 h-6 animate-spin"}):r?" ":" "})]}),R.jsx("button",{onClick:()=>{e(!r),m("")},className:"mt-6 text-purple-600 hover:text-purple-800 font-medium w-full text-center underline",children:r?"    ":"   "})]})})}function JC({onSelectGame:r}){const e=[{id:"wordMatch",title:" ",description:"    ",icon:WC,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50"},{id:"fillBlank",title:" ",description:"   ",icon:DC,color:"from-green-500 to-green-600",bgColor:"bg-green-50"},{id:"translation",title:"",description:"   ",icon:LC,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50"},{id:"letterScramble",title:" ",description:"    ",icon:KC,color:"from-pink-500 to-pink-600",bgColor:"bg-pink-50"}];return R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("h2",{className:"text-xl mb-1",children:" "}),R.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),R.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(t=>{const i=t.icon;return R.jsx("button",{onClick:()=>r(t.id),className:`${t.bgColor} p-4 rounded-xl border-2 border-transparent hover:border-gray-300 transition-all active:scale-95 group`,children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${t.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:R.jsx(i,{className:"w-7 h-7 text-white"})}),R.jsxs("div",{className:"flex-1 text-right",children:[R.jsx("h3",{className:"text-base mb-1",children:t.title}),R.jsx("p",{className:"text-gray-600 text-xs",children:t.description})]})]})},t.id)})})]})}function Wy(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function ZC(...r){return e=>{let t=!1;const i=r.map(o=>{const l=Wy(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Wy(r[o],null)}}}}var eR=Symbol.for("react.lazy"),Tc=iE[" use ".trim().toString()];function tR(r){return typeof r=="object"&&r!==null&&"then"in r}function Aw(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===eR&&"_payload"in r&&tR(r._payload)}function nR(r){const e=sR(r),t=fe.forwardRef((i,o)=>{let{children:l,...h}=i;Aw(l)&&typeof Tc=="function"&&(l=Tc(l._payload));const m=fe.Children.toArray(l),g=m.find(oR);if(g){const _=g.props.children,E=m.map(I=>I===g?fe.Children.count(_)>1?fe.Children.only(null):fe.isValidElement(_)?_.props.children:null:I);return R.jsx(e,{...h,ref:o,children:fe.isValidElement(_)?fe.cloneElement(_,void 0,E):null})}return R.jsx(e,{...h,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var rR=nR("Slot");function sR(r){const e=fe.forwardRef((t,i)=>{let{children:o,...l}=t;if(Aw(o)&&typeof Tc=="function"&&(o=Tc(o._payload)),fe.isValidElement(o)){const h=lR(o),m=aR(l,o.props);return o.type!==fe.Fragment&&(m.ref=i?ZC(i,h):h),fe.cloneElement(o,m)}return fe.Children.count(o)>1?fe.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var iR=Symbol("radix.slottable");function oR(r){return fe.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===iR}function aR(r,e){const t={...e};for(const i in e){const o=r[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?t[i]=(...m)=>{const g=l(...m);return o(...m),g}:o&&(t[i]=o):i==="style"?t[i]={...o,...l}:i==="className"&&(t[i]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function lR(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Cw(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Cw(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Rw(){for(var r,e,t=0,i="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Cw(r))&&(i&&(i+=" "),i+=e);return i}const qy=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Gy=Rw,uR=(r,e)=>t=>{var i;if(e?.variants==null)return Gy(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,h=Object.keys(o).map(_=>{const E=t?.[_],I=l?.[_];if(E===null)return null;const C=qy(E)||qy(I);return o[_][C]}),m=t&&Object.entries(t).reduce((_,E)=>{let[I,C]=E;return C===void 0||(_[I]=C),_},{}),g=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((_,E)=>{let{class:I,className:C,...z}=E;return Object.entries(z).every(G=>{let[q,B]=G;return Array.isArray(B)?B.includes({...l,...m}[q]):{...l,...m}[q]===B})?[..._,I,C]:_},[]);return Gy(r,h,g,t?.class,t?.className)},cR=(r,e)=>{const t=new Array(r.length+e.length);for(let i=0;i<r.length;i++)t[i]=r[i];for(let i=0;i<e.length;i++)t[r.length+i]=e[i];return t},hR=(r,e)=>({classGroupId:r,validator:e}),Pw=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),Ic="-",Ky=[],dR="arbitrary..",fR=r=>{const e=mR(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return pR(h);const m=h.split(Ic),g=m[0]===""&&m.length>1?1:0;return xw(m,g,e)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=i[h],_=t[h];return g?_?cR(_,g):g:_||Ky}return t[h]||Ky}}},xw=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const _=xw(r,e+1,l);if(_)return _}const h=t.validators;if(h===null)return;const m=e===0?r.join(Ic):r.slice(e).join(Ic),g=h.length;for(let _=0;_<g;_++){const E=h[_];if(E.validator(m))return E.classGroupId}},pR=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?dR+i:void 0})(),mR=r=>{const{theme:e,classGroups:t}=r;return gR(t,e)},gR=(r,e)=>{const t=Pw();for(const i in r){const o=r[i];Zf(o,t,i,e)}return t},Zf=(r,e,t,i)=>{const o=r.length;for(let l=0;l<o;l++){const h=r[l];yR(h,e,t,i)}},yR=(r,e,t,i)=>{if(typeof r=="string"){_R(r,e,t);return}if(typeof r=="function"){vR(r,e,t,i);return}wR(r,e,t,i)},_R=(r,e,t)=>{const i=r===""?e:Nw(e,r);i.classGroupId=t},vR=(r,e,t,i)=>{if(ER(r)){Zf(r(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(hR(t,r))},wR=(r,e,t,i)=>{const o=Object.entries(r),l=o.length;for(let h=0;h<l;h++){const[m,g]=o[h];Zf(g,Nw(e,m),t,i)}},Nw=(r,e)=>{let t=r;const i=e.split(Ic),o=i.length;for(let l=0;l<o;l++){const h=i[l];let m=t.nextPart.get(h);m||(m=Pw(),t.nextPart.set(h,m)),t=m}return t},ER=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,TR=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const o=(l,h)=>{t[l]=h,e++,e>r&&(e=0,i=t,t=Object.create(null))};return{get(l){let h=t[l];if(h!==void 0)return h;if((h=i[l])!==void 0)return o(l,h),h},set(l,h){l in t?t[l]=h:o(l,h)}}},lf="!",Qy=":",IR=[],Yy=(r,e,t,i,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:o}),SR=r=>{const{prefix:e,experimentalParseClassName:t}=r;let i=o=>{const l=[];let h=0,m=0,g=0,_;const E=o.length;for(let q=0;q<E;q++){const B=o[q];if(h===0&&m===0){if(B===Qy){l.push(o.slice(g,q)),g=q+1;continue}if(B==="/"){_=q;continue}}B==="["?h++:B==="]"?h--:B==="("?m++:B===")"&&m--}const I=l.length===0?o:o.slice(g);let C=I,z=!1;I.endsWith(lf)?(C=I.slice(0,-1),z=!0):I.startsWith(lf)&&(C=I.slice(1),z=!0);const G=_&&_>g?_-g:void 0;return Yy(l,z,C,G)};if(e){const o=e+Qy,l=i;i=h=>h.startsWith(o)?l(h.slice(o.length)):Yy(IR,!1,h,void 0,!0)}if(t){const o=i;i=l=>t({className:l,parseClassName:o})}return i},kR=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let o=[];for(let l=0;l<t.length;l++){const h=t[l],m=h[0]==="[",g=e.has(h);m||g?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(h)):o.push(h)}return o.length>0&&(o.sort(),i.push(...o)),i}},AR=r=>({cache:TR(r.cacheSize),parseClassName:SR(r),sortModifiers:kR(r),...fR(r)}),CR=/\s+/,RR=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,h=[],m=r.trim().split(CR);let g="";for(let _=m.length-1;_>=0;_-=1){const E=m[_],{isExternal:I,modifiers:C,hasImportantModifier:z,baseClassName:G,maybePostfixModifierPosition:q}=t(E);if(I){g=E+(g.length>0?" "+g:g);continue}let B=!!q,ne=i(B?G.substring(0,q):G);if(!ne){if(!B){g=E+(g.length>0?" "+g:g);continue}if(ne=i(G),!ne){g=E+(g.length>0?" "+g:g);continue}B=!1}const te=C.length===0?"":C.length===1?C[0]:l(C).join(":"),J=z?te+lf:te,Se=J+ne;if(h.indexOf(Se)>-1)continue;h.push(Se);const Le=o(ne,B);for(let Ae=0;Ae<Le.length;++Ae){const x=Le[Ae];h.push(J+x)}g=E+(g.length>0?" "+g:g)}return g},PR=(...r)=>{let e=0,t,i,o="";for(;e<r.length;)(t=r[e++])&&(i=bw(t))&&(o&&(o+=" "),o+=i);return o},bw=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=bw(r[i]))&&(t&&(t+=" "),t+=e);return t},xR=(r,...e)=>{let t,i,o,l;const h=g=>{const _=e.reduce((E,I)=>I(E),r());return t=AR(_),i=t.cache.get,o=t.cache.set,l=m,m(g)},m=g=>{const _=i(g);if(_)return _;const E=RR(g,t);return o(g,E),E};return l=h,(...g)=>l(PR(...g))},NR=[],Et=r=>{const e=t=>t[r]||NR;return e.isThemeGetter=!0,e},Dw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Vw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bR=/^\d+\/\d+$/,DR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,MR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fo=r=>bR.test(r),Ne=r=>!!r&&!Number.isNaN(Number(r)),ys=r=>!!r&&Number.isInteger(Number(r)),Nd=r=>r.endsWith("%")&&Ne(r.slice(0,-1)),Nr=r=>DR.test(r),FR=()=>!0,jR=r=>VR.test(r)&&!OR.test(r),Ow=()=>!1,UR=r=>MR.test(r),zR=r=>LR.test(r),BR=r=>!le(r)&&!ue(r),$R=r=>zo(r,Fw,Ow),le=r=>Dw.test(r),hi=r=>zo(r,jw,jR),bd=r=>zo(r,KR,Ne),Xy=r=>zo(r,Mw,Ow),HR=r=>zo(r,Lw,zR),Bu=r=>zo(r,Uw,UR),ue=r=>Vw.test(r),La=r=>Bo(r,jw),WR=r=>Bo(r,QR),Jy=r=>Bo(r,Mw),qR=r=>Bo(r,Fw),GR=r=>Bo(r,Lw),$u=r=>Bo(r,Uw,!0),zo=(r,e,t)=>{const i=Dw.exec(r);return i?i[1]?e(i[1]):t(i[2]):!1},Bo=(r,e,t=!1)=>{const i=Vw.exec(r);return i?i[1]?e(i[1]):t:!1},Mw=r=>r==="position"||r==="percentage",Lw=r=>r==="image"||r==="url",Fw=r=>r==="length"||r==="size"||r==="bg-size",jw=r=>r==="length",KR=r=>r==="number",QR=r=>r==="family-name",Uw=r=>r==="shadow",YR=()=>{const r=Et("color"),e=Et("font"),t=Et("text"),i=Et("font-weight"),o=Et("tracking"),l=Et("leading"),h=Et("breakpoint"),m=Et("container"),g=Et("spacing"),_=Et("radius"),E=Et("shadow"),I=Et("inset-shadow"),C=Et("text-shadow"),z=Et("drop-shadow"),G=Et("blur"),q=Et("perspective"),B=Et("aspect"),ne=Et("ease"),te=Et("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Le=()=>[...Se(),ue,le],Ae=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],T=()=>[ue,le,g],k=()=>[fo,"full","auto",...T()],b=()=>[ys,"none","subgrid",ue,le],N=()=>["auto",{span:["full",ys,ue,le]},ys,ue,le],O=()=>[ys,"auto",ue,le],A=()=>["auto","min","max","fr",ue,le],We=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Xe=()=>["start","end","center","stretch","center-safe","end-safe"],Qe=()=>["auto",...T()],ze=()=>[fo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],$=()=>[r,ue,le],pe=()=>[...Se(),Jy,Xy,{position:[ue,le]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",qR,$R,{size:[ue,le]}],W=()=>[Nd,La,hi],de=()=>["","none","full",_,ue,le],ge=()=>["",Ne,La,hi],Pe=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Ne,Nd,Jy,Xy],De=()=>["","none",G,ue,le],Be=()=>["none",Ne,ue,le],ft=()=>["none",Ne,ue,le],Ln=()=>[Ne,ue,le],Fn=()=>[fo,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nr],breakpoint:[Nr],color:[FR],container:[Nr],"drop-shadow":[Nr],ease:["in","out","in-out"],font:[BR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nr],shadow:[Nr],spacing:["px",Ne],text:[Nr],"text-shadow":[Nr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fo,le,ue,B]}],container:["container"],columns:[{columns:[Ne,le,ue,m]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Le()}],overflow:[{overflow:Ae()}],"overflow-x":[{"overflow-x":Ae()}],"overflow-y":[{"overflow-y":Ae()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ys,"auto",ue,le]}],basis:[{basis:[fo,"full","auto",m,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,fo,"auto","initial","none",le]}],grow:[{grow:["",Ne,ue,le]}],shrink:[{shrink:["",Ne,ue,le]}],order:[{order:[ys,"first","last","none",ue,le]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...We(),"normal"]}],"justify-items":[{"justify-items":[...Xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Xe()]}],"align-content":[{content:["normal",...We()]}],"align-items":[{items:[...Xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":We()}],"place-items":[{"place-items":[...Xe(),"baseline"]}],"place-self":[{"place-self":["auto",...Xe()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Qe()}],mx:[{mx:Qe()}],my:[{my:Qe()}],ms:[{ms:Qe()}],me:[{me:Qe()}],mt:[{mt:Qe()}],mr:[{mr:Qe()}],mb:[{mb:Qe()}],ml:[{ml:Qe()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ze()}],w:[{w:[m,"screen",...ze()]}],"min-w":[{"min-w":[m,"screen","none",...ze()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...ze()]}],h:[{h:["screen","lh",...ze()]}],"min-h":[{"min-h":["screen","lh","none",...ze()]}],"max-h":[{"max-h":["screen","lh",...ze()]}],"font-size":[{text:["base",t,La,hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ue,bd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nd,le]}],"font-family":[{font:[WR,le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ue,le]}],"line-clamp":[{"line-clamp":[Ne,"none",ue,bd]}],leading:[{leading:[l,...T()]}],"list-image":[{"list-image":["none",ue,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",ue,hi]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ne,"auto",ue,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ys,ue,le],radial:["",ue,le],conic:[ys,ue,le]},GR,HR]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,ue,le]}],"outline-w":[{outline:["",Ne,La,hi]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",E,$u,Bu]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",I,$u,Bu]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ne,hi]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",C,$u,Bu]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ne,ue,le]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ue,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Se()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,le]}],filter:[{filter:["","none",ue,le]}],blur:[{blur:De()}],brightness:[{brightness:[Ne,ue,le]}],contrast:[{contrast:[Ne,ue,le]}],"drop-shadow":[{"drop-shadow":["","none",z,$u,Bu]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ne,ue,le]}],"hue-rotate":[{"hue-rotate":[Ne,ue,le]}],invert:[{invert:["",Ne,ue,le]}],saturate:[{saturate:[Ne,ue,le]}],sepia:[{sepia:["",Ne,ue,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,le]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,ue,le]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,ue,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,ue,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,ue,le]}],"backdrop-invert":[{"backdrop-invert":["",Ne,ue,le]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,ue,le]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,ue,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,ue,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",ue,le]}],ease:[{ease:["linear","initial",ne,ue,le]}],delay:[{delay:[Ne,ue,le]}],animate:[{animate:["none",te,ue,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[q,ue,le]}],"perspective-origin":[{"perspective-origin":Le()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:ft()}],"scale-x":[{"scale-x":ft()}],"scale-y":[{"scale-y":ft()}],"scale-z":[{"scale-z":ft()}],"scale-3d":["scale-3d"],skew:[{skew:Ln()}],"skew-x":[{"skew-x":Ln()}],"skew-y":[{"skew-y":Ln()}],transform:[{transform:[ue,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:Le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fn()}],"translate-x":[{"translate-x":Fn()}],"translate-y":[{"translate-y":Fn()}],"translate-z":[{"translate-z":Fn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,le]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ne,La,hi,bd]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XR=xR(YR);function JR(...r){return XR(Rw(r))}const ZR=uR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function rn({className:r,variant:e,size:t,asChild:i=!1,...o}){const l=i?rR:"button";return R.jsx(l,{"data-slot":"button",className:JR(ZR({variant:e,size:t,className:r})),...o})}const eP=[{id:1,english:"Apple",arabic:""},{id:2,english:"Book",arabic:""},{id:3,english:"Cat",arabic:""},{id:4,english:"Dog",arabic:""},{id:5,english:"House",arabic:""},{id:6,english:"Car",arabic:""},{id:7,english:"Tree",arabic:""},{id:8,english:"Water",arabic:""}];function tP({onBack:r,onScore:e}){const[t,i]=fe.useState([]),[o,l]=fe.useState(null),[h,m]=fe.useState(null),[g,_]=fe.useState([]),[E,I]=fe.useState(null),[C,z]=fe.useState(0);fe.useEffect(()=>{G()},[]);const G=()=>{const J=[...eP].sort(()=>Math.random()-.5).slice(0,6);i(J),_([]),l(null),m(null),I(null),z(0)},q=J=>{g.includes(J)||(l(J),h!==null&&ne(J,h))},B=J=>{g.includes(J)||(m(J),o!==null&&ne(o,J))},ne=(J,Se)=>{J===Se?(_([...g,J]),z(C+10),e(10),l(null),m(null)):(I({english:J,arabic:Se}),setTimeout(()=>{I(null),l(null),m(null)},1e3))},te=[...t].sort(()=>Math.random()-.5);return R.jsx("div",{children:R.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs(rn,{onClick:r,variant:"ghost",size:"sm",className:"gap-1 px-2",children:["",R.jsx(Hc,{className:"w-4 h-4"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(rn,{onClick:G,variant:"outline",size:"sm",className:"gap-1 px-2",children:R.jsx(ll,{className:"w-3.5 h-3.5"})}),R.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-100 rounded-lg",children:R.jsxs("span",{className:"text-sm text-blue-900",children:[": ",C]})})]})]}),R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("h2",{className:"text-lg mb-1",children:" "}),R.jsx("p",{className:"text-xs text-gray-600",children:"     "})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("h3",{className:"text-center text-sm text-gray-700",children:"English"}),t.map(J=>R.jsx("button",{onClick:()=>q(J.id),disabled:g.includes(J.id),className:`w-full p-3 rounded-lg border-2 transition-all active:scale-95 ${g.includes(J.id)?"bg-green-100 border-green-500 opacity-50":o===J.id?"bg-blue-100 border-blue-500 scale-105":E?.english===J.id?"bg-red-100 border-red-500 shake":"bg-white border-gray-200"}`,children:R.jsxs("div",{className:"flex items-center justify-between",children:[g.includes(J.id)&&R.jsx(al,{className:"w-4 h-4 text-green-600"}),E?.english===J.id&&R.jsx(Ec,{className:"w-4 h-4 text-red-600"}),R.jsx("span",{className:"text-sm",children:J.english})]})},`en-${J.id}`))]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("h3",{className:"text-center text-sm text-gray-700",children:""}),te.map(J=>R.jsx("button",{onClick:()=>B(J.id),disabled:g.includes(J.id),className:`w-full p-3 rounded-lg border-2 transition-all active:scale-95 ${g.includes(J.id)?"bg-green-100 border-green-500 opacity-50":h===J.id?"bg-blue-100 border-blue-500 scale-105":E?.arabic===J.id?"bg-red-100 border-red-500 shake":"bg-white border-gray-200"}`,children:R.jsxs("div",{className:"flex items-center justify-between",children:[g.includes(J.id)&&R.jsx(al,{className:"w-4 h-4 text-green-600"}),E?.arabic===J.id&&R.jsx(Ec,{className:"w-4 h-4 text-red-600"}),R.jsx("span",{className:"text-sm",children:J.arabic})]})},`ar-${J.id}`))]})]}),g.length===t.length&&R.jsxs("div",{className:"mt-6 text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border-2 border-green-300",children:[R.jsx("h3",{className:"text-lg mb-1",children:"! "}),R.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"   !"}),R.jsxs(rn,{onClick:G,size:"sm",className:"gap-2",children:[R.jsx(ll,{className:"w-3.5 h-3.5"}),"  "]})]})]})})}const po=[{id:1,sentence:"I ___ a student.",blank:"am",options:["am","is","are"],translation:" "},{id:2,sentence:"She ___ a teacher.",blank:"is",options:["am","is","are"],translation:" "},{id:3,sentence:"They ___ happy.",blank:"are",options:["am","is","are"],translation:" "},{id:4,sentence:"I ___ to school every day.",blank:"go",options:["go","goes","going"],translation:"    "},{id:5,sentence:"He ___ English very well.",blank:"speaks",options:["speak","speaks","speaking"],translation:"   "},{id:6,sentence:"We ___ a big house.",blank:"have",options:["have","has","having"],translation:"  "},{id:7,sentence:"The cat ___ on the table.",blank:"is",options:["am","is","are"],translation:"  "},{id:8,sentence:"I ___ my homework yesterday.",blank:"did",options:["do","did","does"],translation:"   "}];function nP({onBack:r,onScore:e}){const[t,i]=fe.useState(0),[o,l]=fe.useState(null),[h,m]=fe.useState(null),[g,_]=fe.useState(0),[E,I]=fe.useState(0),C=po[t],z=te=>{l(te);const J=te===C.blank;m(J),J&&(_(g+10),e(10)),I(E+1)},G=()=>{t<po.length-1&&(i(t+1),l(null),m(null))},q=()=>{i(0),l(null),m(null),_(0),I(0)},B=()=>{const te=C.sentence.split("___");return R.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-xl md:text-2xl",children:[R.jsx("span",{children:te[0]}),R.jsx("span",{className:`px-4 py-2 rounded-lg border-2 border-dashed min-w-[100px] text-center ${o?h?"bg-green-100 border-green-500 text-green-900":"bg-red-100 border-red-500 text-red-900":"bg-blue-50 border-blue-300"}`,children:o||"___"}),R.jsx("span",{children:te[1]})]})},ne=E===po.length;return R.jsx("div",{children:R.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs(rn,{onClick:r,variant:"ghost",size:"sm",className:"gap-1 px-2",children:["",R.jsx(Hc,{className:"w-4 h-4"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-100 rounded-lg",children:R.jsx("span",{className:"text-sm text-green-900",children:g})}),R.jsxs("div",{className:"text-xs text-gray-600",children:[t+1,"/",po.length]})]})]}),R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("h2",{className:"text-lg mb-1",children:" "}),R.jsx("p",{className:"text-xs text-gray-600",children:"  "})]}),ne?R.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border-2 border-green-300",children:[R.jsx("h3",{className:"text-lg mb-1",children:"! "}),R.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"   !"}),R.jsxs("p",{className:"text-base mb-4",children:[": ",g,"/",po.length*10]}),R.jsxs(rn,{onClick:q,size:"sm",className:"gap-2",children:[R.jsx(ll,{className:"w-4 h-4"}),"  "]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4",children:[B(),R.jsx("div",{className:"text-center mt-2 text-xs text-gray-600",children:C.translation})]}),R.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:C.options.map((te,J)=>R.jsx("button",{onClick:()=>z(te),disabled:o!==null,className:`p-3 rounded-lg border-2 transition-all active:scale-95 ${o===te?h?"bg-green-100 border-green-500 scale-105":"bg-red-100 border-red-500":o!==null&&te===C.blank?"bg-green-100 border-green-500":"bg-white border-gray-200"} ${o!==null?"cursor-not-allowed":"cursor-pointer"}`,children:R.jsxs("div",{className:"flex items-center justify-between",children:[o===te&&h&&R.jsx(al,{className:"w-4 h-4 text-green-600"}),o===te&&!h&&R.jsx(Ec,{className:"w-4 h-4 text-red-600"}),R.jsx("span",{className:"text-sm",children:te})]})},J))}),o&&R.jsx("div",{className:`p-3 rounded-lg mb-4 ${h?"bg-green-50 border-2 border-green-300":"bg-red-50 border-2 border-red-300"}`,children:R.jsx("p",{className:"text-center text-xs",children:h?"  ! !":`  : ${C.blank}`})}),o&&t<po.length-1&&R.jsx("div",{className:"text-center",children:R.jsxs(rn,{onClick:G,size:"sm",className:"gap-2",children:[" ",R.jsx(Jf,{className:"w-4 h-4"})]})})]})]})})}const mo=[{id:1,word:"Happy",correct:"",options:["","","",""]},{id:2,word:"Beautiful",correct:"",options:["","","",""]},{id:3,word:"Friend",correct:"",options:["","","",""]},{id:4,word:"School",correct:"",options:["","","",""]},{id:5,word:"Food",correct:"",options:["","","",""]},{id:6,word:"Sun",correct:"",options:["","","",""]},{id:7,word:"Fast",correct:"",options:["","","",""]},{id:8,word:"Love",correct:"",options:["","","",""]},{id:9,word:"Cold",correct:"",options:["","","",""]},{id:10,word:"Night",correct:"",options:["","","",""]}];function rP({onBack:r,onScore:e}){const[t,i]=fe.useState(0),[o,l]=fe.useState(null),[h,m]=fe.useState(null),[g,_]=fe.useState(0),[E,I]=fe.useState(0),C=mo[t],z=ne=>{l(ne);const te=ne===C.correct;m(te),te&&(_(g+10),e(10)),I(E+1)},G=()=>{t<mo.length-1&&(i(t+1),l(null),m(null))},q=()=>{i(0),l(null),m(null),_(0),I(0)},B=E===mo.length;return R.jsx("div",{children:R.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs(rn,{onClick:r,variant:"ghost",size:"sm",className:"gap-1 px-2",children:["",R.jsx(Hc,{className:"w-4 h-4"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-100 rounded-lg",children:R.jsx("span",{className:"text-sm text-purple-900",children:g})}),R.jsxs("div",{className:"text-xs text-gray-600",children:[t+1,"/",mo.length]})]})]}),R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("h2",{className:"text-lg mb-1",children:" "}),R.jsx("p",{className:"text-xs text-gray-600",children:"  "})]}),B?R.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border-2 border-purple-300",children:[R.jsx("h3",{className:"text-lg mb-1",children:"! "}),R.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"   !"}),R.jsxs("p",{className:"text-base mb-4",children:[": ",g,"/",mo.length*10]}),R.jsxs(rn,{onClick:q,size:"sm",className:"gap-2",children:[R.jsx(ll,{className:"w-4 h-4"}),"  "]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-8 mb-4 text-center",children:[R.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"   "}),R.jsx("h3",{className:"text-3xl",children:C.word})]}),R.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:C.options.map((ne,te)=>R.jsx("button",{onClick:()=>z(ne),disabled:o!==null,className:`p-3 rounded-lg border-2 transition-all active:scale-95 ${o===ne?h?"bg-green-100 border-green-500 scale-105":"bg-red-100 border-red-500":o!==null&&ne===C.correct?"bg-green-100 border-green-500":"bg-white border-gray-200"} ${o!==null?"cursor-not-allowed":"cursor-pointer"}`,children:R.jsxs("div",{className:"flex items-center justify-between",children:[o===ne&&h&&R.jsx(al,{className:"w-4 h-4 text-green-600"}),o===ne&&!h&&R.jsx(Ec,{className:"w-4 h-4 text-red-600"}),R.jsx("span",{className:"text-sm",children:ne})]})},te))}),o&&R.jsx("div",{className:`p-3 rounded-lg mb-4 ${h?"bg-green-50 border-2 border-green-300":"bg-red-50 border-2 border-red-300"}`,children:R.jsx("p",{className:"text-center text-xs",children:h?"  ! !":`  : ${C.correct}`})}),o&&t<mo.length-1&&R.jsx("div",{className:"text-center",children:R.jsxs(rn,{onClick:G,size:"sm",className:"gap-2",children:[" ",R.jsx(Jf,{className:"w-4 h-4"})]})})]})]})})}const go=[{id:1,word:"APPLE",hint:"A red or green fruit",translation:""},{id:2,word:"HELLO",hint:"A greeting",translation:""},{id:3,word:"WATER",hint:"A drink",translation:""},{id:4,word:"BOOK",hint:"You read it",translation:""},{id:5,word:"PHONE",hint:"You call with it",translation:""},{id:6,word:"CHAIR",hint:"You sit on it",translation:""},{id:7,word:"TABLE",hint:"You eat on it",translation:""},{id:8,word:"HAPPY",hint:"A feeling of joy",translation:""},{id:9,word:"MUSIC",hint:"You listen to it",translation:""},{id:10,word:"SMILE",hint:"You do it when happy",translation:""}];function sP({onBack:r,onScore:e}){const[t,i]=fe.useState(0),[o,l]=fe.useState(""),[h,m]=fe.useState(""),[g,_]=fe.useState(!1),[E,I]=fe.useState(null),[C,z]=fe.useState(0),[G,q]=fe.useState(!1),[B,ne]=fe.useState(0),te=go[t];fe.useEffect(()=>{J(te.word)},[t]);const J=T=>{const k=T.split("");for(let b=k.length-1;b>0;b--){const N=Math.floor(Math.random()*(b+1));[k[b],k[N]]=[k[N],k[b]]}l(k.join(""))},Se=()=>{const T=h.toUpperCase()===te.word;if(I(T),_(!0),T){const k=G?5:10;z(C+k),e(k)}ne(B+1)},Le=()=>{t<go.length-1&&(i(t+1),m(""),_(!1),I(null),q(!1))},Ae=()=>{i(0),m(""),_(!1),I(null),z(0),q(!1),ne(0)},x=B===go.length;return R.jsx("div",{children:R.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs(rn,{onClick:r,variant:"ghost",size:"sm",className:"gap-1 px-2",children:["",R.jsx(Hc,{className:"w-4 h-4"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-pink-100 rounded-lg",children:R.jsx("span",{className:"text-sm text-pink-900",children:C})}),R.jsxs("div",{className:"text-xs text-gray-600",children:[t+1,"/",go.length]})]})]}),R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("h2",{className:"text-lg mb-1",children:" "}),R.jsx("p",{className:"text-xs text-gray-600",children:"   "})]}),x?R.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg border-2 border-pink-300",children:[R.jsx("h3",{className:"text-lg mb-1",children:"! "}),R.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"   !"}),R.jsxs("p",{className:"text-base mb-4",children:[": ",C,"/",go.length*10]}),R.jsxs(rn,{onClick:Ae,size:"sm",className:"gap-2",children:[R.jsx(ll,{className:"w-4 h-4"}),"  "]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-4 mb-4",children:[R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"  :"}),R.jsx("div",{className:"flex justify-center gap-1 mb-3 flex-wrap",children:o.split("").map((T,k)=>R.jsx("div",{className:"w-10 h-10 bg-white border-2 border-pink-300 rounded-lg flex items-center justify-center text-lg shadow-sm",children:T},k))}),R.jsxs("p",{className:"text-xs text-gray-500",children:["(",te.translation,")"]})]}),R.jsx("div",{children:R.jsx("input",{type:"text",value:h,onChange:T=>m(T.target.value),disabled:g,placeholder:"  ",className:`w-full px-4 py-2.5 rounded-lg border-2 text-center uppercase ${g?E?"border-green-500 bg-green-50":"border-red-500 bg-red-50":"border-gray-300 focus:border-pink-500 focus:outline-none"}`,onKeyPress:T=>{T.key==="Enter"&&!g&&h.trim()&&Se()}})})]}),!g&&R.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[R.jsxs(rn,{onClick:Se,disabled:!h.trim(),size:"sm",className:"gap-1.5 flex-1",children:[R.jsx(al,{className:"w-3.5 h-3.5"}),""]}),R.jsxs(rn,{onClick:()=>q(!0),variant:"outline",size:"sm",className:"gap-1.5 flex-1",disabled:G,children:[R.jsx(jC,{className:"w-3.5 h-3.5"}),""]})]}),G&&!g&&R.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-3 mb-4 text-center",children:R.jsxs("p",{className:"text-xs text-blue-900",children:[" ",te.hint]})}),g&&R.jsx("div",{className:`p-3 rounded-lg mb-4 ${E?"bg-green-50 border-2 border-green-300":"bg-red-50 border-2 border-red-300"}`,children:R.jsx("p",{className:"text-center text-xs",children:E?`  ! +${G?5:10} `:`  : ${te.word}`})}),g&&t<go.length-1&&R.jsx("div",{className:"text-center",children:R.jsxs(rn,{onClick:Le,size:"sm",className:"gap-2",children:[" ",R.jsx(Jf,{className:"w-4 h-4"})]})})]})]})})}function iP({scores:r}){const e={wordMatch:" ",fillBlank:" ",translation:"",letterScramble:" "},t=Object.values(r).reduce((i,o)=>i+o,0);return R.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[R.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-amber-600 rounded-lg flex items-center justify-center",children:R.jsx(kw,{className:"w-5 h-5 text-white"})}),R.jsxs("div",{className:"text-right",children:[R.jsx("h2",{className:"text-base",children:""}),R.jsxs("p",{className:"text-gray-500 text-xs",children:[" : ",t]})]})]}),R.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(r).map(([i,o])=>R.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-3 text-center",children:[R.jsx("div",{className:"text-xl text-gray-900 mb-0.5",children:o}),R.jsx("div",{className:"text-xs text-gray-600",children:e[i]})]},i))})]})}function oP(){const[r,e]=fe.useState(null),[t,i]=fe.useState(!0),[o,l]=fe.useState("menu"),[h,m]=fe.useState({wordMatch:0,fillBlank:0,translation:0,letterScramble:0});fe.useEffect(()=>qI(wc,C=>{e(C),i(!1)}),[]),fe.useEffect(()=>{if(!r)return;const I=sf(af,"scores",r.uid);return EC(I,z=>{z.exists()?m(z.data()):(ww(I,{wordMatch:0,fillBlank:0,translation:0,letterScramble:0}),m({wordMatch:0,fillBlank:0,translation:0,letterScramble:0}))})},[r]);const g=async(I,C)=>{if(!r)return;const z=h[I]+C;m(G=>({...G,[I]:z})),await wC(sf(af,"scores",r.uid),{[I]:z})},_=()=>{switch(o){case"wordMatch":return R.jsx(tP,{onBack:()=>l("menu"),onScore:I=>g("wordMatch",I)});case"fillBlank":return R.jsx(nP,{onBack:()=>l("menu"),onScore:I=>g("fillBlank",I)});case"translation":return R.jsx(rP,{onBack:()=>l("menu"),onScore:I=>g("translation",I)});case"letterScramble":return R.jsx(sP,{onBack:()=>l("menu"),onScore:I=>g("letterScramble",I)});default:return R.jsx(JC,{onSelectGame:l})}},E=Object.values(h).reduce((I,C)=>I+C,0);return t?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:R.jsx("div",{className:"animate-spin w-16 h-16 border-8 border-purple-600 rounded-full border-t-transparent"})}):r?R.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",dir:"rtl",children:[R.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-10",children:R.jsx("div",{className:"px-6 py-4",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:R.jsx(Sw,{className:"w-5 h-5 text-white"})}),R.jsxs("div",{className:"text-right",children:[R.jsx("h1",{className:"text-2xl font-bold",children:" "}),R.jsxs("p",{className:"text-sm text-red-600",children:[" ",r.email?.split("@")[0]]})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-amber-100 rounded-lg ml-3",children:[R.jsx(kw,{className:"w-4 h-4 text-amber-600"}),R.jsx("span",{className:"text-2xl font-bold text-amber-900",children:E})]}),o!=="menu"&&R.jsx("button",{onClick:()=>l("menu"),className:"flex items-center justify-center w-9 h-9 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors active:scale-95",children:R.jsx(OC,{className:"w-4 h-4"})}),R.jsx("button",{onClick:()=>GI(wc),className:"p-3  bg-red-100 hover:bg-red-200 flex items-center justify-center  w-9 h-9 rounded-lg transition",children:R.jsx($C,{className:"w-4 h-4 text-red-600"})})]})]})})}),R.jsxs("main",{className:"p-6",children:[o==="menu"&&R.jsx("div",{className:"mb-8",children:R.jsx(iP,{scores:h})}),_()]})]}):R.jsx(XC,{})}rE.createRoot(document.getElementById("root")).render(R.jsx(oP,{}));
